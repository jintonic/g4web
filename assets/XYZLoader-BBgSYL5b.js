import{a4 as u,a6 as f,o as F,Z as d,u as g,F as i}from"./vendor-three-cPJTOjbb.js";class b extends u{load(l,n,t,a){const o=this,s=new f(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(l,function(r){try{n(o.parse(r))}catch(e){a?a(e):console.error(e),o.manager.itemError(l)}},t,a)}parse(l){const n=l.split(`
`),t=[],a=[],o=new F;for(let r of n){if(r=r.trim(),r.charAt(0)==="#")continue;const e=r.split(/\s+/);if(e.length===3&&(t.push(parseFloat(e[0])),t.push(parseFloat(e[1])),t.push(parseFloat(e[2]))),e.length===6){t.push(parseFloat(e[0])),t.push(parseFloat(e[1])),t.push(parseFloat(e[2]));const p=parseFloat(e[3])/255,c=parseFloat(e[4])/255,h=parseFloat(e[5])/255;o.setRGB(p,c,h,d),a.push(o.r,o.g,o.b)}}const s=new g;return s.setAttribute("position",new i(t,3)),a.length>0&&s.setAttribute("color",new i(a,3)),s}}export{b as XYZLoader};
