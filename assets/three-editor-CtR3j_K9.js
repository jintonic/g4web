const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/3DMLoader-BjPY8qgR.js","assets/three-module-Bgl_dleh.js","assets/three-core-B2VhXfyC.js","assets/EXRLoader-BhQuHtqe.js","assets/TDSLoader-_FyYg6w1.js","assets/3MFLoader-D6nS4jxv.js","assets/AMFLoader-DEMytfti.js","assets/ColladaLoader-KMOKAJDP.js","assets/DRACOLoader-IvK0cMCR.js","assets/FBXLoader-C02jTJK-.js","assets/KMZLoader-uIj5dXJu.js","assets/LDrawLoader-D7ud4BsI.js","assets/MD2Loader-H73V22ho.js","assets/OBJLoader-DaMAJesB.js","assets/PCDLoader-Ck52MA2_.js","assets/PLYLoader-CUKzA7h1.js","assets/STLLoader-nFoafLWJ.js","assets/SVGLoader-C_nChOm3.js","assets/USDLoader-DdNpk9b9.js","assets/VOXLoader-CQiP9JFo.js","assets/VTKLoader-6O5oD5J0.js","assets/VRMLLoader-BibuhAaP.js","assets/XYZLoader-DvNUYdQH.js","assets/MTLLoader-BK_keB_w.js","assets/KTX2Loader-CElKkN-S.js","assets/DRACOExporter-DDg5t4J7.js","assets/GLTFExporter-DxKQAaP2.js","assets/OBJExporter-CXpOgj_P.js","assets/PLYExporter-W488bFAd.js","assets/STLExporter-BK_7RAgV.js","assets/USDZExporter-BLtaq93W.js","assets/HDRLoader-Bd45QZq3.js"])))=>i.map(i=>d[i]);
import{P as Us,W as Mn}from"./three-module-Bgl_dleh.js";import{D as Vi,L as Ss,O as Ct,a as Os,P as ua,b as Ra,M as ue,c as K,G as bt,d as Ge,S as xs,A as Dn,B as ji,V as Z,E as at,e as Je,R as Ht,f as Ka,g as Jt,C as Pi,h as Ki,i as xt,j as Ui,k as Oi,H as Hi,l as Hs,m as ja,n as Rn,o as Ve,p as Ji,Q as ke,q as lt,r as Ua,s as Re,t as ve,u as Ut,F as Ot,v as Pt,w as et,T as St,x as Oa,y as vs,z as Yi,I as Ha,J as _n,K as Ln,N as qi,U as Ja,W as Bt,X as zi,Y as Tn,Z as Ye,_ as Ms,$ as pa,a0 as Xi,a1 as us,a2 as Nn,a3 as _a,a4 as Wi,a5 as ma,a6 as Ds,a7 as We,a8 as rt,a9 as Gn,aa as Rs,ab as kn,ac as Fn,ad as Zi,ae as $i,af as er,ag as tr,ah as ar,ai as sr,aj as nr,ak as Vn,al as ms,am as ir,an as rr,ao as es,ap as or,aq as dr,ar as jn,as as Ar,at as ne,au as lr,av as cr,aw as gr,ax as ur,ay as Pn,az as mr,aA as hs,aB as Js,aC as Ys,aD as qs,aE as zs,aF as hr,aG as pr,aH as Kn,aI as Un,aJ as Xs,aK as br,aL as La,aM as fr,aN as yr,aO as On,aP as Cr,aQ as Hn,aR as Jn,aS as Yn,aT as qn,aU as zn,aV as Xn,aW as Wn,aX as Zn,aY as $n,aZ as ei,a_ as Ir,a$ as wr,b0 as ts,b1 as Er,b2 as Br,b3 as Qr,b4 as Sr,b5 as xr,b6 as vr,b7 as Mr,b8 as Dr,b9 as Rr,ba as _r,bb as ti}from"./three-core-B2VhXfyC.js";function Lr(){const a="threejs-editor",e=navigator.language.split("-")[0],s={language:["fr","ja","zh","ko","fa"].includes(e)?e:"en",autosave:!0,"project/title":"","project/editable":!1,"project/vr":!1,"project/renderer/type":"WebGLRenderer","project/renderer/antialias":!0,"project/renderer/shadows":!0,"project/renderer/shadowType":1,"project/renderer/toneMapping":7,"project/renderer/toneMappingExposure":1,"settings/history":!1,"settings/shortcuts/translate":"w","settings/shortcuts/rotate":"e","settings/shortcuts/scale":"r","settings/shortcuts/undo":"z","settings/shortcuts/focus":"f"};if(window.localStorage[a]===void 0)window.localStorage[a]=JSON.stringify(s);else{const n=JSON.parse(window.localStorage[a]);for(const i in n)s[i]=n[i]}return{getKey:function(n){return s[n]},setKey:function(){for(let n=0,i=arguments.length;n<i;n+=2)s[arguments[n]]=arguments[n+1];window.localStorage[a]=JSON.stringify(s),console.log("["+/\d\d\:\d\d\:\d\d/.exec(new Date)[0]+"]","Saved config to LocalStorage.")},clear:function(){delete window.localStorage[a]}}}const Tr="modulepreload",Nr=function(a){return"/g4web/"+a},Ws={},te=function(e,t,s){let n=Promise.resolve();if(t&&t.length>0){let r=function(A){return Promise.all(A.map(c=>Promise.resolve(c).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),d=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=r(t.map(A=>{if(A=Nr(A),A in Ws)return;Ws[A]=!0;const c=A.endsWith(".css"),g=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${g}`))return;const l=document.createElement("link");if(l.rel=c?"stylesheet":Tr,c||(l.as="script"),l.crossOrigin="",l.href=A,d&&l.setAttribute("nonce",d),document.head.appendChild(l),c)return new Promise((u,m)=>{l.addEventListener("load",u),l.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${A}`)))})}))}function i(r){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=r,window.dispatchEvent(o),!o.defaultPrevented)throw r}return n.then(r=>{for(const o of r||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};class ai extends Vi{constructor(e){super(e)}parse(e){function t(N){switch(N.image_type){case l:case p:if(N.colormap_length>256||N.colormap_size!==24||N.colormap_type!==1)throw new Error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case u:case m:case h:case b:if(N.colormap_type)throw new Error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case g:throw new Error("THREE.TGALoader: No data.");default:throw new Error("THREE.TGALoader: Invalid type "+N.image_type)}if(N.width<=0||N.height<=0)throw new Error("THREE.TGALoader: Invalid image size.");if(N.pixel_size!==8&&N.pixel_size!==16&&N.pixel_size!==24&&N.pixel_size!==32)throw new Error("THREE.TGALoader: Invalid pixel size "+N.pixel_size)}function s(N,O,H,j,v){let k,q;const U=H.pixel_size>>3,V=H.width*H.height*U;if(O&&(q=v.subarray(j,j+=H.colormap_length*(H.colormap_size>>3))),N){k=new Uint8Array(V);let P,w,D,R=0;const X=new Uint8Array(U);for(;R<V;)if(P=v[j++],w=(P&127)+1,P&128){for(D=0;D<U;++D)X[D]=v[j++];for(D=0;D<w;++D)k.set(X,R+D*U);R+=U*w}else{for(w*=U,D=0;D<w;++D)k[R+D]=v[j++];R+=w}}else k=v.subarray(j,j+=O?H.width*H.height:V);return{pixel_data:k,palettes:q}}function n(N,O,H,j,v,k,q,U,V){const P=V;let w,D=0,R,X;const T=E.width;for(X=O;X!==j;X+=H)for(R=v;R!==q;R+=k,D++)w=U[D],N[(R+T*X)*4+3]=255,N[(R+T*X)*4+2]=P[w*3+0],N[(R+T*X)*4+1]=P[w*3+1],N[(R+T*X)*4+0]=P[w*3+2];return N}function i(N,O,H,j,v,k,q,U){let V,P=0,w,D;const R=E.width;for(D=O;D!==j;D+=H)for(w=v;w!==q;w+=k,P+=2)V=U[P+0]+(U[P+1]<<8),N[(w+R*D)*4+0]=(V&31744)>>7,N[(w+R*D)*4+1]=(V&992)>>2,N[(w+R*D)*4+2]=(V&31)<<3,N[(w+R*D)*4+3]=V&32768?0:255;return N}function r(N,O,H,j,v,k,q,U){let V=0,P,w;const D=E.width;for(w=O;w!==j;w+=H)for(P=v;P!==q;P+=k,V+=3)N[(P+D*w)*4+3]=255,N[(P+D*w)*4+2]=U[V+0],N[(P+D*w)*4+1]=U[V+1],N[(P+D*w)*4+0]=U[V+2];return N}function o(N,O,H,j,v,k,q,U){let V=0,P,w;const D=E.width;for(w=O;w!==j;w+=H)for(P=v;P!==q;P+=k,V+=4)N[(P+D*w)*4+2]=U[V+0],N[(P+D*w)*4+1]=U[V+1],N[(P+D*w)*4+0]=U[V+2],N[(P+D*w)*4+3]=U[V+3];return N}function d(N,O,H,j,v,k,q,U){let V,P=0,w,D;const R=E.width;for(D=O;D!==j;D+=H)for(w=v;w!==q;w+=k,P++)V=U[P],N[(w+R*D)*4+0]=V,N[(w+R*D)*4+1]=V,N[(w+R*D)*4+2]=V,N[(w+R*D)*4+3]=255;return N}function A(N,O,H,j,v,k,q,U){let V=0,P,w;const D=E.width;for(w=O;w!==j;w+=H)for(P=v;P!==q;P+=k,V+=2)N[(P+D*w)*4+0]=U[V+0],N[(P+D*w)*4+1]=U[V+0],N[(P+D*w)*4+2]=U[V+0],N[(P+D*w)*4+3]=U[V+1];return N}function c(N,O,H,j,v){let k,q,U,V,P,w;switch((E.flags&Q)>>f){default:case _:k=0,U=1,P=O,q=0,V=1,w=H;break;case y:k=0,U=1,P=O,q=H-1,V=-1,w=-1;break;case L:k=O-1,U=-1,P=-1,q=0,V=1,w=H;break;case I:k=O-1,U=-1,P=-1,q=H-1,V=-1,w=-1;break}if($)switch(E.pixel_size){case 8:d(N,q,V,w,k,U,P,j);break;case 16:A(N,q,V,w,k,U,P,j);break;default:throw new Error("THREE.TGALoader: Format not supported.")}else switch(E.pixel_size){case 8:n(N,q,V,w,k,U,P,j,v);break;case 16:i(N,q,V,w,k,U,P,j);break;case 24:r(N,q,V,w,k,U,P,j);break;case 32:o(N,q,V,w,k,U,P,j);break;default:throw new Error("THREE.TGALoader: Format not supported.")}return N}const g=0,l=1,u=2,m=3,p=9,h=10,b=11,Q=48,f=4,y=0,I=1,_=2,L=3;if(e.length<19)throw new Error("THREE.TGALoader: Not enough data to contain header.");let S=0;const M=new Uint8Array(e),E={id_length:M[S++],colormap_type:M[S++],image_type:M[S++],colormap_index:M[S++]|M[S++]<<8,colormap_length:M[S++]|M[S++]<<8,colormap_size:M[S++],origin:[M[S++]|M[S++]<<8,M[S++]|M[S++]<<8],width:M[S++]|M[S++]<<8,height:M[S++]|M[S++]<<8,pixel_size:M[S++],flags:M[S++]};if(t(E),E.id_length+S>e.length)throw new Error("THREE.TGALoader: No data.");S+=E.id_length;let G=!1,F=!1,$=!1;switch(E.image_type){case p:G=!0,F=!0;break;case l:F=!0;break;case h:G=!0;break;case u:break;case b:G=!0,$=!0;break;case m:$=!0;break}const Y=new Uint8Array(E.width*E.height*4),W=s(G,F,E,S,M);return c(Y,E.width,E.height,W.pixel_data,W.palettes),{data:Y,width:E.width,height:E.height,flipY:!0,generateMipmaps:!0,minFilter:Ss}}}const Gr=Object.freeze(Object.defineProperty({__proto__:null,TGALoader:ai},Symbol.toStringTag,{value:"Module"}));class Ce{constructor(e){this.id=-1,this.inMemory=!1,this.updatable=!1,this.type="",this.name="",this.editor=e}toJSON(){const e={};return e.type=this.type,e.id=this.id,e.name=this.name,e}fromJSON(e){this.inMemory=!0,this.type=e.type,this.id=e.id,this.name=e.name}}class ae extends Ce{constructor(e,t=null){super(e),this.type="AddObjectCommand",this.object=t,t!==null&&(this.name=e.strings.getKey("command/AddObject")+": "+t.name)}execute(){this.editor.addObject(this.object),this.editor.select(this.object)}undo(){this.editor.removeObject(this.object),this.editor.deselect()}toJSON(){const e=super.toJSON(this);return e.object=this.object.toJSON(),e}fromJSON(e){if(super.fromJSON(e),this.object=this.editor.objectByUuid(e.object.object.uuid),this.object===void 0){const t=new Ct;this.object=t.parse(e.object)}}}class _s extends Ce{constructor(e,t=null,s=null){super(e),this.type="SetUuidCommand",this.name=e.strings.getKey("command/SetUuid"),this.object=t,this.oldUuid=t!==null?t.uuid:null,this.newUuid=s}execute(){this.object.uuid=this.newUuid,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.sceneGraphChanged.dispatch()}undo(){this.object.uuid=this.oldUuid,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.sceneGraphChanged.dispatch()}toJSON(){const e=super.toJSON(this);return e.oldUuid=this.oldUuid,e.newUuid=this.newUuid,e}fromJSON(e){super.fromJSON(e),this.oldUuid=e.oldUuid,this.newUuid=e.newUuid,this.object=this.editor.objectByUuid(e.oldUuid),this.object===void 0&&(this.object=this.editor.objectByUuid(e.newUuid))}}class Ie extends Ce{constructor(e,t=null,s="",n=null){super(e),this.type="SetValueCommand",this.name=e.strings.getKey("command/SetValue")+": "+s,this.updatable=!0,this.object=t,this.attributeName=s,this.oldValue=t!==null?t[s]:null,this.newValue=n}execute(){this.object[this.attributeName]=this.newValue,this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.object[this.attributeName]=this.oldValue,this.editor.signals.objectChanged.dispatch(this.object)}update(e){this.newValue=e.newValue}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.attributeName=this.attributeName,e.oldValue=this.oldValue,e.newValue=this.newValue,e}fromJSON(e){super.fromJSON(e),this.attributeName=e.attributeName,this.oldValue=e.oldValue,this.newValue=e.newValue,this.object=this.editor.objectByUuid(e.objectUuid)}}class Aa extends Ce{constructor(e,t=null){if(super(e),this.type="SetSceneCommand",this.name=e.strings.getKey("command/SetScene"),this.cmdArray=[],t!==null)for(this.cmdArray.push(new _s(this.editor,this.editor.scene,t.uuid)),this.cmdArray.push(new Ie(this.editor,this.editor.scene,"name",t.name)),this.cmdArray.push(new Ie(this.editor,this.editor.scene,"userData",JSON.parse(JSON.stringify(t.userData))));t.children.length>0;){const s=t.children.pop();this.cmdArray.push(new ae(this.editor,s))}}execute(){this.editor.signals.sceneGraphChanged.active=!1;for(let e=0;e<this.cmdArray.length;e++)this.cmdArray[e].execute();this.editor.signals.sceneGraphChanged.active=!0,this.editor.signals.sceneGraphChanged.dispatch()}undo(){this.editor.signals.sceneGraphChanged.active=!1;for(let e=this.cmdArray.length-1;e>=0;e--)this.cmdArray[e].undo();this.editor.signals.sceneGraphChanged.active=!0,this.editor.signals.sceneGraphChanged.dispatch()}toJSON(){const e=super.toJSON(this),t=[];for(let s=0;s<this.cmdArray.length;s++)t.push(this.cmdArray[s].toJSON());return e.cmds=t,e}fromJSON(e){super.fromJSON(e);const t=e.cmds;for(let s=0;s<t.length;s++){const n=new window[t[s].type];n.fromJSON(t[s]),this.cmdArray.push(n)}}}const Zs={createFilesMap:function(a){const e={};for(let t=0;t<a.length;t++){const s=a[t];e[s.name]=s}return e},getFilesFromItemList:function(a,e){let t=0,s=0;const n=[],i={};function r(){t++,t===s&&e(n,i)}function o(d){d.isDirectory?d.createReader().readEntries(function(c){for(let g=0;g<c.length;g++)o(c[g]);r()}):d.isFile&&d.file(function(A){n.push(A),i[d.fullPath.slice(1)]=A,r()}),s++}for(let d=0;d<a.length;d++){const A=a[d];A.kind==="file"&&o(A.webkitGetAsEntry())}}};class Me{constructor(e){this.dom=e}add(){for(let e=0;e<arguments.length;e++){const t=arguments[e];t instanceof Me?this.dom.appendChild(t.dom):console.error("UIElement:",t,"is not an instance of UIElement.")}return this}remove(){for(let e=0;e<arguments.length;e++){const t=arguments[e];t instanceof Me?this.dom.removeChild(t.dom):console.error("UIElement:",t,"is not an instance of UIElement.")}return this}clear(){for(;this.dom.children.length;)this.dom.removeChild(this.dom.lastChild)}setId(e){return this.dom.id=e,this}getId(){return this.dom.id}setClass(e){return this.dom.className=e,this}addClass(e){return this.dom.classList.add(e),this}removeClass(e){return this.dom.classList.remove(e),this}toggleClass(e,t){return this.dom.classList.toggle(e,t),this}setStyle(e,t){for(let s=0;s<t.length;s++)this.dom.style[e]=t[s];return this}setHidden(e){return this.dom.hidden=e,this}isHidden(){return this.dom.hidden}setDisabled(e){return this.dom.disabled=e,this}setTextContent(e){return this.dom.textContent=e,this}setInnerHTML(e){this.dom.innerHTML=e}getIndexOfChild(e){return Array.prototype.indexOf.call(this.dom.children,e.dom)}}const kr=["position","left","top","right","bottom","width","height","display","verticalAlign","overflow","color","background","backgroundColor","opacity","border","borderLeft","borderTop","borderRight","borderBottom","borderColor","margin","marginLeft","marginTop","marginRight","marginBottom","padding","paddingLeft","paddingTop","paddingRight","paddingBottom","fontSize","fontWeight","textAlign","textDecoration","textTransform","cursor","zIndex"];kr.forEach(function(a){const e="set"+a.substring(0,1).toUpperCase()+a.substring(1);Me.prototype[e]=function(){return this.setStyle(a,arguments),this}});const Fr=["KeyUp","KeyDown","MouseOver","MouseOut","Click","DblClick","Change","Input"];Fr.forEach(function(a){const e="on"+a;Me.prototype[e]=function(t){return this.dom.addEventListener(a.toLowerCase(),t.bind(this)),this}});class ct extends Me{constructor(){super(document.createElement("span"))}}class Ae extends Me{constructor(){super(document.createElement("div"))}}class C extends Ae{constructor(){super(),this.dom.className="Row"}}class re extends Ae{constructor(){super(),this.dom.className="Panel"}}class B extends ct{constructor(e){super(),this.dom.className="Text",this.dom.style.cursor="default",this.dom.style.display="inline-block",this.setValue(e)}getValue(){return this.dom.textContent}setValue(e){return e!==void 0&&(this.dom.textContent=e),this}}class ft extends Me{constructor(e){super(document.createElement("input")),this.dom.className="Input",this.dom.style.padding="2px",this.dom.style.border="1px solid transparent",this.dom.setAttribute("autocomplete","off"),this.dom.addEventListener("keydown",function(t){t.stopPropagation()}),this.setValue(e)}getValue(){return this.dom.value}setValue(e){return this.dom.value=e,this}}class Ls extends Me{constructor(){super(document.createElement("textarea")),this.dom.className="TextArea",this.dom.style.padding="2px",this.dom.spellcheck=!1,this.dom.setAttribute("autocomplete","off"),this.dom.addEventListener("keydown",function(e){if(e.stopPropagation(),e.code==="Tab"){e.preventDefault();const t=this.selectionStart;this.value=this.value.substring(0,t)+"	"+this.value.substring(t),this.selectionStart=t+1,this.selectionEnd=this.selectionStart}})}getValue(){return this.dom.value}setValue(e){return this.dom.value=e,this}}class Ke extends Me{constructor(){super(document.createElement("select")),this.dom.className="Select",this.dom.style.padding="2px",this.dom.setAttribute("autocomplete","off"),this.dom.addEventListener("pointerdown",function(e){e.stopPropagation()})}setMultiple(e){return this.dom.multiple=e,this}setOptions(e){const t=this.dom.value;for(;this.dom.children.length>0;)this.dom.removeChild(this.dom.firstChild);for(const s in e){const n=document.createElement("option");n.value=s,n.innerHTML=e[s],this.dom.appendChild(n)}return this.dom.value=t,this}getValue(){return this.dom.value}setValue(e){return e=String(e),this.dom.value!==e&&(this.dom.value=e),this}}class ot extends Me{constructor(e){super(document.createElement("input")),this.dom.className="Checkbox Input",this.dom.type="checkbox",this.dom.addEventListener("pointerdown",function(t){t.stopPropagation()}),this.setValue(e)}getValue(){return this.dom.checked}setValue(e){return e!==void 0&&(this.dom.checked=e),this}}class ba extends Me{constructor(){super(document.createElement("input")),this.dom.className="Color Input",this.dom.style.width="32px",this.dom.style.height="16px",this.dom.style.border="0px",this.dom.style.padding="2px",this.dom.style.backgroundColor="transparent",this.dom.setAttribute("autocomplete","off");try{this.dom.type="color",this.dom.value="#ffffff"}catch{}}getValue(){return this.dom.value}getHexValue(){return parseInt(this.dom.value.substring(1),16)}setValue(e){return this.dom.value=e,this}setHexValue(e){return this.dom.value="#"+("000000"+e.toString(16)).slice(-6),this}}class J extends Me{constructor(e){super(document.createElement("input")),this.dom.style.cursor="ns-resize",this.dom.className="Number Input",this.dom.value="0.00",this.dom.setAttribute("autocomplete","off"),this.value=0,this.min=-1/0,this.max=1/0,this.precision=2,this.step=1,this.unit="",this.nudge=.01,this.setValue(e);const t=this,s=new Event("change",{bubbles:!0,cancelable:!0});let n=0,i=0;const r={x:0,y:0},o={x:0,y:0};function d(p){document.activeElement!==t.dom&&(p.preventDefault(),n=0,i=t.value,o.x=p.clientX,o.y=p.clientY,t.dom.setPointerCapture(p.pointerId),t.dom.addEventListener("pointermove",A),t.dom.addEventListener("pointerup",c))}function A(p){const h=t.value;r.x=p.clientX,r.y=p.clientY,n+=r.x-o.x-(r.y-o.y);let b=i+n/(p.shiftKey?5:50)*t.step;b=Math.min(t.max,Math.max(t.min,b)),h!==b&&(t.setValue(b),t.dom.dispatchEvent(s)),o.x=p.clientX,o.y=p.clientY}function c(p){t.dom.releasePointerCapture(p.pointerId),t.dom.removeEventListener("pointermove",A),t.dom.removeEventListener("pointerup",c),Math.abs(n)<2&&(t.dom.focus(),t.dom.select())}function g(){t.setValue(t.dom.value)}function l(){t.dom.style.backgroundColor="",t.dom.style.cursor=""}function u(){t.dom.style.backgroundColor="transparent",t.dom.style.cursor="ns-resize"}function m(p){switch(p.stopPropagation(),p.code){case"Enter":t.dom.blur();break;case"ArrowUp":p.preventDefault(),t.setValue(t.getValue()+t.nudge),t.dom.dispatchEvent(s);break;case"ArrowDown":p.preventDefault(),t.setValue(t.getValue()-t.nudge),t.dom.dispatchEvent(s);break}}u(),this.dom.addEventListener("keydown",m),this.dom.addEventListener("pointerdown",d),this.dom.addEventListener("change",g),this.dom.addEventListener("focus",l),this.dom.addEventListener("blur",u)}getValue(){return this.value}setValue(e){return e!==void 0&&(e=parseFloat(e),e<this.min&&(e=this.min),e>this.max&&(e=this.max),this.value=e,this.dom.value=e.toFixed(this.precision),this.unit!==""&&(this.dom.value+=" "+this.unit)),this}setPrecision(e){return this.precision=e,this}setStep(e){return this.step=e,this}setNudge(e){return this.nudge=e,this}setRange(e,t){return this.min=e,this.max=t,this}setUnit(e){return this.unit=e,this.setValue(this.value),this}}class ie extends Me{constructor(e){super(document.createElement("input")),this.dom.style.cursor="ns-resize",this.dom.className="Number Input",this.dom.value="0",this.dom.setAttribute("autocomplete","off"),this.value=0,this.min=-1/0,this.max=1/0,this.step=1,this.nudge=1,this.setValue(e);const t=this,s=new Event("change",{bubbles:!0,cancelable:!0});let n=0,i=0;const r={x:0,y:0},o={x:0,y:0};function d(p){document.activeElement!==t.dom&&(p.preventDefault(),n=0,i=t.value,o.x=p.clientX,o.y=p.clientY,t.dom.setPointerCapture(p.pointerId),t.dom.addEventListener("pointermove",A),t.dom.addEventListener("pointerup",c))}function A(p){const h=t.value;r.x=p.clientX,r.y=p.clientY,n+=r.x-o.x-(r.y-o.y);let b=i+n/(p.shiftKey?5:50)*t.step;b=Math.min(t.max,Math.max(t.min,b))|0,h!==b&&(t.setValue(b),t.dom.dispatchEvent(s)),o.x=p.clientX,o.y=p.clientY}function c(p){t.dom.releasePointerCapture(p.pointerId),t.dom.removeEventListener("pointermove",A),t.dom.removeEventListener("pointerup",c),Math.abs(n)<2&&(t.dom.focus(),t.dom.select())}function g(){t.setValue(t.dom.value)}function l(){t.dom.style.backgroundColor="",t.dom.style.cursor=""}function u(){t.dom.style.backgroundColor="transparent",t.dom.style.cursor="ns-resize"}function m(p){switch(p.stopPropagation(),p.code){case"Enter":t.dom.blur();break;case"ArrowUp":p.preventDefault(),t.setValue(t.getValue()+t.nudge),t.dom.dispatchEvent(s);break;case"ArrowDown":p.preventDefault(),t.setValue(t.getValue()-t.nudge),t.dom.dispatchEvent(s);break}}u(),this.dom.addEventListener("keydown",m),this.dom.addEventListener("pointerdown",d),this.dom.addEventListener("change",g),this.dom.addEventListener("focus",l),this.dom.addEventListener("blur",u)}getValue(){return this.value}setValue(e){return e!==void 0&&(e=parseInt(e),this.value=e,this.dom.value=e),this}setStep(e){return this.step=parseInt(e),this}setNudge(e){return this.nudge=e,this}setRange(e,t){return this.min=e,this.max=t,this}}class Te extends Me{constructor(){super(document.createElement("br")),this.dom.className="Break"}}class Ts extends Me{constructor(){super(document.createElement("hr")),this.dom.className="HorizontalRule"}}class le extends Me{constructor(e){super(document.createElement("button")),this.dom.className="Button",this.dom.textContent=e}}class si extends Ae{constructor(){super(),this.dom.className="TabbedPanel",this.tabs=[],this.panels=[],this.tabsDiv=new Ae,this.tabsDiv.setClass("Tabs"),this.panelsDiv=new Ae,this.panelsDiv.setClass("Panels"),this.add(this.tabsDiv),this.add(this.panelsDiv),this.selected=""}select(e){let t,s;const n=this;if(this.selected&&this.selected.length&&(t=this.tabs.find(function(i){return i.dom.id===n.selected}),s=this.panels.find(function(i){return i.dom.id===n.selected}),t&&t.removeClass("selected"),s&&s.setDisplay("none")),t=this.tabs.find(function(i){return i.dom.id===e}),s=this.panels.find(function(i){return i.dom.id===e}),t&&t.addClass("selected"),s&&s.setDisplay(""),this.selected=e,t){const i=t.dom.offsetLeft+t.dom.offsetWidth,r=this.tabsDiv.dom.getBoundingClientRect().width;i>r&&this.tabsDiv.dom.scrollTo({left:i-r,behavior:"smooth"}),t.dom.offsetLeft<this.tabsDiv.dom.scrollLeft&&this.tabsDiv.dom.scrollTo({left:0,behavior:"smooth"})}return this}addTab(e,t,s){const n=new Vr(t,this);n.setId(e),this.tabs.push(n),this.tabsDiv.add(n);const i=new Ae;i.setId(e),i.add(s),i.setDisplay("none"),this.panels.push(i),this.panelsDiv.add(i),this.select(e)}}class Vr extends B{constructor(e,t){super(e),this.dom.className="Tab",this.parent=t;const s=this;this.dom.addEventListener("click",function(){s.parent.select(s.dom.id)})}}class Ea{constructor(e){this.strings=e;const t=document.createElement("div");t.className="Dialog",this.dom=t;const s=document.createElement("div");s.className="Dialog-background",s.addEventListener("click",()=>this.cancel()),t.appendChild(s);const n=document.createElement("div");n.className="Dialog-content",t.appendChild(n);const i=document.createElement("div");i.className="Dialog-title",i.textContent=e.getKey("dialog/gltf/title"),n.appendChild(i);const r=document.createElement("div");r.className="Dialog-body",n.appendChild(r);const o=new C;r.appendChild(o.dom),this.asSceneCheckbox=new ot(!1),o.add(this.asSceneCheckbox),o.add(new B(e.getKey("dialog/gltf/asScene")).setMarginLeft("6px"));const d=document.createElement("div");d.className="Dialog-buttons",r.appendChild(d);const A=new le(e.getKey("dialog/ok"));A.setWidth("80px"),A.onClick(()=>this.confirm()),d.appendChild(A.dom);const c=new le(e.getKey("dialog/cancel"));c.setWidth("80px"),c.setMarginLeft("8px"),c.onClick(()=>this.cancel()),d.appendChild(c.dom),this.resolve=null,this.reject=null}show(){return document.body.appendChild(this.dom),new Promise((e,t)=>{this.resolve=e,this.reject=t})}confirm(){const e={asScene:this.asSceneCheckbox.getValue()};this.dom.remove(),this.resolve&&this.resolve(e)}cancel(){this.dom.remove(),this.reject&&this.reject(new Error("Import cancelled"))}}/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.8.2
*/var Ee=Uint8Array,Ue=Uint16Array,Ns=Int32Array,Ya=new Ee([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),qa=new Ee([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ps=new Ee([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ni=function(a,e){for(var t=new Ue(31),s=0;s<31;++s)t[s]=e+=1<<a[s-1];for(var n=new Ns(t[30]),s=1;s<30;++s)for(var i=t[s];i<t[s+1];++i)n[i]=i-t[s]<<5|s;return{b:t,r:n}},ii=ni(Ya,2),ri=ii.b,bs=ii.r;ri[28]=258,bs[258]=28;var oi=ni(qa,0),jr=oi.b,$s=oi.r,fs=new Ue(32768);for(var me=0;me<32768;++me){var ut=(me&43690)>>1|(me&21845)<<1;ut=(ut&52428)>>2|(ut&13107)<<2,ut=(ut&61680)>>4|(ut&3855)<<4,fs[me]=((ut&65280)>>8|(ut&255)<<8)>>1}var nt=(function(a,e,t){for(var s=a.length,n=0,i=new Ue(e);n<s;++n)a[n]&&++i[a[n]-1];var r=new Ue(e);for(n=1;n<e;++n)r[n]=r[n-1]+i[n-1]<<1;var o;if(t){o=new Ue(1<<e);var d=15-e;for(n=0;n<s;++n)if(a[n])for(var A=n<<4|a[n],c=e-a[n],g=r[a[n]-1]++<<c,l=g|(1<<c)-1;g<=l;++g)o[fs[g]>>d]=A}else for(o=new Ue(s),n=0;n<s;++n)a[n]&&(o[n]=fs[r[a[n]-1]++]>>15-a[n]);return o}),yt=new Ee(288);for(var me=0;me<144;++me)yt[me]=8;for(var me=144;me<256;++me)yt[me]=9;for(var me=256;me<280;++me)yt[me]=7;for(var me=280;me<288;++me)yt[me]=8;var fa=new Ee(32);for(var me=0;me<32;++me)fa[me]=5;var Pr=nt(yt,9,0),Kr=nt(yt,9,1),Ur=nt(fa,5,0),Or=nt(fa,5,1),as=function(a){for(var e=a[0],t=1;t<a.length;++t)a[t]>e&&(e=a[t]);return e},ze=function(a,e,t){var s=e/8|0;return(a[s]|a[s+1]<<8)>>(e&7)&t},ss=function(a,e){var t=e/8|0;return(a[t]|a[t+1]<<8|a[t+2]<<16)>>(e&7)},Gs=function(a){return(a+7)/8|0},ya=function(a,e,t){return(e==null||e<0)&&(e=0),(t==null||t>a.length)&&(t=a.length),new Ee(a.subarray(e,t))},Hr=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Le=function(a,e,t){var s=new Error(e||Hr[a]);if(s.code=a,Error.captureStackTrace&&Error.captureStackTrace(s,Le),!t)throw s;return s},di=function(a,e,t,s){var n=a.length,i=s?s.length:0;if(!n||e.f&&!e.l)return t||new Ee(0);var r=!t,o=r||e.i!=2,d=e.i;r&&(t=new Ee(n*3));var A=function(z){var ee=t.length;if(z>ee){var se=new Ee(Math.max(ee*2,z));se.set(t),t=se}},c=e.f||0,g=e.p||0,l=e.b||0,u=e.l,m=e.d,p=e.m,h=e.n,b=n*8;do{if(!u){c=ze(a,g,1);var Q=ze(a,g+1,3);if(g+=3,Q)if(Q==1)u=Kr,m=Or,p=9,h=5;else if(Q==2){var _=ze(a,g,31)+257,L=ze(a,g+10,15)+4,S=_+ze(a,g+5,31)+1;g+=14;for(var M=new Ee(S),E=new Ee(19),G=0;G<L;++G)E[ps[G]]=ze(a,g+G*3,7);g+=L*3;for(var F=as(E),$=(1<<F)-1,Y=nt(E,F,1),G=0;G<S;){var W=Y[ze(a,g,$)];g+=W&15;var f=W>>4;if(f<16)M[G++]=f;else{var N=0,O=0;for(f==16?(O=3+ze(a,g,3),g+=2,N=M[G-1]):f==17?(O=3+ze(a,g,7),g+=3):f==18&&(O=11+ze(a,g,127),g+=7);O--;)M[G++]=N}}var H=M.subarray(0,_),j=M.subarray(_);p=as(H),h=as(j),u=nt(H,p,1),m=nt(j,h,1)}else Le(1);else{var f=Gs(g)+4,y=a[f-4]|a[f-3]<<8,I=f+y;if(I>n){d&&Le(0);break}o&&A(l+y),t.set(a.subarray(f,I),l),e.b=l+=y,e.p=g=I*8,e.f=c;continue}if(g>b){d&&Le(0);break}}o&&A(l+131072);for(var v=(1<<p)-1,k=(1<<h)-1,q=g;;q=g){var N=u[ss(a,g)&v],U=N>>4;if(g+=N&15,g>b){d&&Le(0);break}if(N||Le(2),U<256)t[l++]=U;else if(U==256){q=g,u=null;break}else{var V=U-254;if(U>264){var G=U-257,P=Ya[G];V=ze(a,g,(1<<P)-1)+ri[G],g+=P}var w=m[ss(a,g)&k],D=w>>4;w||Le(3),g+=w&15;var j=jr[D];if(D>3){var P=qa[D];j+=ss(a,g)&(1<<P)-1,g+=P}if(g>b){d&&Le(0);break}o&&A(l+131072);var R=l+V;if(l<j){var X=i-j,T=Math.min(j,R);for(X+l<0&&Le(3);l<T;++l)t[l]=s[X+l]}for(;l<R;++l)t[l]=t[l-j]}}e.l=u,e.p=q,e.b=l,e.f=c,u&&(c=1,e.m=p,e.d=m,e.n=h)}while(!c);return l!=t.length&&r?ya(t,0,l):t.subarray(0,l)},dt=function(a,e,t){t<<=e&7;var s=e/8|0;a[s]|=t,a[s+1]|=t>>8},$t=function(a,e,t){t<<=e&7;var s=e/8|0;a[s]|=t,a[s+1]|=t>>8,a[s+2]|=t>>16},ns=function(a,e){for(var t=[],s=0;s<a.length;++s)a[s]&&t.push({s,f:a[s]});var n=t.length,i=t.slice();if(!n)return{t:li,l:0};if(n==1){var r=new Ee(t[0].s+1);return r[t[0].s]=1,{t:r,l:1}}t.sort(function(I,_){return I.f-_.f}),t.push({s:-1,f:25001});var o=t[0],d=t[1],A=0,c=1,g=2;for(t[0]={s:-1,f:o.f+d.f,l:o,r:d};c!=n-1;)o=t[t[A].f<t[g].f?A++:g++],d=t[A!=c&&t[A].f<t[g].f?A++:g++],t[c++]={s:-1,f:o.f+d.f,l:o,r:d};for(var l=i[0].s,s=1;s<n;++s)i[s].s>l&&(l=i[s].s);var u=new Ue(l+1),m=ys(t[c-1],u,0);if(m>e){var s=0,p=0,h=m-e,b=1<<h;for(i.sort(function(_,L){return u[L.s]-u[_.s]||_.f-L.f});s<n;++s){var Q=i[s].s;if(u[Q]>e)p+=b-(1<<m-u[Q]),u[Q]=e;else break}for(p>>=h;p>0;){var f=i[s].s;u[f]<e?p-=1<<e-u[f]++-1:++s}for(;s>=0&&p;--s){var y=i[s].s;u[y]==e&&(--u[y],++p)}m=e}return{t:new Ee(u),l:m}},ys=function(a,e,t){return a.s==-1?Math.max(ys(a.l,e,t+1),ys(a.r,e,t+1)):e[a.s]=t},en=function(a){for(var e=a.length;e&&!a[--e];);for(var t=new Ue(++e),s=0,n=a[0],i=1,r=function(d){t[s++]=d},o=1;o<=e;++o)if(a[o]==n&&o!=e)++i;else{if(!n&&i>2){for(;i>138;i-=138)r(32754);i>2&&(r(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(r(n),--i;i>6;i-=6)r(8304);i>2&&(r(i-3<<5|8208),i=0)}for(;i--;)r(n);i=1,n=a[o]}return{c:t.subarray(0,s),n:e}},ea=function(a,e){for(var t=0,s=0;s<e.length;++s)t+=a[s]*e[s];return t},Ai=function(a,e,t){var s=t.length,n=Gs(e+2);a[n]=s&255,a[n+1]=s>>8,a[n+2]=a[n]^255,a[n+3]=a[n+1]^255;for(var i=0;i<s;++i)a[n+i+4]=t[i];return(n+4+s)*8},tn=function(a,e,t,s,n,i,r,o,d,A,c){dt(e,c++,t),++n[256];for(var g=ns(n,15),l=g.t,u=g.l,m=ns(i,15),p=m.t,h=m.l,b=en(l),Q=b.c,f=b.n,y=en(p),I=y.c,_=y.n,L=new Ue(19),S=0;S<Q.length;++S)++L[Q[S]&31];for(var S=0;S<I.length;++S)++L[I[S]&31];for(var M=ns(L,7),E=M.t,G=M.l,F=19;F>4&&!E[ps[F-1]];--F);var $=A+5<<3,Y=ea(n,yt)+ea(i,fa)+r,W=ea(n,l)+ea(i,p)+r+14+3*F+ea(L,E)+2*L[16]+3*L[17]+7*L[18];if(d>=0&&$<=Y&&$<=W)return Ai(e,c,a.subarray(d,d+A));var N,O,H,j;if(dt(e,c,1+(W<Y)),c+=2,W<Y){N=nt(l,u,0),O=l,H=nt(p,h,0),j=p;var v=nt(E,G,0);dt(e,c,f-257),dt(e,c+5,_-1),dt(e,c+10,F-4),c+=14;for(var S=0;S<F;++S)dt(e,c+3*S,E[ps[S]]);c+=3*F;for(var k=[Q,I],q=0;q<2;++q)for(var U=k[q],S=0;S<U.length;++S){var V=U[S]&31;dt(e,c,v[V]),c+=E[V],V>15&&(dt(e,c,U[S]>>5&127),c+=U[S]>>12)}}else N=Pr,O=yt,H=Ur,j=fa;for(var S=0;S<o;++S){var P=s[S];if(P>255){var V=P>>18&31;$t(e,c,N[V+257]),c+=O[V+257],V>7&&(dt(e,c,P>>23&31),c+=Ya[V]);var w=P&31;$t(e,c,H[w]),c+=j[w],w>3&&($t(e,c,P>>5&8191),c+=qa[w])}else $t(e,c,N[P]),c+=O[P]}return $t(e,c,N[256]),c+O[256]},Jr=new Ns([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),li=new Ee(0),Yr=function(a,e,t,s,n,i){var r=i.z||a.length,o=new Ee(s+r+5*(1+Math.ceil(r/7e3))+n),d=o.subarray(s,o.length-n),A=i.l,c=(i.r||0)&7;if(e){c&&(d[0]=i.r>>3);for(var g=Jr[e-1],l=g>>13,u=g&8191,m=(1<<t)-1,p=i.p||new Ue(32768),h=i.h||new Ue(m+1),b=Math.ceil(t/3),Q=2*b,f=function(fe){return(a[fe]^a[fe+1]<<b^a[fe+2]<<Q)&m},y=new Ns(25e3),I=new Ue(288),_=new Ue(32),L=0,S=0,M=i.i||0,E=0,G=i.w||0,F=0;M+2<r;++M){var $=f(M),Y=M&32767,W=h[$];if(p[Y]=W,h[$]=Y,G<=M){var N=r-M;if((L>7e3||E>24576)&&(N>423||!A)){c=tn(a,d,0,y,I,_,S,E,F,M-F,c),E=L=S=0,F=M;for(var O=0;O<286;++O)I[O]=0;for(var O=0;O<30;++O)_[O]=0}var H=2,j=0,v=u,k=Y-W&32767;if(N>2&&$==f(M-k))for(var q=Math.min(l,N)-1,U=Math.min(32767,M),V=Math.min(258,N);k<=U&&--v&&Y!=W;){if(a[M+H]==a[M+H-k]){for(var P=0;P<V&&a[M+P]==a[M+P-k];++P);if(P>H){if(H=P,j=k,P>q)break;for(var w=Math.min(k,P-2),D=0,O=0;O<w;++O){var R=M-k+O&32767,X=p[R],T=R-X&32767;T>D&&(D=T,W=R)}}}Y=W,W=p[Y],k+=Y-W&32767}if(j){y[E++]=268435456|bs[H]<<18|$s[j];var z=bs[H]&31,ee=$s[j]&31;S+=Ya[z]+qa[ee],++I[257+z],++_[ee],G=M+H,++L}else y[E++]=a[M],++I[a[M]]}}for(M=Math.max(M,G);M<r;++M)y[E++]=a[M],++I[a[M]];c=tn(a,d,A,y,I,_,S,E,F,M-F,c),A||(i.r=c&7|d[c/8|0]<<3,c-=7,i.h=h,i.p=p,i.i=M,i.w=G)}else{for(var M=i.w||0;M<r+A;M+=65535){var se=M+65535;se>=r&&(d[c/8|0]=A,se=r),c=Ai(d,c+1,a.subarray(M,se))}i.i=r}return ya(o,0,s+Gs(c)+n)},qr=(function(){for(var a=new Int32Array(256),e=0;e<256;++e){for(var t=e,s=9;--s;)t=(t&1&&-306674912)^t>>>1;a[e]=t}return a})(),zr=function(){var a=-1;return{p:function(e){for(var t=a,s=0;s<e.length;++s)t=qr[t&255^e[s]]^t>>>8;a=t},d:function(){return~a}}},Xr=function(a,e,t,s,n){if(!n&&(n={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),r=new Ee(i.length+a.length);r.set(i),r.set(a,i.length),a=r,n.w=i.length}return Yr(a,e.level==null?6:e.level,e.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(a.length)))*1.5):20:12+e.mem,t,s,n)},ci=function(a,e){var t={};for(var s in a)t[s]=a[s];for(var s in e)t[s]=e[s];return t},st=function(a,e){return a[e]|a[e+1]<<8},Xe=function(a,e){return(a[e]|a[e+1]<<8|a[e+2]<<16|a[e+3]<<24)>>>0},is=function(a,e){return Xe(a,e)+Xe(a,e+4)*4294967296},_e=function(a,e,t){for(;t;++e)a[e]=t,t>>>=8},Wr=function(a,e){return((a[0]&15)!=8||a[0]>>4>7||(a[0]<<8|a[1])%31)&&Le(6,"invalid zlib data"),(a[1]>>5&1)==1&&Le(6,"invalid zlib data: "+(a[1]&32?"need":"unexpected")+" dictionary"),(a[1]>>3&4)+2};function Zr(a,e){return Xr(a,e||{},0,0)}function $r(a,e){return di(a,{i:2},e&&e.out,e&&e.dictionary)}function ul(a,e){return di(a.subarray(Wr(a),-4),{i:2},e,e)}var gi=function(a,e,t,s){for(var n in a){var i=a[n],r=e+n,o=s;Array.isArray(i)&&(o=ci(s,i[1]),i=i[0]),i instanceof Ee?t[r]=[i,o]:(t[r+="/"]=[new Ee(0),o],gi(i,r,t,s))}},an=typeof TextEncoder<"u"&&new TextEncoder,Cs=typeof TextDecoder<"u"&&new TextDecoder,eo=0;try{Cs.decode(li,{stream:!0}),eo=1}catch{}var to=function(a){for(var e="",t=0;;){var s=a[t++],n=(s>127)+(s>223)+(s>239);if(t+n>a.length)return{s:e,r:ya(a,t-1)};n?n==3?(s=((s&15)<<18|(a[t++]&63)<<12|(a[t++]&63)<<6|a[t++]&63)-65536,e+=String.fromCharCode(55296|s>>10,56320|s&1023)):n&1?e+=String.fromCharCode((s&31)<<6|a[t++]&63):e+=String.fromCharCode((s&15)<<12|(a[t++]&63)<<6|a[t++]&63):e+=String.fromCharCode(s)}};function sn(a,e){var t;if(an)return an.encode(a);for(var s=a.length,n=new Ee(a.length+(a.length>>1)),i=0,r=function(A){n[i++]=A},t=0;t<s;++t){if(i+5>n.length){var o=new Ee(i+8+(s-t<<1));o.set(n),n=o}var d=a.charCodeAt(t);d<128||e?r(d):d<2048?(r(192|d>>6),r(128|d&63)):d>55295&&d<57344?(d=65536+(d&1047552)|a.charCodeAt(++t)&1023,r(240|d>>18),r(128|d>>12&63),r(128|d>>6&63),r(128|d&63)):(r(224|d>>12),r(128|d>>6&63),r(128|d&63))}return ya(n,0,i)}function Ta(a,e){if(e){for(var t="",s=0;s<a.length;s+=16384)t+=String.fromCharCode.apply(null,a.subarray(s,s+16384));return t}else{if(Cs)return Cs.decode(a);var n=to(a),i=n.s,t=n.r;return t.length&&Le(8),i}}var ao=function(a,e){return e+30+st(a,e+26)+st(a,e+28)},so=function(a,e,t){var s=st(a,e+28),n=Ta(a.subarray(e+46,e+46+s),!(st(a,e+8)&2048)),i=e+46+s,r=Xe(a,e+20),o=t&&r==4294967295?no(a,i):[r,Xe(a,e+24),Xe(a,e+42)],d=o[0],A=o[1],c=o[2];return[st(a,e+10),d,A,n,i+st(a,e+30)+st(a,e+32),c]},no=function(a,e){for(;st(a,e)!=1;e+=4+st(a,e+2));return[is(a,e+12),is(a,e+4),is(a,e+20)]},Is=function(a){var e=0;if(a)for(var t in a){var s=a[t].length;s>65535&&Le(9),e+=s+4}return e},nn=function(a,e,t,s,n,i,r,o){var d=s.length,A=t.extra,c=o&&o.length,g=Is(A);_e(a,e,r!=null?33639248:67324752),e+=4,r!=null&&(a[e++]=20,a[e++]=t.os),a[e]=20,e+=2,a[e++]=t.flag<<1|(i<0&&8),a[e++]=n&&8,a[e++]=t.compression&255,a[e++]=t.compression>>8;var l=new Date(t.mtime==null?Date.now():t.mtime),u=l.getFullYear()-1980;if((u<0||u>119)&&Le(10),_e(a,e,u<<25|l.getMonth()+1<<21|l.getDate()<<16|l.getHours()<<11|l.getMinutes()<<5|l.getSeconds()>>1),e+=4,i!=-1&&(_e(a,e,t.crc),_e(a,e+4,i<0?-i-2:i),_e(a,e+8,t.size)),_e(a,e+12,d),_e(a,e+14,g),e+=16,r!=null&&(_e(a,e,c),_e(a,e+6,t.attrs),_e(a,e+10,r),e+=14),a.set(s,e),e+=d,g)for(var m in A){var p=A[m],h=p.length;_e(a,e,+m),_e(a,e+2,h),a.set(p,e+4),e+=4+h}return c&&(a.set(o,e),e+=c),e},io=function(a,e,t,s,n){_e(a,e,101010256),_e(a,e+8,t),_e(a,e+10,t),_e(a,e+12,s),_e(a,e+16,n)};function ml(a,e){e||(e={});var t={},s=[];gi(a,"",t,e);var n=0,i=0;for(var r in t){var o=t[r],d=o[0],A=o[1],c=A.level==0?0:8,g=sn(r),l=g.length,u=A.comment,m=u&&sn(u),p=m&&m.length,h=Is(A.extra);l>65535&&Le(11);var b=c?Zr(d,A):d,Q=b.length,f=zr();f.p(d),s.push(ci(A,{size:d.length,crc:f.d(),c:b,f:g,m,u:l!=r.length||m&&u.length!=p,o:n,compression:c})),n+=30+l+h+Q,i+=76+2*(l+h)+(p||0)+Q}for(var y=new Ee(i+22),I=n,_=i-n,L=0;L<s.length;++L){var g=s[L];nn(y,g.o,g,g.f,g.u,g.c.length);var S=30+g.f.length+Is(g.extra);y.set(g.c,g.o+S),nn(y,n,g,g.f,g.u,g.c.length,g.o,g.m),n+=16+S+(g.m?g.m.length:0)}return io(y,n,s.length,_,I),y}function ro(a,e){for(var t={},s=a.length-22;Xe(a,s)!=101010256;--s)(!s||a.length-s>65558)&&Le(13);var n=st(a,s+8);if(!n)return{};var i=Xe(a,s+16),r=i==4294967295||n==65535;if(r){var o=Xe(a,s-12);r=Xe(a,o)==101075792,r&&(n=Xe(a,o+32),i=Xe(a,o+48))}for(var d=0;d<n;++d){var A=so(a,i,r),c=A[0],g=A[1],l=A[2],u=A[3],m=A[4],p=A[5],h=ao(a,p);i=m,c?c==8?t[u]=$r(a.subarray(h,h+g),{out:new Ee(l)}):Le(14,"unknown compression type "+c):t[u]=ya(a,h,h+g)}return t}function oo(a){const e=this;this.texturePath="",this.loadItemList=function(i){Zs.getFilesFromItemList(i,function(r,o){e.loadFiles(r,o)})},this.loadFiles=function(i,r){if(i.length>0){r=r||Zs.createFilesMap(i);const o=new Os;o.setURLModifier(function(d){d=d.replace(/^(\.?\/)/,"");const A=r[d];return A?(console.log("Loading",d),URL.createObjectURL(A)):d}),o.addHandler(/\.tga$/i,new ai);for(let d=0;d<i.length;d++)e.loadFile(i[d],o)}},this.loadFile=function(i,r){const o=i.name,d=o.split(".").pop().toLowerCase(),A=new FileReader;switch(A.addEventListener("progress",function(c){const g="("+a.utils.formatNumber(Math.floor(c.total/1e3))+" KB)",l=Math.floor(c.loaded/c.total*100)+"%";console.log("Loading",o,g,l)}),d){case"3dm":{A.addEventListener("load",async function(c){const g=c.target.result,{Rhino3dmLoader:l}=await te(async()=>{const{Rhino3dmLoader:m}=await import("./3DMLoader-BjPY8qgR.js");return{Rhino3dmLoader:m}},__vite__mapDeps([0,1,2,3])),u=new l;u.setLibraryPath("../examples/jsm/libs/rhino3dm/"),u.parse(g,function(m){m.name=o,a.execute(new ae(a,m))},function(m){console.error(m)})},!1),A.readAsArrayBuffer(i);break}case"3ds":{A.addEventListener("load",async function(c){const{TDSLoader:g}=await te(async()=>{const{TDSLoader:m}=await import("./TDSLoader-_FyYg6w1.js");return{TDSLoader:m}},__vite__mapDeps([4,1,2])),u=new g().parse(c.target.result);a.execute(new ae(a,u))},!1),A.readAsArrayBuffer(i);break}case"3mf":{A.addEventListener("load",async function(c){const{ThreeMFLoader:g}=await te(async()=>{const{ThreeMFLoader:m}=await import("./3MFLoader-D6nS4jxv.js");return{ThreeMFLoader:m}},__vite__mapDeps([5,1,2])),u=new g().parse(c.target.result);a.execute(new ae(a,u))},!1),A.readAsArrayBuffer(i);break}case"amf":{A.addEventListener("load",async function(c){const{AMFLoader:g}=await te(async()=>{const{AMFLoader:m}=await import("./AMFLoader-DEMytfti.js");return{AMFLoader:m}},__vite__mapDeps([6,1,2])),u=new g().parse(c.target.result);a.execute(new ae(a,u))},!1),A.readAsArrayBuffer(i);break}case"dae":{A.addEventListener("load",async function(c){const g=c.target.result,{ColladaLoader:l}=await te(async()=>{const{ColladaLoader:p}=await import("./ColladaLoader-KMOKAJDP.js");return{ColladaLoader:p}},__vite__mapDeps([7,1,2])),m=new l(r).parse(g);m.scene.name=o,a.execute(new ae(a,m.scene))},!1),A.readAsText(i);break}case"drc":{A.addEventListener("load",async function(c){const g=c.target.result,{DRACOLoader:l}=await te(async()=>{const{DRACOLoader:m}=await import("./DRACOLoader-IvK0cMCR.js");return{DRACOLoader:m}},__vite__mapDeps([8,1,2])),u=new l;u.setDecoderPath("../examples/jsm/libs/draco/"),u.parse(g,function(m){let p;if(m.index!==null){const h=new ue;p=new K(m,h),p.name=o}else{const h=new ua({size:.01});h.vertexColors=m.hasAttribute("color"),p=new Ra(m,h),p.name=o}u.dispose(),a.execute(new ae(a,p))})},!1),A.readAsArrayBuffer(i);break}case"fbx":{A.addEventListener("load",async function(c){const g=c.target.result,{FBXLoader:l}=await te(async()=>{const{FBXLoader:p}=await import("./FBXLoader-C02jTJK-.js");return{FBXLoader:p}},__vite__mapDeps([9,1,2])),m=new l(r).parse(g);a.execute(new ae(a,m))},!1),A.readAsArrayBuffer(i);break}case"glb":{A.addEventListener("load",async function(c){const g=c.target.result;try{const u=await new Ea(a.strings).show(),m=await n();m.parse(g,"",function(p){const h=p.scene;h.name=o,h.animations.push(...p.animations),u.asScene?a.execute(new Aa(a,h)):a.execute(new ae(a,h)),m.dracoLoader.dispose(),m.ktx2Loader.dispose()})}catch{}},!1),A.readAsArrayBuffer(i);break}case"gltf":{A.addEventListener("load",async function(c){const g=c.target.result;try{const u=await new Ea(a.strings).show(),m=await n(r);m.parse(g,"",function(p){const h=p.scene;h.name=o,h.animations.push(...p.animations),u.asScene?a.execute(new Aa(a,h)):a.execute(new ae(a,h)),m.dracoLoader.dispose(),m.ktx2Loader.dispose()})}catch{}},!1),A.readAsArrayBuffer(i);break}case"js":case"json":{A.addEventListener("load",function(c){const g=c.target.result;if(g.indexOf("postMessage")!==-1){const u=new Blob([g],{type:"text/javascript"}),m=URL.createObjectURL(u),p=new Worker(m);p.onmessage=function(h){h.data.metadata={version:2},t(h.data)},p.postMessage(Date.now());return}let l;try{l=JSON.parse(g)}catch(u){alert(u);return}t(l)},!1),A.readAsText(i);break}case"kmz":{A.addEventListener("load",async function(c){const{KMZLoader:g}=await te(async()=>{const{KMZLoader:m}=await import("./KMZLoader-uIj5dXJu.js");return{KMZLoader:m}},__vite__mapDeps([10,1,2,7])),u=new g().parse(c.target.result);u.scene.name=o,a.execute(new ae(a,u.scene))},!1),A.readAsArrayBuffer(i);break}case"ldr":case"mpd":{A.addEventListener("load",async function(c){const{LDrawLoader:g}=await te(async()=>{const{LDrawLoader:u}=await import("./LDrawLoader-D7ud4BsI.js");return{LDrawLoader:u}},__vite__mapDeps([11,1,2])),l=new g;l.setPath("../../examples/models/ldraw/officialLibrary/"),l.parse(c.target.result,function(u){u.name=o,u.rotation.x=Math.PI,a.execute(new ae(a,u))})},!1),A.readAsText(i);break}case"md2":{A.addEventListener("load",async function(c){const g=c.target.result,{MD2Loader:l}=await te(async()=>{const{MD2Loader:h}=await import("./MD2Loader-H73V22ho.js");return{MD2Loader:h}},__vite__mapDeps([12,1,2])),u=new l().parse(g),m=new ue,p=new K(u,m);p.mixer=new Dn(p),p.name=o,p.animations.push(...u.animations),a.execute(new ae(a,p))},!1),A.readAsArrayBuffer(i);break}case"obj":{A.addEventListener("load",async function(c){const g=c.target.result,{OBJLoader:l}=await te(async()=>{const{OBJLoader:m}=await import("./OBJLoader-DaMAJesB.js");return{OBJLoader:m}},__vite__mapDeps([13,1,2])),u=new l().parse(g);u.name=o,a.execute(new ae(a,u))},!1),A.readAsText(i);break}case"pcd":{A.addEventListener("load",async function(c){const g=c.target.result,{PCDLoader:l}=await te(async()=>{const{PCDLoader:m}=await import("./PCDLoader-Ck52MA2_.js");return{PCDLoader:m}},__vite__mapDeps([14,1,2])),u=new l().parse(g);u.name=o,a.execute(new ae(a,u))},!1),A.readAsArrayBuffer(i);break}case"ply":{A.addEventListener("load",async function(c){const g=c.target.result,{PLYLoader:l}=await te(async()=>{const{PLYLoader:p}=await import("./PLYLoader-CUKzA7h1.js");return{PLYLoader:p}},__vite__mapDeps([15,1,2])),u=new l().parse(g);let m;if(u.index!==null){const p=new ue;m=new K(u,p),m.name=o}else{const p=new ua({size:.01});p.vertexColors=u.hasAttribute("color"),m=new Ra(u,p),m.name=o}a.execute(new ae(a,m))},!1),A.readAsArrayBuffer(i);break}case"stl":{A.addEventListener("load",async function(c){const g=c.target.result,{STLLoader:l}=await te(async()=>{const{STLLoader:h}=await import("./STLLoader-nFoafLWJ.js");return{STLLoader:h}},__vite__mapDeps([16,1,2])),u=new l().parse(g),m=new ue,p=new K(u,m);p.name=o,a.execute(new ae(a,p))},!1),A.readAsBinaryString!==void 0?A.readAsBinaryString(i):A.readAsArrayBuffer(i);break}case"svg":{A.addEventListener("load",async function(c){const g=c.target.result,{SVGLoader:l}=await te(async()=>{const{SVGLoader:h}=await import("./SVGLoader-C_nChOm3.js");return{SVGLoader:h}},__vite__mapDeps([17,1,2])),m=new l().parse(g).paths,p=new bt;p.name=o,p.scale.multiplyScalar(.1),p.scale.y*=-1;for(let h=0;h<m.length;h++){const b=m[h],Q=new Ge({color:b.color,depthWrite:!1}),f=l.createShapes(b);for(let y=0;y<f.length;y++){const I=f[y],_=new xs(I),L=new K(_,Q);p.add(L)}}a.execute(new ae(a,p))},!1),A.readAsText(i);break}case"usd":case"usda":case"usdc":case"usdz":{A.addEventListener("load",async function(c){const g=c.target.result,{USDLoader:l}=await te(async()=>{const{USDLoader:p}=await import("./USDLoader-DdNpk9b9.js");return{USDLoader:p}},__vite__mapDeps([18,1,2])),m=new l(r).parse(g);m.name=o,a.execute(new ae(a,m))},!1),A.readAsArrayBuffer(i);break}case"vox":{A.addEventListener("load",async function(c){const g=c.target.result,{VOXLoader:l}=await te(async()=>{const{VOXLoader:m}=await import("./VOXLoader-CQiP9JFo.js");return{VOXLoader:m}},__vite__mapDeps([19,1,2])),{scene:u}=new l().parse(g);u.name=o,a.execute(new ae(a,u))},!1),A.readAsArrayBuffer(i);break}case"vtk":case"vtp":{A.addEventListener("load",async function(c){const g=c.target.result,{VTKLoader:l}=await te(async()=>{const{VTKLoader:h}=await import("./VTKLoader-6O5oD5J0.js");return{VTKLoader:h}},__vite__mapDeps([20,1,2])),u=new l().parse(g),m=new ue,p=new K(u,m);p.name=o,a.execute(new ae(a,p))},!1),A.readAsArrayBuffer(i);break}case"wrl":{A.addEventListener("load",async function(c){const g=c.target.result,{VRMLLoader:l}=await te(async()=>{const{VRMLLoader:m}=await import("./VRMLLoader-BibuhAaP.js");return{VRMLLoader:m}},__vite__mapDeps([21,1,2])),u=new l().parse(g);a.execute(new ae(a,u))},!1),A.readAsText(i);break}case"xyz":{A.addEventListener("load",async function(c){const g=c.target.result,{XYZLoader:l}=await te(async()=>{const{XYZLoader:h}=await import("./XYZLoader-DvNUYdQH.js");return{XYZLoader:h}},__vite__mapDeps([22,1,2])),u=new l().parse(g),m=new ua;m.vertexColors=u.hasAttribute("color");const p=new Ra(u,m);p.name=o,a.execute(new ae(a,p))},!1),A.readAsText(i);break}case"zip":{A.addEventListener("load",function(c){s(c.target.result)},!1),A.readAsArrayBuffer(i);break}case"bmp":case"gif":case"jpg":case"jpeg":case"png":case"tga":break;default:console.error("Unsupported file format ("+d+").");break}};function t(i){switch(i.metadata===void 0&&(i.metadata={type:"Geometry"}),i.metadata.type===void 0&&(i.metadata.type="Geometry"),i.metadata.formatVersion!==void 0&&(i.metadata.version=i.metadata.formatVersion),i.metadata.type.toLowerCase()){case"buffergeometry":{const o=new ji().parse(i),d=new K(o);a.execute(new ae(a,d));break}case"geometry":console.error('Loader: "Geometry" is no longer supported.');break;case"object":{const r=new Ct;r.setResourcePath(e.texturePath),r.parse(i,function(o){a.execute(new ae(a,o))});break}case"app":a.fromJSON(i);break}}async function s(i){const r=ro(new Uint8Array(i)),o=new Os;if(o.setURLModifier(function(d){const A=r[d];if(A){console.log("Loading",d);const c=new Blob([A.buffer],{type:"application/octet-stream"});return URL.createObjectURL(c)}return d}),r["model.obj"]&&r["materials.mtl"]){const{MTLLoader:d}=await te(async()=>{const{MTLLoader:l}=await import("./MTLLoader-BK_keB_w.js");return{MTLLoader:l}},__vite__mapDeps([23,1,2])),{OBJLoader:A}=await te(async()=>{const{OBJLoader:l}=await import("./OBJLoader-DaMAJesB.js");return{OBJLoader:l}},__vite__mapDeps([13,1,2])),c=new d(o).parse(Ta(r["materials.mtl"])),g=new A().setMaterials(c).parse(Ta(r["model.obj"]));a.execute(new ae(a,g));return}for(const d in r){const A=r[d];switch(d.split(".").pop().toLowerCase()){case"fbx":{const{FBXLoader:g}=await te(async()=>{const{FBXLoader:m}=await import("./FBXLoader-C02jTJK-.js");return{FBXLoader:m}},__vite__mapDeps([9,1,2])),u=new g(o).parse(A.buffer);a.execute(new ae(a,u));break}case"glb":{try{const l=await new Ea(a.strings).show(),u=await n();u.parse(A.buffer,"",function(m){const p=m.scene;p.animations.push(...m.animations),l.asScene?a.execute(new Aa(a,p)):a.execute(new ae(a,p)),u.dracoLoader.dispose(),u.ktx2Loader.dispose()})}catch{}break}case"gltf":{try{const l=await new Ea(a.strings).show(),u=await n(o);u.parse(Ta(A),"",function(m){const p=m.scene;p.animations.push(...m.animations),l.asScene?a.execute(new Aa(a,p)):a.execute(new ae(a,p)),u.dracoLoader.dispose(),u.ktx2Loader.dispose()})}catch{}break}}}}async function n(i){const{GLTFLoader:r}=await te(async()=>{const{GLTFLoader:u}=await Promise.resolve().then(()=>bd);return{GLTFLoader:u}},void 0),{DRACOLoader:o}=await te(async()=>{const{DRACOLoader:u}=await import("./DRACOLoader-IvK0cMCR.js");return{DRACOLoader:u}},__vite__mapDeps([8,1,2])),{KTX2Loader:d}=await te(async()=>{const{KTX2Loader:u}=await import("./KTX2Loader-CElKkN-S.js");return{KTX2Loader:u}},__vite__mapDeps([24,1,2])),{MeshoptDecoder:A}=await te(async()=>{const{MeshoptDecoder:u}=await import("./meshopt_decoder.module-BK2qI-8z.js");return{MeshoptDecoder:u}},[]),c=new o;c.setDecoderPath("../examples/jsm/libs/draco/gltf/");const g=new d(i);g.setTranscoderPath("../examples/jsm/libs/basis/"),a.signals.rendererDetectKTX2Support.dispatch(g);const l=new r(i);return l.setDRACOLoader(c),l.setKTX2Loader(g),l.setMeshoptDecoder(A),l}}class ui extends Ce{constructor(e,t=null,s=""){super(e),this.type="AddScriptCommand",this.name=e.strings.getKey("command/AddScript"),this.object=t,this.script=s}execute(){this.editor.scripts[this.object.uuid]===void 0&&(this.editor.scripts[this.object.uuid]=[]),this.editor.scripts[this.object.uuid].push(this.script),this.editor.signals.scriptAdded.dispatch(this.script)}undo(){if(this.editor.scripts[this.object.uuid]===void 0)return;const e=this.editor.scripts[this.object.uuid].indexOf(this.script);e!==-1&&this.editor.scripts[this.object.uuid].splice(e,1),this.editor.signals.scriptRemoved.dispatch(this.script)}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.script=this.script,e}fromJSON(e){super.fromJSON(e),this.script=e.script,this.object=this.editor.objectByUuid(e.objectUuid)}}class mi extends Ce{constructor(e,t=null,s=null,n=null){super(e),this.type="MoveObjectCommand",this.name=e.strings.getKey("command/MoveObject"),this.object=t,this.oldParent=t!==null?t.parent:null,this.oldIndex=this.oldParent!==null?this.oldParent.children.indexOf(this.object):null,this.newParent=s,n!==null?this.newIndex=s!==null?s.children.indexOf(n):null:this.newIndex=s!==null?s.children.length:null,this.oldParent===this.newParent&&this.newIndex>this.oldIndex&&this.newIndex--,this.newBefore=n}execute(){this.oldParent.remove(this.object),this.newParent.children.splice(this.newIndex,0,this.object),this.object.parent=this.newParent,this.object.dispatchEvent({type:"added"}),this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.objectChanged.dispatch(this.newParent),this.editor.signals.objectChanged.dispatch(this.oldParent),this.editor.signals.sceneGraphChanged.dispatch()}undo(){this.newParent.remove(this.object),this.oldParent.children.splice(this.oldIndex,0,this.object),this.object.parent=this.oldParent,this.object.dispatchEvent({type:"added"}),this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.objectChanged.dispatch(this.newParent),this.editor.signals.objectChanged.dispatch(this.oldParent),this.editor.signals.sceneGraphChanged.dispatch()}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.newParentUuid=this.newParent.uuid,e.oldParentUuid=this.oldParent.uuid,e.newIndex=this.newIndex,e.oldIndex=this.oldIndex,e}fromJSON(e){super.fromJSON(e),this.object=this.editor.objectByUuid(e.objectUuid),this.oldParent=this.editor.objectByUuid(e.oldParentUuid),this.oldParent===void 0&&(this.oldParent=this.editor.scene),this.newParent=this.editor.objectByUuid(e.newParentUuid),this.newParent===void 0&&(this.newParent=this.editor.scene),this.newIndex=e.newIndex,this.oldIndex=e.oldIndex}}class Ao extends Ce{constructor(e,t=[]){super(e),this.type="MultiCmdsCommand",this.name=e.strings.getKey("command/MultiCmds"),this.cmdArray=t}execute(){this.editor.signals.sceneGraphChanged.active=!1;for(let e=0;e<this.cmdArray.length;e++)this.cmdArray[e].execute();this.editor.signals.sceneGraphChanged.active=!0,this.editor.signals.sceneGraphChanged.dispatch()}undo(){this.editor.signals.sceneGraphChanged.active=!1;for(let e=this.cmdArray.length-1;e>=0;e--)this.cmdArray[e].undo();this.editor.signals.sceneGraphChanged.active=!0,this.editor.signals.sceneGraphChanged.dispatch()}toJSON(){const e=super.toJSON(this),t=[];for(let s=0;s<this.cmdArray.length;s++)t.push(this.cmdArray[s].toJSON());return e.cmds=t,e}fromJSON(e){super.fromJSON(e);const t=e.cmds;for(let s=0;s<t.length;s++){const n=new window[t[s].type];n.fromJSON(t[s]),this.cmdArray.push(n)}}}class ks extends Ce{constructor(e,t=null){super(e),this.type="RemoveObjectCommand",this.object=t,this.parent=t!==null?t.parent:null,this.parent!==null&&(this.index=this.parent.children.indexOf(this.object)),t!==null&&(this.name=e.strings.getKey("command/RemoveObject")+": "+t.name)}execute(){this.editor.removeObject(this.object),this.editor.deselect()}undo(){this.editor.addObject(this.object,this.parent,this.index),this.editor.select(this.object)}toJSON(){const e=super.toJSON(this);return e.object=this.object.toJSON(),e.index=this.index,e.parentUuid=this.parent.uuid,e}fromJSON(e){if(super.fromJSON(e),this.parent=this.editor.objectByUuid(e.parentUuid),this.parent===void 0&&(this.parent=this.editor.scene),this.index=e.index,this.object=this.editor.objectByUuid(e.object.object.uuid),this.object===void 0){const t=new Ct;this.object=t.parse(e.object)}}}class hi extends Ce{constructor(e,t=null,s=""){super(e),this.type="RemoveScriptCommand",this.name=e.strings.getKey("command/RemoveScript"),this.object=t,this.script=s,this.object!==null&&this.script!==""&&(this.index=this.editor.scripts[this.object.uuid].indexOf(this.script))}execute(){this.editor.scripts[this.object.uuid]!==void 0&&(this.index!==-1&&this.editor.scripts[this.object.uuid].splice(this.index,1),this.editor.signals.scriptRemoved.dispatch(this.script))}undo(){this.editor.scripts[this.object.uuid]===void 0&&(this.editor.scripts[this.object.uuid]=[]),this.editor.scripts[this.object.uuid].splice(this.index,0,this.script),this.editor.signals.scriptAdded.dispatch(this.script)}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.script=this.script,e.index=this.index,e}fromJSON(e){super.fromJSON(e),this.script=e.script,this.index=e.index,this.object=this.editor.objectByUuid(e.objectUuid)}}class ws extends Ce{constructor(e,t=null,s="",n=null){super(e),this.type="SetColorCommand",this.name=e.strings.getKey("command/SetColor")+": "+s,this.updatable=!0,this.object=t,this.attributeName=s,this.oldValue=t!==null?this.object[this.attributeName].getHex():null,this.newValue=n}execute(){this.object[this.attributeName].setHex(this.newValue),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.object[this.attributeName].setHex(this.oldValue),this.editor.signals.objectChanged.dispatch(this.object)}update(e){this.newValue=e.newValue}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.attributeName=this.attributeName,e.oldValue=this.oldValue,e.newValue=this.newValue,e}fromJSON(e){super.fromJSON(e),this.object=this.editor.objectByUuid(e.objectUuid),this.attributeName=e.attributeName,this.oldValue=e.oldValue,this.newValue=e.newValue}}class Qe extends Ce{constructor(e,t=null,s=null){super(e),this.type="SetGeometryCommand",this.name=e.strings.getKey("command/SetGeometry"),this.updatable=!0,this.object=t,this.oldGeometry=t!==null?t.geometry:null,this.newGeometry=s}execute(){this.object.geometry.dispose(),this.object.geometry=this.newGeometry,this.object.geometry.computeBoundingSphere(),this.editor.signals.geometryChanged.dispatch(this.object),this.editor.signals.sceneGraphChanged.dispatch()}undo(){this.object.geometry.dispose(),this.object.geometry=this.oldGeometry,this.object.geometry.computeBoundingSphere(),this.editor.signals.geometryChanged.dispatch(this.object),this.editor.signals.sceneGraphChanged.dispatch()}update(e){this.newGeometry=e.newGeometry}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.oldGeometry=this.oldGeometry.toJSON(),e.newGeometry=this.newGeometry.toJSON(),e}fromJSON(e){super.fromJSON(e),this.object=this.editor.objectByUuid(e.objectUuid),this.oldGeometry=t(e.oldGeometry),this.newGeometry=t(e.newGeometry);function t(s){return new Ct().parseGeometries([s])[s.uuid]}}}class Na extends Ce{constructor(e,t=null,s="",n=null){super(e),this.type="SetGeometryValueCommand",this.name=e.strings.getKey("command/SetGeometryValue")+": "+s,this.object=t,this.attributeName=s,this.oldValue=t!==null?t.geometry[s]:null,this.newValue=n}execute(){this.object.geometry[this.attributeName]=this.newValue,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.geometryChanged.dispatch(),this.editor.signals.sceneGraphChanged.dispatch()}undo(){this.object.geometry[this.attributeName]=this.oldValue,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.geometryChanged.dispatch(),this.editor.signals.sceneGraphChanged.dispatch()}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.attributeName=this.attributeName,e.oldValue=this.oldValue,e.newValue=this.newValue,e}fromJSON(e){super.fromJSON(e),this.object=this.editor.objectByUuid(e.objectUuid),this.attributeName=e.attributeName,this.oldValue=e.oldValue,this.newValue=e.newValue}}class pi extends Ce{constructor(e,t=null,s="",n=null,i=-1){super(e),this.type="SetMaterialColorCommand",this.name=e.strings.getKey("command/SetMaterialColor")+": "+s,this.updatable=!0,this.object=t,this.materialSlot=i;const r=t!==null?e.getObjectMaterial(t,i):null;this.oldValue=r!==null?r[s].getHex():null,this.newValue=n,this.attributeName=s}execute(){this.editor.getObjectMaterial(this.object,this.materialSlot)[this.attributeName].setHex(this.newValue),this.editor.signals.materialChanged.dispatch(this.object,this.materialSlot)}undo(){this.editor.getObjectMaterial(this.object,this.materialSlot)[this.attributeName].setHex(this.oldValue),this.editor.signals.materialChanged.dispatch(this.object,this.materialSlot)}update(e){this.newValue=e.newValue}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.attributeName=this.attributeName,e.oldValue=this.oldValue,e.newValue=this.newValue,e.materialSlot=this.materialSlot,e}fromJSON(e){super.fromJSON(e),this.object=this.editor.objectByUuid(e.objectUuid),this.attributeName=e.attributeName,this.oldValue=e.oldValue,this.newValue=e.newValue,this.materialSlot=e.materialSlot}}class bi extends Ce{constructor(e,t=null,s=null,n=-1){super(e),this.type="SetMaterialCommand",this.name=e.strings.getKey("command/SetMaterial"),this.object=t,this.materialSlot=n,this.oldMaterial=t!==null?e.getObjectMaterial(t,n):null,this.newMaterial=s}execute(){this.editor.setObjectMaterial(this.object,this.materialSlot,this.newMaterial),this.editor.signals.materialChanged.dispatch(this.object,this.materialSlot)}undo(){this.editor.setObjectMaterial(this.object,this.materialSlot,this.oldMaterial),this.editor.signals.materialChanged.dispatch(this.object,this.materialSlot)}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.oldMaterial=this.oldMaterial.toJSON(),e.newMaterial=this.newMaterial.toJSON(),e.materialSlot=this.materialSlot,e}fromJSON(e){super.fromJSON(e),this.object=this.editor.objectByUuid(e.objectUuid),this.oldMaterial=t(e.oldMaterial),this.newMaterial=t(e.newMaterial),this.materialSlot=e.materialSlot;function t(s){const n=new Ct,i=n.parseImages(s.images),r=n.parseTextures(s.textures,i);return n.parseMaterials([s],r)[s.uuid]}}}class fi extends Ce{constructor(e,t=null,s="",n=null,i=-1){super(e),this.type="SetMaterialMapCommand",this.name=e.strings.getKey("command/SetMaterialMap")+": "+s,this.object=t,this.materialSlot=i;const r=t!==null?e.getObjectMaterial(t,i):null;this.oldMap=t!==null?r[s]:void 0,this.newMap=n,this.mapName=s}execute(){this.oldMap!==null&&this.oldMap!==void 0&&this.oldMap.dispose();const e=this.editor.getObjectMaterial(this.object,this.materialSlot);e[this.mapName]=this.newMap,e.needsUpdate=!0,this.editor.signals.materialChanged.dispatch(this.object,this.materialSlot)}undo(){const e=this.editor.getObjectMaterial(this.object,this.materialSlot);e[this.mapName]=this.oldMap,e.needsUpdate=!0,this.editor.signals.materialChanged.dispatch(this.object,this.materialSlot)}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.mapName=this.mapName,e.newMap=t(this.newMap),e.oldMap=t(this.oldMap),e.materialSlot=this.materialSlot,e;function t(n){if(n==null)return null;const i={geometries:{},materials:{},textures:{},images:{}},r=n.toJSON(i),o=s(i.images);return o.length>0&&(r.images=o),r.sourceFile=n.sourceFile,r}function s(n){const i=[];for(const r in n){const o=n[r];delete o.metadata,i.push(o)}return i}}fromJSON(e){super.fromJSON(e),this.object=this.editor.objectByUuid(e.objectUuid),this.mapName=e.mapName,this.oldMap=t(e.oldMap),this.newMap=t(e.newMap),this.materialSlot=e.materialSlot;function t(s){let n=null;if(s!==null){const i=new Ct,r=i.parseImages(s.images);n=i.parseTextures([s],r)[s.uuid],n.sourceFile=s.sourceFile}return n}}}class Fs extends Ce{constructor(e,t=null,s="",n=-1/0,i=1/0,r=-1){super(e),this.type="SetMaterialRangeCommand",this.name=e.strings.getKey("command/SetMaterialRange")+": "+s,this.updatable=!0,this.object=t,this.materialSlot=r;const o=t!==null?e.getObjectMaterial(t,r):null;this.oldRange=o!==null&&o[s]!==void 0?[...o[s]]:null,this.newRange=[n,i],this.attributeName=s}execute(){const e=this.editor.getObjectMaterial(this.object,this.materialSlot);e[this.attributeName]=[...this.newRange],e.needsUpdate=!0,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.materialChanged.dispatch(this.object,this.materialSlot)}undo(){const e=this.editor.getObjectMaterial(this.object,this.materialSlot);e[this.attributeName]=[...this.oldRange],e.needsUpdate=!0,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.materialChanged.dispatch(this.object,this.materialSlot)}update(e){this.newRange=[...e.newRange]}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.attributeName=this.attributeName,e.oldRange=[...this.oldRange],e.newRange=[...this.newRange],e.materialSlot=this.materialSlot,e}fromJSON(e){super.fromJSON(e),this.attributeName=e.attributeName,this.oldRange=[...e.oldRange],this.newRange=[...e.newRange],this.object=this.editor.objectByUuid(e.objectUuid),this.materialSlot=e.materialSlot}}class it extends Ce{constructor(e,t=null,s="",n=null,i=-1){super(e),this.type="SetMaterialValueCommand",this.name=e.strings.getKey("command/SetMaterialValue")+": "+s,this.updatable=!0,this.object=t,this.materialSlot=i;const r=t!==null?e.getObjectMaterial(t,i):null;this.oldValue=r!==null?r[s]:null,this.newValue=n,this.attributeName=s}execute(){const e=this.editor.getObjectMaterial(this.object,this.materialSlot);e[this.attributeName]=this.newValue,e.needsUpdate=!0,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.materialChanged.dispatch(this.object,this.materialSlot)}undo(){const e=this.editor.getObjectMaterial(this.object,this.materialSlot);e[this.attributeName]=this.oldValue,e.needsUpdate=!0,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.materialChanged.dispatch(this.object,this.materialSlot)}update(e){this.newValue=e.newValue}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.attributeName=this.attributeName,e.oldValue=this.oldValue,e.newValue=this.newValue,e.materialSlot=this.materialSlot,e}fromJSON(e){super.fromJSON(e),this.attributeName=e.attributeName,this.oldValue=e.oldValue,this.newValue=e.newValue,this.object=this.editor.objectByUuid(e.objectUuid),this.materialSlot=e.materialSlot}}class yi extends Ce{constructor(e,t=null,s="",n=null,i=-1){super(e),this.type="SetMaterialVectorCommand",this.name=e.strings.getKey("command/SetMaterialVector")+": "+s,this.updatable=!0,this.object=t,this.materialSlot=i;const r=t!==null?e.getObjectMaterial(t,i):null;this.oldValue=r!==null?r[s].toArray():null,this.newValue=n,this.attributeName=s}execute(){this.editor.getObjectMaterial(this.object,this.materialSlot)[this.attributeName].fromArray(this.newValue),this.editor.signals.materialChanged.dispatch(this.object,this.materialSlot)}undo(){this.editor.getObjectMaterial(this.object,this.materialSlot)[this.attributeName].fromArray(this.oldValue),this.editor.signals.materialChanged.dispatch(this.object,this.materialSlot)}update(e){this.newValue=e.newValue}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.attributeName=this.attributeName,e.oldValue=this.oldValue,e.newValue=this.newValue,e.materialSlot=this.materialSlot,e}fromJSON(e){super.fromJSON(e),this.object=this.editor.objectByUuid(e.objectUuid),this.attributeName=e.attributeName,this.oldValue=e.oldValue,this.newValue=e.newValue,this.materialSlot=e.materialSlot}}class za extends Ce{constructor(e,t=null,s=null,n=null){super(e),this.type="SetPositionCommand",this.name=e.strings.getKey("command/SetPosition"),this.updatable=!0,this.object=t,t!==null&&s!==null&&(this.oldPosition=t.position.clone(),this.newPosition=s.clone()),n!==null&&(this.oldPosition=n.clone())}execute(){this.object.position.copy(this.newPosition),this.object.updateMatrixWorld(!0),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.object.position.copy(this.oldPosition),this.object.updateMatrixWorld(!0),this.editor.signals.objectChanged.dispatch(this.object)}update(e){this.newPosition.copy(e.newPosition)}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.oldPosition=this.oldPosition.toArray(),e.newPosition=this.newPosition.toArray(),e}fromJSON(e){super.fromJSON(e),this.object=this.editor.objectByUuid(e.objectUuid),this.oldPosition=new Z().fromArray(e.oldPosition),this.newPosition=new Z().fromArray(e.newPosition)}}class Vs extends Ce{constructor(e,t=null,s=null,n=null){super(e),this.type="SetRotationCommand",this.name=e.strings.getKey("command/SetRotation"),this.updatable=!0,this.object=t,t!==null&&s!==null&&(this.oldRotation=t.rotation.clone(),this.newRotation=s.clone()),n!==null&&(this.oldRotation=n.clone())}execute(){this.object.rotation.copy(this.newRotation),this.object.updateMatrixWorld(!0),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.object.rotation.copy(this.oldRotation),this.object.updateMatrixWorld(!0),this.editor.signals.objectChanged.dispatch(this.object)}update(e){this.newRotation.copy(e.newRotation)}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.oldRotation=this.oldRotation.toArray(),e.newRotation=this.newRotation.toArray(),e}fromJSON(e){super.fromJSON(e),this.object=this.editor.objectByUuid(e.objectUuid),this.oldRotation=new at().fromArray(e.oldRotation),this.newRotation=new at().fromArray(e.newRotation)}}class js extends Ce{constructor(e,t=null,s=null,n=null){super(e),this.type="SetScaleCommand",this.name=e.strings.getKey("command/SetScale"),this.updatable=!0,this.object=t,t!==null&&s!==null&&(this.oldScale=t.scale.clone(),this.newScale=s.clone()),n!==null&&(this.oldScale=n.clone())}execute(){this.object.scale.copy(this.newScale),this.object.updateMatrixWorld(!0),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.object.scale.copy(this.oldScale),this.object.updateMatrixWorld(!0),this.editor.signals.objectChanged.dispatch(this.object)}update(e){this.newScale.copy(e.newScale)}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.oldScale=this.oldScale.toArray(),e.newScale=this.newScale.toArray(),e}fromJSON(e){super.fromJSON(e),this.object=this.editor.objectByUuid(e.objectUuid),this.oldScale=new Z().fromArray(e.oldScale),this.newScale=new Z().fromArray(e.newScale)}}class Ci extends Ce{constructor(e,t=null,s="",n="",i=null){super(e),this.type="SetScriptValueCommand",this.name=e.strings.getKey("command/SetScriptValue")+": "+n,this.updatable=!0,this.object=t,this.script=s,this.attributeName=n,this.oldValue=s!==""?s[this.attributeName]:null,this.newValue=i}execute(){this.script[this.attributeName]=this.newValue,this.editor.signals.scriptChanged.dispatch(this.script)}undo(){this.script[this.attributeName]=this.oldValue,this.editor.signals.scriptChanged.dispatch(this.script)}update(e){this.newValue=e.newValue}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.index=this.editor.scripts[this.object.uuid].indexOf(this.script),e.attributeName=this.attributeName,e.oldValue=this.oldValue,e.newValue=this.newValue,e}fromJSON(e){super.fromJSON(e),this.oldValue=e.oldValue,this.newValue=e.newValue,this.attributeName=e.attributeName,this.object=this.editor.objectByUuid(e.objectUuid),this.script=this.editor.scripts[e.objectUuid][e.index]}}class la extends Ce{constructor(e,t=null,s="",n=null){super(e),this.type="SetShadowValueCommand",this.name=e.strings.getKey("command/SetShadowValue")+": "+s,this.updatable=!0,this.object=t,this.attributeName=s,this.oldValue=t!==null?t.shadow[s]:null,this.newValue=n}execute(){this.object.shadow[this.attributeName]=this.newValue,this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.object.shadow[this.attributeName]=this.oldValue,this.editor.signals.objectChanged.dispatch(this.object)}update(e){this.newValue=e.newValue}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.attributeName=this.attributeName,e.oldValue=this.oldValue,e.newValue=this.newValue,e}fromJSON(e){super.fromJSON(e),this.object=this.editor.objectByUuid(e.objectUuid),this.attributeName=e.attributeName,this.oldValue=e.oldValue,this.newValue=e.newValue}}const rn=Object.freeze(Object.defineProperty({__proto__:null,AddObjectCommand:ae,AddScriptCommand:ui,MoveObjectCommand:mi,MultiCmdsCommand:Ao,RemoveObjectCommand:ks,RemoveScriptCommand:hi,SetColorCommand:ws,SetGeometryCommand:Qe,SetGeometryValueCommand:Na,SetMaterialColorCommand:pi,SetMaterialCommand:bi,SetMaterialMapCommand:fi,SetMaterialRangeCommand:Fs,SetMaterialValueCommand:it,SetMaterialVectorCommand:yi,SetPositionCommand:za,SetRotationCommand:Vs,SetScaleCommand:js,SetSceneCommand:Aa,SetScriptValueCommand:Ci,SetShadowValueCommand:la,SetUuidCommand:_s,SetValueCommand:Ie},Symbol.toStringTag,{value:"Module"}));class lo{constructor(e){this.editor=e,this.undos=[],this.redos=[],this.lastCmdTime=Date.now(),this.idCounter=0,this.historyDisabled=!1,this.config=e.config;const t=this;this.editor.signals.startPlayer.add(function(){t.historyDisabled=!0}),this.editor.signals.stopPlayer.add(function(){t.historyDisabled=!1})}execute(e,t){const s=this.undos[this.undos.length-1],n=Date.now()-this.lastCmdTime,i=s&&s.updatable&&e.updatable&&s.object===e.object&&s.type===e.type&&s.script===e.script&&s.attributeName===e.attributeName;i&&e.type==="SetScriptValueCommand"||i&&n<500?(s.update(e),e=s):(this.undos.push(e),e.id=++this.idCounter),e.name=t!==void 0?t:e.name,e.execute(),e.inMemory=!0,this.config.getKey("settings/history")&&(e.json=e.toJSON()),this.lastCmdTime=Date.now(),this.redos=[],this.editor.signals.historyChanged.dispatch(e)}undo(){if(this.historyDisabled){alert(this.editor.strings.getKey("prompt/history/forbid"));return}let e;return this.undos.length>0&&(e=this.undos.pop(),e.inMemory===!1&&e.fromJSON(e.json)),e!==void 0&&(e.undo(),this.redos.push(e),this.editor.signals.historyChanged.dispatch(e)),e}redo(){if(this.historyDisabled){alert(this.editor.strings.getKey("prompt/history/forbid"));return}let e;return this.redos.length>0&&(e=this.redos.pop(),e.inMemory===!1&&e.fromJSON(e.json)),e!==void 0&&(e.execute(),this.undos.push(e),this.editor.signals.historyChanged.dispatch(e)),e}toJSON(){const e={};if(e.undos=[],e.redos=[],!this.config.getKey("settings/history"))return e;for(let t=0;t<this.undos.length;t++)this.undos[t].hasOwnProperty("json")&&e.undos.push(this.undos[t].json);for(let t=0;t<this.redos.length;t++)this.redos[t].hasOwnProperty("json")&&e.redos.push(this.redos[t].json);return e}fromJSON(e){if(e!==void 0){for(let t=0;t<e.undos.length;t++){const s=e.undos[t],n=new rn[s.type](this.editor);n.json=s,n.id=s.id,n.name=s.name,this.undos.push(n),this.idCounter=s.id>this.idCounter?s.id:this.idCounter}for(let t=0;t<e.redos.length;t++){const s=e.redos[t],n=new rn[s.type](this.editor);n.json=s,n.id=s.id,n.name=s.name,this.redos.push(n),this.idCounter=s.id>this.idCounter?s.id:this.idCounter}this.editor.signals.historyChanged.dispatch(this.undos[this.undos.length-1])}}clear(){this.undos=[],this.redos=[],this.idCounter=0,this.editor.signals.historyChanged.dispatch()}goToState(e){if(this.historyDisabled){alert(this.editor.strings.getKey("prompt/history/forbid"));return}this.editor.signals.sceneGraphChanged.active=!1,this.editor.signals.historyChanged.active=!1;let t=this.undos.length>0?this.undos[this.undos.length-1]:void 0;if(t===void 0||e>t.id)for(t=this.redo();t!==void 0&&e>t.id;)t=this.redo();else for(;t=this.undos[this.undos.length-1],!(t===void 0||e===t.id);)this.undo();this.editor.signals.sceneGraphChanged.active=!0,this.editor.signals.historyChanged.active=!0,this.editor.signals.sceneGraphChanged.dispatch(),this.editor.signals.historyChanged.dispatch(t)}enableSerialization(e){this.goToState(-1),this.editor.signals.sceneGraphChanged.active=!1,this.editor.signals.historyChanged.active=!1;let t=this.redo();for(;t!==void 0;)t.hasOwnProperty("json")||(t.json=t.toJSON()),t=this.redo();this.editor.signals.sceneGraphChanged.active=!0,this.editor.signals.historyChanged.active=!0,this.goToState(e)}}function co(a){const e=a.getKey("language"),t={fa:{"prompt/file/open":"         ","prompt/file/failedToOpenProject":"      ","prompt/file/export/noMeshSelected":" Mesh   ","prompt/file/export/noObjectSelected":"   !","prompt/script/remove":"  ","prompt/history/clear":"    (undo / redo)     ","prompt/history/preserve":`The history will be preserved across sessions.
This can have an impact on performance when working with textures.`,"prompt/history/forbid":"Undo/Redo disabled while scene is playing.","prompt/rendering/realistic/unsupportedMaterial":"REALISTIC Shading: Only MeshStandardMaterial and MeshPhysicalMaterial are supported","command/AddObject":" ","command/AddScript":" ","command/MoveObject":" ","command/MultiCmds":" ","command/RemoveObject":" ","command/RemoveScript":" ","command/SetColor":" ","command/SetGeometry":" ","command/SetGeometryValue":"  ","command/SetMaterialColor":"  ","command/SetMaterial":" ","command/SetMaterialMap":"  ","command/SetMaterialRange":"  ","command/SetMaterialValue":"  ","command/SetMaterialVector":"  ","command/SetPosition":" ","command/SetRotation":" ","command/SetScale":" ","command/SetScene":" ","command/SetScriptValue":"  ","command/SetShadowValue":"  ","command/SetUuid":" UUID","command/SetValue":" ","menubar/file":"","menubar/file/new":"","menubar/file/new/empty":" ","menubar/file/new/Arkanoid":"","menubar/file/new/Camera":"","menubar/file/new/Particles":"Particles","menubar/file/new/Pong":"","menubar/file/new/Shaders":"Shaders","menubar/file/open":" ","menubar/file/save":" ","menubar/file/import":"","menubar/file/export":"","menubar/edit":"","menubar/edit/undo":"","menubar/edit/redo":"  ","menubar/edit/center":"","menubar/edit/clone":" ","menubar/edit/delete":"","menubar/add":"","menubar/add/group":"","menubar/add/mesh":"","menubar/add/mesh/plane":"","menubar/add/mesh/box":"","menubar/add/mesh/capsule":"","menubar/add/mesh/circle":"","menubar/add/mesh/cylinder":"","menubar/add/mesh/ring":"","menubar/add/mesh/sphere":"","menubar/add/mesh/dodecahedron":" ","menubar/add/mesh/icosahedron":" ","menubar/add/mesh/octahedron":" ","menubar/add/mesh/tetrahedron":" ","menubar/add/mesh/torus":" ()","menubar/add/mesh/tube":"","menubar/add/mesh/torusknot":"torusknot","menubar/add/mesh/lathe":"Lathe","menubar/add/mesh/sprite":"Sprite","menubar/add/light":"","menubar/add/light/ambient":"","menubar/add/light/directional":" ","menubar/add/light/hemisphere":"","menubar/add/light/point":"","menubar/add/light/spot":" ","menubar/add/camera":"","menubar/add/camera/perspective":"","menubar/add/camera/orthographic":"","menubar/status/autosave":" ","menubar/view":"","menubar/view/fullscreen":" ","menubar/view/gridHelper":"  ","menubar/view/cameraHelpers":"  ","menubar/view/lightHelpers":"  ","menubar/view/skeletonHelpers":"  ","menubar/render":"","menubar/render/image":"","menubar/render/video":"","menubar/render/quality":"","menubar/render/cancel":"","menubar/help":"","menubar/help/source_code":" ","menubar/help/icons":" ","menubar/help/about":" ","menubar/help/manual":" ","sidebar/animations":" ","sidebar/animations/play":"","sidebar/animations/stop":"","sidebar/animations/timescale":" ","sidebar/scene":"","sidebar/scene/background":" ","sidebar/scene/environment":"","sidebar/scene/fog":"","sidebar/properties/object":"","sidebar/properties/geometry":"","sidebar/properties/material":"","sidebar/properties/script":"","sidebar/object/type":"","sidebar/object/new":"","sidebar/object/uuid":"UUID","sidebar/object/name":"","sidebar/object/position":"","sidebar/object/rotation":"","sidebar/object/scale":"","sidebar/object/fov":" ","sidebar/object/left":"","sidebar/object/right":"","sidebar/object/top":"","sidebar/object/bottom":"","sidebar/object/near":"","sidebar/object/far":"","sidebar/object/intensity":"","sidebar/object/color":"","sidebar/object/groundcolor":" ","sidebar/object/distance":"","sidebar/object/angle":"","sidebar/object/penumbra":" ","sidebar/object/decay":"","sidebar/object/shadow":"","sidebar/object/shadowIntensity":" ","sidebar/object/shadowBias":" ","sidebar/object/shadowNormalBias":"  ","sidebar/object/shadowRadius":" ","sidebar/object/cast":" ","sidebar/object/receive":"","sidebar/object/visible":"","sidebar/object/frustumcull":" ","sidebar/object/renderorder":" ","sidebar/object/userdata":" ","sidebar/object/export":" ","sidebar/geometry/type":"","sidebar/geometry/new":"","sidebar/geometry/uuid":"UUID","sidebar/geometry/name":"","sidebar/geometry/bounds":"","sidebar/geometry/userdata":" ","sidebar/geometry/show_vertex_normals":"   ","sidebar/geometry/compute_vertex_normals":"   ","sidebar/geometry/compute_vertex_tangents":"  ","sidebar/geometry/center":"","sidebar/geometry/export":" ","sidebar/geometry/morph":"Morph Targets","sidebar/geometry/box_geometry/width":"","sidebar/geometry/box_geometry/height":"","sidebar/geometry/box_geometry/depth":"","sidebar/geometry/box_geometry/widthseg":" ","sidebar/geometry/box_geometry/heightseg":" ","sidebar/geometry/box_geometry/depthseg":" ","sidebar/geometry/buffer_geometry/attributes":"","sidebar/geometry/buffer_geometry/index":"","sidebar/geometry/buffer_geometry/morphAttributes":"  ()","sidebar/geometry/buffer_geometry/morphRelative":"  ()","sidebar/geometry/capsule_geometry/radius":"","sidebar/geometry/capsule_geometry/height":"","sidebar/geometry/capsule_geometry/capseg":"Cap Seg","sidebar/geometry/capsule_geometry/radialseg":"Radial Seg","sidebar/geometry/capsule_geometry/heightseg":"Height Seg","sidebar/geometry/circle_geometry/radius":"","sidebar/geometry/circle_geometry/segments":" ","sidebar/geometry/circle_geometry/thetastart":" ","sidebar/geometry/circle_geometry/thetalength":" ","sidebar/geometry/cylinder_geometry/radiustop":" ","sidebar/geometry/cylinder_geometry/radiusbottom":" ","sidebar/geometry/cylinder_geometry/height":"","sidebar/geometry/cylinder_geometry/radialsegments":"  ","sidebar/geometry/cylinder_geometry/heightsegments":"  ","sidebar/geometry/cylinder_geometry/openended":" ","sidebar/geometry/extrude_geometry/curveSegments":"  ","sidebar/geometry/extrude_geometry/steps":" ","sidebar/geometry/extrude_geometry/depth":"","sidebar/geometry/extrude_geometry/bevelEnabled":"","sidebar/geometry/extrude_geometry/bevelThickness":"","sidebar/geometry/extrude_geometry/bevelSize":"","sidebar/geometry/extrude_geometry/bevelOffset":"","sidebar/geometry/extrude_geometry/bevelSegments":" ","sidebar/geometry/extrude_geometry/shape":"  ","sidebar/geometry/dodecahedron_geometry/radius":"","sidebar/geometry/dodecahedron_geometry/detail":"","sidebar/geometry/icosahedron_geometry/radius":"","sidebar/geometry/icosahedron_geometry/detail":"","sidebar/geometry/octahedron_geometry/radius":"","sidebar/geometry/octahedron_geometry/detail":"","sidebar/geometry/tetrahedron_geometry/radius":"","sidebar/geometry/tetrahedron_geometry/detail":"","sidebar/geometry/lathe_geometry/segments":" ","sidebar/geometry/lathe_geometry/phistart":"  ()","sidebar/geometry/lathe_geometry/philength":"  ()","sidebar/geometry/lathe_geometry/points":" ","sidebar/geometry/plane_geometry/width":"","sidebar/geometry/plane_geometry/height":"","sidebar/geometry/plane_geometry/widthsegments":" ","sidebar/geometry/plane_geometry/heightsegments":" ","sidebar/geometry/ring_geometry/innerRadius":" ","sidebar/geometry/ring_geometry/outerRadius":" ","sidebar/geometry/ring_geometry/thetaSegments":"  ","sidebar/geometry/ring_geometry/phiSegments":"  ","sidebar/geometry/ring_geometry/thetastart":" ","sidebar/geometry/ring_geometry/thetalength":" ","sidebar/geometry/shape_geometry/curveSegments":"  ","sidebar/geometry/shape_geometry/extrude":" ","sidebar/geometry/sphere_geometry/radius":"","sidebar/geometry/sphere_geometry/widthsegments":" ","sidebar/geometry/sphere_geometry/heightsegments":" ","sidebar/geometry/sphere_geometry/phistart":" ","sidebar/geometry/sphere_geometry/philength":"  ","sidebar/geometry/sphere_geometry/thetastart":" ","sidebar/geometry/sphere_geometry/thetalength":" ","sidebar/geometry/torus_geometry/radius":"","sidebar/geometry/torus_geometry/tube":"","sidebar/geometry/torus_geometry/radialsegments":"  ","sidebar/geometry/torus_geometry/tubularsegments":"   ","sidebar/geometry/torus_geometry/arc":"","sidebar/geometry/torusKnot_geometry/radius":"","sidebar/geometry/torusKnot_geometry/tube":"","sidebar/geometry/torusKnot_geometry/tubularsegments":"   ","sidebar/geometry/torusKnot_geometry/radialsegments":"  ","sidebar/geometry/torusKnot_geometry/p":"P","sidebar/geometry/torusKnot_geometry/q":"Q","sidebar/geometry/tube_geometry/path":"","sidebar/geometry/tube_geometry/radius":"","sidebar/geometry/tube_geometry/tube":"","sidebar/geometry/tube_geometry/tubularsegments":"   ","sidebar/geometry/tube_geometry/radialsegments":"  ","sidebar/geometry/tube_geometry/closed":" ","sidebar/geometry/tube_geometry/curvetype":" ","sidebar/geometry/tube_geometry/tension":"","sidebar/material/new":"","sidebar/material/copy":"","sidebar/material/paste":"","sidebar/material/slot":"","sidebar/material/type":"","sidebar/material/uuid":"UUID","sidebar/material/name":"","sidebar/material/program":"","sidebar/material/info":"","sidebar/material/vertex":"","sidebar/material/fragment":"","sidebar/material/color":"","sidebar/material/depthPacking":"  ","sidebar/material/roughness":"","sidebar/material/metalness":" ","sidebar/material/reflectivity":"","sidebar/material/emissive":" ","sidebar/material/specular":"","sidebar/material/shininess":"","sidebar/material/clearcoat":"","sidebar/material/clearcoatroughness":" ","sidebar/material/dispersion":"","sidebar/material/ior":"IOR","sidebar/material/iridescence":" ","sidebar/material/iridescenceIOR":"IOR  ","sidebar/material/iridescenceThicknessMax":"  ","sidebar/material/sheen":" ()","sidebar/material/sheenroughness":"  ()","sidebar/material/sheencolor":"  ()","sidebar/material/transmission":"","sidebar/material/attenuationDistance":" ","sidebar/material/attenuationColor":" ","sidebar/material/thickness":"","sidebar/material/vertexcolors":"  ","sidebar/material/matcap":"","sidebar/material/map":"","sidebar/material/alphamap":" ","sidebar/material/bumpmap":" ","sidebar/material/normalmap":" ","sidebar/material/clearcoatmap":" ","sidebar/material/clearcoatnormalmap":"  ","sidebar/material/clearcoatroughnessmap":"  ","sidebar/material/displacementmap":" ","sidebar/material/roughnessmap":" ","sidebar/material/metalnessmap":"  ","sidebar/material/specularmap":" ","sidebar/material/iridescencemap":"  ","sidebar/material/iridescencethicknessmap":"   ","sidebar/material/sheencolormap":"   ()","sidebar/material/sheenroughnessmap":"  ","sidebar/material/envmap":" ","sidebar/material/lightmap":" ","sidebar/material/aomap":"AO ","sidebar/material/emissivemap":"  ","sidebar/material/gradientmap":" ","sidebar/material/transmissionmap":" ","sidebar/material/thicknessmap":" ","sidebar/material/side":"","sidebar/material/size":"","sidebar/material/sizeAttenuation":" ","sidebar/material/flatShading":"  ","sidebar/material/blending":" ","sidebar/material/opacity":" ","sidebar/material/transparent":"","sidebar/material/forcesinglepass":"  ","sidebar/material/alphatest":" ","sidebar/material/depthtest":" ","sidebar/material/depthwrite":" ","sidebar/material/wireframe":"","sidebar/material/userdata":" ","sidebar/material/export":" ","sidebar/script/new":"","sidebar/script/edit":"","sidebar/script/remove":"","sidebar/project":" ","sidebar/project/renderer":"","sidebar/project/antialias":" ","sidebar/project/shadows":" ","sidebar/project/toneMapping":" ","sidebar/project/geometries":" ","sidebar/project/materials":" ","sidebar/project/textures":"","sidebar/project/Assign":"","sidebar/project/app":"","sidebar/project/app/play":"","sidebar/project/app/stop":"","sidebar/project/app/title":"","sidebar/project/app/editable":" ","sidebar/project/app/publish":"","sidebar/project/image":"","sidebar/project/image/samples":" ","sidebar/project/video":"","sidebar/project/shading":" ","sidebar/project/resolution":"","sidebar/project/duration":"","sidebar/project/render":"","sidebar/settings":"","sidebar/settings/language":" ","sidebar/settings/shortcuts":"  ","sidebar/settings/shortcuts/translate":"","sidebar/settings/shortcuts/rotate":" ()","sidebar/settings/shortcuts/scale":"","sidebar/settings/shortcuts/undo":"  ","sidebar/settings/shortcuts/focus":"","sidebar/history":"","sidebar/history/clear":" ","sidebar/history/persistent":"","toolbar/translate":"","toolbar/rotate":" ()","toolbar/scale":"","toolbar/local":"","viewport/controls/grid":"","viewport/controls/helpers":" ","viewport/info/object":"","viewport/info/objects":" ","viewport/info/vertex":"","viewport/info/vertices":"","viewport/info/triangle":"","viewport/info/triangles":" ","viewport/info/sample":"","viewport/info/samples":" ","viewport/info/rendertime":" ","script/title/vertexShader":" ","script/title/fragmentShader":" ","script/title/programInfo":" ","dialog/gltf/title":"Import glTF","dialog/gltf/asScene":"Import glTF as root scene","dialog/ok":"OK","dialog/cancel":"Cancel"},en:{"prompt/file/open":"Any unsaved data will be lost. Are you sure?","prompt/file/failedToOpenProject":"Failed to open project!","prompt/file/export/noMeshSelected":"No Mesh selected!","prompt/file/export/noObjectSelected":"No Object selected!","prompt/script/remove":"Are you sure?","prompt/history/clear":"The Undo/Redo History will be cleared. Are you sure?","prompt/history/preserve":`The history will be preserved across sessions.
This can have an impact on performance when working with textures.`,"prompt/history/forbid":"Undo/Redo disabled while scene is playing.","prompt/rendering/realistic/unsupportedMaterial":"REALISTIC Shading: Only MeshStandardMaterial and MeshPhysicalMaterial are supported","command/AddObject":"Add Object","command/AddScript":"Add Script","command/MoveObject":"Move Object","command/MultiCmds":"Multiple Changes","command/RemoveObject":"Remove Object","command/RemoveScript":"Remove Script","command/SetColor":"Set Color","command/SetGeometry":"Set Geometry","command/SetGeometryValue":"Set Geometry Value","command/SetMaterialColor":"Set Material Color","command/SetMaterial":"Set Material","command/SetMaterialMap":"Set Material Map","command/SetMaterialRange":"Set Material Range","command/SetMaterialValue":"Set Material Value","command/SetMaterialVector":"Set Material Vector","command/SetPosition":"Set Position","command/SetRotation":"Set Rotation","command/SetScale":"Set Scale","command/SetScene":"Set Scene","command/SetScriptValue":"Set Script Value","command/SetShadowValue":"Set Shadow Value","command/SetUuid":"Set UUID","command/SetValue":"Set Value","menubar/file":"File","menubar/file/new":"New","menubar/file/new/empty":"Empty","menubar/file/new/Arkanoid":"Arkanoid","menubar/file/new/Camera":"Camera","menubar/file/new/Particles":"Particles","menubar/file/new/Pong":"Pong","menubar/file/new/Shaders":"Shaders","menubar/file/open":"Open","menubar/file/save":"Save","menubar/file/import":"Import","menubar/file/export":"Export","menubar/edit":"Edit","menubar/edit/undo":"Undo","menubar/edit/redo":"Redo","menubar/edit/center":"Center","menubar/edit/clone":"Clone","menubar/edit/delete":"Delete","menubar/add":"Add","menubar/add/group":"Group","menubar/add/mesh":"Mesh","menubar/add/mesh/plane":"Plane","menubar/add/mesh/box":"Box","menubar/add/mesh/capsule":"Capsule","menubar/add/mesh/circle":"Circle","menubar/add/mesh/cylinder":"Cylinder","menubar/add/mesh/ring":"Ring","menubar/add/mesh/sphere":"Sphere","menubar/add/mesh/dodecahedron":"Dodecahedron","menubar/add/mesh/icosahedron":"Icosahedron","menubar/add/mesh/octahedron":"Octahedron","menubar/add/mesh/tetrahedron":"Tetrahedron","menubar/add/mesh/torus":"Torus","menubar/add/mesh/tube":"Tube","menubar/add/mesh/torusknot":"TorusKnot","menubar/add/mesh/lathe":"Lathe","menubar/add/mesh/sprite":"Sprite","menubar/add/light":"Light","menubar/add/light/ambient":"Ambient","menubar/add/light/directional":"Directional","menubar/add/light/hemisphere":"Hemisphere","menubar/add/light/point":"Point","menubar/add/light/spot":"Spot","menubar/add/camera":"Camera","menubar/add/camera/perspective":"Perspective","menubar/add/camera/orthographic":"Orthographic","menubar/status/autosave":"autosave","menubar/view":"View","menubar/view/fullscreen":"Fullscreen","menubar/view/gridHelper":"Grid Helper","menubar/view/cameraHelpers":"Camera Helpers","menubar/view/lightHelpers":"Light Helpers","menubar/view/skeletonHelpers":"Skeleton Helpers","menubar/render":"Render","menubar/render/image":"Image","menubar/render/video":"Video","menubar/render/quality":"Quality","menubar/render/cancel":"Cancel","menubar/help":"Help","menubar/help/source_code":"Source Code","menubar/help/icons":"Icon Pack","menubar/help/about":"About","menubar/help/manual":"Manual","sidebar/animations":"Animations","sidebar/animations/play":"Play","sidebar/animations/stop":"Stop","sidebar/animations/timescale":"Time Scale","sidebar/scene":"Scene","sidebar/scene/background":"Background","sidebar/scene/environment":"Environment","sidebar/scene/fog":"Fog","sidebar/properties/object":"Object","sidebar/properties/geometry":"Geometry","sidebar/properties/material":"Material","sidebar/properties/script":"Script","sidebar/object/type":"Type","sidebar/object/new":"New","sidebar/object/uuid":"UUID","sidebar/object/name":"Name","sidebar/object/position":"Position","sidebar/object/rotation":"Rotation","sidebar/object/scale":"Scale","sidebar/object/fov":"Fov","sidebar/object/left":"Left","sidebar/object/right":"Right","sidebar/object/top":"Top","sidebar/object/bottom":"Bottom","sidebar/object/near":"Near","sidebar/object/far":"Far","sidebar/object/intensity":"Intensity","sidebar/object/color":"Color","sidebar/object/groundcolor":"Ground Color","sidebar/object/distance":"Distance","sidebar/object/angle":"Angle","sidebar/object/penumbra":"Penumbra","sidebar/object/decay":"Decay","sidebar/object/shadow":"Shadow","sidebar/object/shadowIntensity":"Shadow Intensity","sidebar/object/shadowBias":"Shadow Bias","sidebar/object/shadowNormalBias":"Shadow Normal Bias","sidebar/object/shadowRadius":"Shadow Radius","sidebar/object/cast":"cast","sidebar/object/receive":"receive","sidebar/object/visible":"Visible","sidebar/object/frustumcull":"Frustum Cull","sidebar/object/renderorder":"Render Order","sidebar/object/userdata":"User data","sidebar/object/export":"Export JSON","sidebar/geometry/type":"Type","sidebar/geometry/new":"New","sidebar/geometry/uuid":"UUID","sidebar/geometry/name":"Name","sidebar/geometry/bounds":"Bounds","sidebar/geometry/userdata":"User Data","sidebar/geometry/show_vertex_normals":"Show Vertex Normals","sidebar/geometry/compute_vertex_normals":"Compute Vertex Normals","sidebar/geometry/compute_vertex_tangents":"Compute Tangents","sidebar/geometry/center":"Center","sidebar/geometry/export":"Export JSON","sidebar/geometry/morph":"Morph Targets","sidebar/geometry/box_geometry/width":"Width","sidebar/geometry/box_geometry/height":"Height","sidebar/geometry/box_geometry/depth":"Depth","sidebar/geometry/box_geometry/widthseg":"Width Seg","sidebar/geometry/box_geometry/heightseg":"Height Seg","sidebar/geometry/box_geometry/depthseg":"Depth Seg","sidebar/geometry/buffer_geometry/attributes":"Attributes","sidebar/geometry/buffer_geometry/index":"index","sidebar/geometry/buffer_geometry/morphAttributes":"Morph Attributes","sidebar/geometry/buffer_geometry/morphRelative":"Morph Relative","sidebar/geometry/capsule_geometry/radius":"Radius","sidebar/geometry/capsule_geometry/height":"Height","sidebar/geometry/capsule_geometry/capseg":"Cap Seg","sidebar/geometry/capsule_geometry/radialseg":"Radial Seg","sidebar/geometry/capsule_geometry/heightseg":"Height Seg","sidebar/geometry/circle_geometry/radius":"Radius","sidebar/geometry/circle_geometry/segments":"Segments","sidebar/geometry/circle_geometry/thetastart":"Theta start","sidebar/geometry/circle_geometry/thetalength":"Theta length","sidebar/geometry/cylinder_geometry/radiustop":"Radius top","sidebar/geometry/cylinder_geometry/radiusbottom":"Radius bottom","sidebar/geometry/cylinder_geometry/height":"Height","sidebar/geometry/cylinder_geometry/radialsegments":"Radial segments","sidebar/geometry/cylinder_geometry/heightsegments":"Height segments","sidebar/geometry/cylinder_geometry/openended":"Open ended","sidebar/geometry/extrude_geometry/curveSegments":"Curve Segments","sidebar/geometry/extrude_geometry/steps":"Steps","sidebar/geometry/extrude_geometry/depth":"Depth","sidebar/geometry/extrude_geometry/bevelEnabled":"Bevel","sidebar/geometry/extrude_geometry/bevelThickness":"Thickness","sidebar/geometry/extrude_geometry/bevelSize":"Size","sidebar/geometry/extrude_geometry/bevelOffset":"Offset","sidebar/geometry/extrude_geometry/bevelSegments":"Segments","sidebar/geometry/extrude_geometry/shape":"Convert to Shape","sidebar/geometry/dodecahedron_geometry/radius":"Radius","sidebar/geometry/dodecahedron_geometry/detail":"Detail","sidebar/geometry/icosahedron_geometry/radius":"Radius","sidebar/geometry/icosahedron_geometry/detail":"Detail","sidebar/geometry/octahedron_geometry/radius":"Radius","sidebar/geometry/octahedron_geometry/detail":"Detail","sidebar/geometry/tetrahedron_geometry/radius":"Radius","sidebar/geometry/tetrahedron_geometry/detail":"Detail","sidebar/geometry/lathe_geometry/segments":"Segments","sidebar/geometry/lathe_geometry/phistart":"Phi start ()","sidebar/geometry/lathe_geometry/philength":"Phi length ()","sidebar/geometry/lathe_geometry/points":"Points","sidebar/geometry/plane_geometry/width":"Width","sidebar/geometry/plane_geometry/height":"Height","sidebar/geometry/plane_geometry/widthsegments":"Width segments","sidebar/geometry/plane_geometry/heightsegments":"Height segments","sidebar/geometry/ring_geometry/innerRadius":"Inner radius","sidebar/geometry/ring_geometry/outerRadius":"Outer radius","sidebar/geometry/ring_geometry/thetaSegments":"Theta segments","sidebar/geometry/ring_geometry/phiSegments":"Phi segments","sidebar/geometry/ring_geometry/thetastart":"Theta start","sidebar/geometry/ring_geometry/thetalength":"Theta length","sidebar/geometry/shape_geometry/curveSegments":"Curve Segments","sidebar/geometry/shape_geometry/extrude":"Extrude","sidebar/geometry/sphere_geometry/radius":"Radius","sidebar/geometry/sphere_geometry/widthsegments":"Width segments","sidebar/geometry/sphere_geometry/heightsegments":"Height segments","sidebar/geometry/sphere_geometry/phistart":"Phi start","sidebar/geometry/sphere_geometry/philength":"Phi length","sidebar/geometry/sphere_geometry/thetastart":"Theta start","sidebar/geometry/sphere_geometry/thetalength":"Theta length","sidebar/geometry/torus_geometry/radius":"Radius","sidebar/geometry/torus_geometry/tube":"Tube","sidebar/geometry/torus_geometry/radialsegments":"Radial segments","sidebar/geometry/torus_geometry/tubularsegments":"Tubular segments","sidebar/geometry/torus_geometry/arc":"Arc","sidebar/geometry/torusKnot_geometry/radius":"Radius","sidebar/geometry/torusKnot_geometry/tube":"Tube","sidebar/geometry/torusKnot_geometry/tubularsegments":"Tubular segments","sidebar/geometry/torusKnot_geometry/radialsegments":"Radial segments","sidebar/geometry/torusKnot_geometry/p":"P","sidebar/geometry/torusKnot_geometry/q":"Q","sidebar/geometry/tube_geometry/path":"Path","sidebar/geometry/tube_geometry/radius":"Radius","sidebar/geometry/tube_geometry/tube":"Tube","sidebar/geometry/tube_geometry/tubularsegments":"Tubular segments","sidebar/geometry/tube_geometry/radialsegments":"Radial segments","sidebar/geometry/tube_geometry/closed":"Closed","sidebar/geometry/tube_geometry/curvetype":"Curve Type","sidebar/geometry/tube_geometry/tension":"Tension","sidebar/material/new":"New","sidebar/material/copy":"Copy","sidebar/material/paste":"Paste","sidebar/material/slot":"Slot","sidebar/material/type":"Type","sidebar/material/uuid":"UUID","sidebar/material/name":"Name","sidebar/material/program":"Program","sidebar/material/info":"Info","sidebar/material/vertex":"Vert","sidebar/material/fragment":"Frag","sidebar/material/color":"Color","sidebar/material/depthPacking":"Depth Packing","sidebar/material/roughness":"Roughness","sidebar/material/metalness":"Metalness","sidebar/material/reflectivity":"Reflectivity","sidebar/material/emissive":"Emissive","sidebar/material/specular":"Specular","sidebar/material/shininess":"Shininess","sidebar/material/clearcoat":"Clearcoat","sidebar/material/clearcoatroughness":"Clearcoat Roughness","sidebar/material/dispersion":"Dispersion","sidebar/material/ior":"IOR","sidebar/material/iridescence":"Iridescence","sidebar/material/iridescenceIOR":"Thin-Film IOR","sidebar/material/iridescenceThicknessMax":"Thin-Film Thickness","sidebar/material/sheen":"Sheen","sidebar/material/sheenroughness":"Sheen Roughness","sidebar/material/sheencolor":"Sheen Color","sidebar/material/transmission":"Transmission","sidebar/material/attenuationDistance":"Attenuation Distance","sidebar/material/attenuationColor":"Attenuation Color","sidebar/material/thickness":"Thickness","sidebar/material/vertexcolors":"Vertex Colors","sidebar/material/matcap":"Matcap","sidebar/material/map":"Map","sidebar/material/alphamap":"Alpha Map","sidebar/material/bumpmap":"Bump Map","sidebar/material/normalmap":"Normal Map","sidebar/material/clearcoatmap":"Clearcoat Map","sidebar/material/clearcoatnormalmap":"Clearcoat Normal Map","sidebar/material/clearcoatroughnessmap":"Clearcoat Roughness Map","sidebar/material/displacementmap":"Displace Map","sidebar/material/roughnessmap":"Rough. Map","sidebar/material/metalnessmap":"Metal. Map","sidebar/material/specularmap":"Specular Map","sidebar/material/iridescencemap":"Irid. Map","sidebar/material/iridescencethicknessmap":"Thin-Film Thickness Map","sidebar/material/sheencolormap":"Sheen Color Map","sidebar/material/sheenroughnessmap":"Sheen Rough. Map","sidebar/material/envmap":"Env Map","sidebar/material/lightmap":"Light Map","sidebar/material/aomap":"AO Map","sidebar/material/emissivemap":"Emissive Map","sidebar/material/gradientmap":"Gradient Map","sidebar/material/transmissionmap":"Transmission Map","sidebar/material/thicknessmap":"Thickness Map","sidebar/material/side":"Side","sidebar/material/size":"Size","sidebar/material/sizeAttenuation":"Size Attenuation","sidebar/material/flatShading":"Flat Shading","sidebar/material/blending":"Blending","sidebar/material/opacity":"Opacity","sidebar/material/transparent":"Transparent","sidebar/material/forcesinglepass":"Force Single Pass","sidebar/material/alphatest":"Alpha Test","sidebar/material/depthtest":"Depth Test","sidebar/material/depthwrite":"Depth Write","sidebar/material/wireframe":"Wireframe","sidebar/material/userdata":"User data","sidebar/material/export":"Export JSON","sidebar/script/new":"New","sidebar/script/edit":"Edit","sidebar/script/remove":"Remove","sidebar/project":"Project","sidebar/project/renderer":"Renderer","sidebar/project/antialias":"Antialias","sidebar/project/shadows":"Shadows","sidebar/project/toneMapping":"Tonemapping","sidebar/project/geometries":"Geometries","sidebar/project/materials":"Materials","sidebar/project/textures":"Textures","sidebar/project/Assign":"Assign","sidebar/project/app":"App","sidebar/project/app/play":"Play","sidebar/project/app/stop":"Stop","sidebar/project/app/title":"Title","sidebar/project/app/editable":"Editable","sidebar/project/app/publish":"Publish","sidebar/project/image":"Image","sidebar/project/image/samples":"Samples","sidebar/project/video":"Video","sidebar/project/shading":"Shading","sidebar/project/resolution":"Resolution","sidebar/project/duration":"Duration","sidebar/project/render":"Render","sidebar/settings":"Settings","sidebar/settings/language":"Language","sidebar/settings/shortcuts":"Shortcuts","sidebar/settings/shortcuts/translate":"Translate","sidebar/settings/shortcuts/rotate":"Rotate","sidebar/settings/shortcuts/scale":"Scale","sidebar/settings/shortcuts/undo":"Undo","sidebar/settings/shortcuts/focus":"Focus","sidebar/history":"History","sidebar/history/clear":"Clear","sidebar/history/persistent":"Persistent","toolbar/translate":"Translate","toolbar/rotate":"Rotate","toolbar/scale":"Scale","toolbar/local":"Local","viewport/controls/grid":"Grid","viewport/controls/helpers":"Helpers","viewport/info/object":"Object","viewport/info/objects":"Objects","viewport/info/vertex":"Vertex","viewport/info/vertices":"Vertices","viewport/info/triangle":"Triangle","viewport/info/triangles":"Triangles","viewport/info/sample":"Sample","viewport/info/samples":"Samples","viewport/info/rendertime":"Render time","script/title/vertexShader":"Vertex Shader","script/title/fragmentShader":"Fragment Shader","script/title/programInfo":"Program Properties","dialog/gltf/title":"Import glTF","dialog/gltf/asScene":"Import glTF as root scene","dialog/ok":"OK","dialog/cancel":"Cancel"},fr:{"prompt/file/open":"Toutes les donnes non enregistres seront perdues tes-vous sr ?","prompt/file/failedToOpenProject":"chec de l'ouverture du projet !","prompt/file/export/noMeshSelected":"Aucun maillage slectionn !","prompt/file/export/noObjectSelected":"Aucun objet slectionn !","prompt/script/remove":"Es-tu sr?","prompt/history/clear":"L'historique d'annulation/rtablissement sera effac tes-vous sr ?","prompt/history/preserve":`L'histoire sera conserve entre les sessions.
Cela peut avoir un impact sur les performances lors de la manipulation des textures.`,"prompt/history/forbid":"Les fonctions Annuler/Rtablir sont dsactives pendant la lecture de la scne.","prompt/rendering/realistic/unsupportedMaterial":"Ombrage REALISTIC : seuls MeshStandardMaterial et MeshPhysicalMaterial sont pris en charge","command/AddObject":"Ajouter un objet","command/AddScript":"Ajouter un script","command/MoveObject":"Dplacer lobjet","command/MultiCmds":"Changements multiples","command/RemoveObject":"Supprimer lobjet","command/RemoveScript":"Supprimer le script","command/SetColor":"Dfinir la couleur","command/SetGeometry":"Dfinir la gomtrie","command/SetGeometryValue":"Dfinir la valeur de la gomtrie","command/SetMaterialColor":"Dfinir la couleur du matriau","command/SetMaterial":"Matriel de lensemble","command/SetMaterialMap":"Dfinir la carte des matriaux","command/SetMaterialRange":"Dfinir la gamme de matriaux","command/SetMaterialValue":"Dfinir la valeur du matriau","command/SetMaterialVector":"Dfinir le vecteur de matriau","command/SetPosition":"Dfinir la position","command/SetRotation":"Dfinir la rotation","command/SetScale":"Dfinir lchelle","command/SetScene":"Planter le dcor","command/SetScriptValue":"Dfinir la valeur du script","command/SetShadowValue":"Set Shadow Value","command/SetUuid":"Dfinir lUUID","command/SetValue":"Dfinir la valeur","menubar/file":"Fichier","menubar/file/new":"Nouveau","menubar/file/new/empty":"Vide","menubar/file/new/Arkanoid":"Arkanoid","menubar/file/new/Camera":"Camera","menubar/file/new/Particles":"Particles","menubar/file/new/Pong":"Pong","menubar/file/new/Shaders":"Shaders","menubar/file/open":"Open","menubar/file/save":"Save","menubar/file/import":"Importer","menubar/file/export":"Exporter","menubar/edit":"Edition","menubar/edit/undo":"Annuler","menubar/edit/redo":"Refaire","menubar/edit/center":"Center","menubar/edit/clone":"Cloner","menubar/edit/delete":"Supprimer","menubar/add":"Ajouter","menubar/add/group":"Groupe","menubar/add/mesh":"Maille","menubar/add/mesh/plane":"Plan","menubar/add/mesh/box":"Cube","menubar/add/mesh/capsule":"Capsule","menubar/add/mesh/circle":"Cercle","menubar/add/mesh/cylinder":"Cylindre","menubar/add/mesh/ring":"Bague","menubar/add/mesh/sphere":"Sphre","menubar/add/mesh/dodecahedron":"Dodcadre","menubar/add/mesh/icosahedron":"Icosadre","menubar/add/mesh/octahedron":"Octadre","menubar/add/mesh/tetrahedron":"Ttradre","menubar/add/mesh/torus":"Torus","menubar/add/mesh/tube":"Tube","menubar/add/mesh/torusknot":"Noeud Torus","menubar/add/mesh/lathe":"Tour","menubar/add/mesh/sprite":"Sprite","menubar/add/light":"Lumire","menubar/add/light/ambient":"Ambiante","menubar/add/light/directional":"Directionnelle","menubar/add/light/hemisphere":"Hmisphrique","menubar/add/light/point":"Ponctuelle","menubar/add/light/spot":"Projecteur","menubar/add/camera":"Camra","menubar/add/camera/perspective":"Perspective","menubar/add/camera/orthographic":"Orthographique","menubar/status/autosave":"enregistrement automatique","menubar/view":"View","menubar/view/fullscreen":"Fullscreen","menubar/view/gridHelper":"Assistant de grille","menubar/view/cameraHelpers":"Aides  la camra","menubar/view/lightHelpers":"Aides Lumire","menubar/view/skeletonHelpers":"Aides squelettes","menubar/render":"Rendu","menubar/render/image":"Image","menubar/render/video":"Vido","menubar/render/quality":"Qualit","menubar/render/cancel":"Annuler","menubar/help":"Aide","menubar/help/source_code":"Code Source","menubar/help/icons":"Icon Pack","menubar/help/about":"A propos","menubar/help/manual":"Manual","sidebar/animations":"Animations","sidebar/animations/play":"Play","sidebar/animations/stop":"Stop","sidebar/animations/timescale":"Time Scale","sidebar/scene":"Scne","sidebar/scene/background":"Arrire Plan","sidebar/scene/environment":"Environment","sidebar/scene/fog":"Brouillard","sidebar/properties/object":"Objet","sidebar/properties/geometry":"Gomtrie","sidebar/properties/material":"Matriaux","sidebar/properties/script":"Script","sidebar/object/type":"Type","sidebar/object/new":"Nouveau","sidebar/object/uuid":"UUID","sidebar/object/name":"Nom","sidebar/object/position":"Position","sidebar/object/rotation":"Rotation","sidebar/object/scale":"chelle","sidebar/object/fov":"Champ de vision","sidebar/object/left":"Gauche","sidebar/object/right":"Droite","sidebar/object/top":"Haut","sidebar/object/bottom":"Bas","sidebar/object/near":"Prs","sidebar/object/far":"Loin","sidebar/object/intensity":"Intensit","sidebar/object/color":"Couleur","sidebar/object/groundcolor":"Couleur de fond","sidebar/object/distance":"Distance","sidebar/object/angle":"Angle","sidebar/object/penumbra":"Pnombre","sidebar/object/decay":"Affaiblissement","sidebar/object/shadow":"Ombre","sidebar/object/shadowIntensity":"Shadow Intensity","sidebar/object/shadowBias":"Biais directionnel des ombres","sidebar/object/shadowNormalBias":"Shadow Normal Bias","sidebar/object/shadowRadius":"Rayon de l'ombre","sidebar/object/cast":"Projte","sidebar/object/receive":"Reoit","sidebar/object/visible":"Visible","sidebar/object/frustumcull":"Culling","sidebar/object/renderorder":"Ordre de rendus","sidebar/object/userdata":"Donnes utilisateur","sidebar/object/export":"Exporter JSON","sidebar/geometry/type":"Type","sidebar/geometry/new":"Nouveau","sidebar/geometry/uuid":"UUID","sidebar/geometry/name":"Nom","sidebar/geometry/bounds":"Limites","sidebar/geometry/userdata":"Donnes utilisateur","sidebar/geometry/show_vertex_normals":"Afficher normales","sidebar/geometry/compute_vertex_normals":"Compute Vertex Normals","sidebar/geometry/compute_vertex_tangents":"Compute Tangents","sidebar/geometry/center":"Center","sidebar/geometry/export":"Exporter JSON","sidebar/geometry/morph":"Morph Targets","sidebar/geometry/box_geometry/width":"Largeur","sidebar/geometry/box_geometry/height":"Hauteur","sidebar/geometry/box_geometry/depth":"Profondeur","sidebar/geometry/box_geometry/widthseg":"Segments en Largeur","sidebar/geometry/box_geometry/heightseg":"Segments en Hauteur","sidebar/geometry/box_geometry/depthseg":"Segments en Profondeur","sidebar/geometry/buffer_geometry/attributes":"Attributs","sidebar/geometry/buffer_geometry/index":"index","sidebar/geometry/buffer_geometry/morphAttributes":"Morph Attributes","sidebar/geometry/buffer_geometry/morphRelative":"Morph Relative","sidebar/geometry/capsule_geometry/radius":"Radius","sidebar/geometry/capsule_geometry/height":"Hauteur","sidebar/geometry/capsule_geometry/capseg":"Cap Seg","sidebar/geometry/capsule_geometry/radialseg":"Radial Seg","sidebar/geometry/capsule_geometry/heightseg":"Height Seg","sidebar/geometry/circle_geometry/radius":"Rayon","sidebar/geometry/circle_geometry/segments":"Segments","sidebar/geometry/circle_geometry/thetastart":"Dbut Thta ()","sidebar/geometry/circle_geometry/thetalength":"Longueur Thta ()","sidebar/geometry/cylinder_geometry/radiustop":"Rayon suprieur","sidebar/geometry/cylinder_geometry/radiusbottom":"Rayon infrieur","sidebar/geometry/cylinder_geometry/height":"Hauteur","sidebar/geometry/cylinder_geometry/radialsegments":"Segments radiaux","sidebar/geometry/cylinder_geometry/heightsegments":"Segments en hauteur","sidebar/geometry/cylinder_geometry/openended":"Extrmits ouvertes","sidebar/geometry/extrude_geometry/curveSegments":"Segments de courbe","sidebar/geometry/extrude_geometry/steps":"Pas","sidebar/geometry/extrude_geometry/depth":"Profondeur","sidebar/geometry/extrude_geometry/bevelEnabled":"Biseau","sidebar/geometry/extrude_geometry/bevelThickness":"paisseur","sidebar/geometry/extrude_geometry/bevelSize":"Taille","sidebar/geometry/extrude_geometry/bevelOffset":"Dcalage","sidebar/geometry/extrude_geometry/bevelSegments":"Segments","sidebar/geometry/extrude_geometry/shape":"Convertir en forme","sidebar/geometry/dodecahedron_geometry/radius":"Rayon","sidebar/geometry/dodecahedron_geometry/detail":"Dtail","sidebar/geometry/icosahedron_geometry/radius":"Rayon","sidebar/geometry/icosahedron_geometry/detail":"Dtail","sidebar/geometry/octahedron_geometry/radius":"Rayon","sidebar/geometry/octahedron_geometry/detail":"Dtail","sidebar/geometry/tetrahedron_geometry/radius":"Rayon","sidebar/geometry/tetrahedron_geometry/detail":"Dtail","sidebar/geometry/lathe_geometry/segments":"Segments","sidebar/geometry/lathe_geometry/phistart":"Dbut Phi ()","sidebar/geometry/lathe_geometry/philength":"Longueur Phi ()","sidebar/geometry/lathe_geometry/points":"Points","sidebar/geometry/plane_geometry/width":"Largeur","sidebar/geometry/plane_geometry/height":"Hauteur","sidebar/geometry/plane_geometry/widthsegments":"Segments en Largeur","sidebar/geometry/plane_geometry/heightsegments":"Segments en Hauteur","sidebar/geometry/ring_geometry/innerRadius":"Rayon intrieur","sidebar/geometry/ring_geometry/outerRadius":"Rayon extrieur","sidebar/geometry/ring_geometry/thetaSegments":"Segments Thta","sidebar/geometry/ring_geometry/phiSegments":"Phi segments","sidebar/geometry/ring_geometry/thetastart":"Dbut Thta","sidebar/geometry/ring_geometry/thetalength":"Longueur Thta","sidebar/geometry/shape_geometry/curveSegments":"Segments de courbe","sidebar/geometry/shape_geometry/extrude":"Extruder","sidebar/geometry/sphere_geometry/radius":"Rayon","sidebar/geometry/sphere_geometry/widthsegments":"Segments en Largeur","sidebar/geometry/sphere_geometry/heightsegments":"Segments en Hauteur","sidebar/geometry/sphere_geometry/phistart":"Dbut Phi ()","sidebar/geometry/sphere_geometry/philength":"Longueur Phi ()","sidebar/geometry/sphere_geometry/thetastart":"Dbut Thta","sidebar/geometry/sphere_geometry/thetalength":"Longueur Thta","sidebar/geometry/torus_geometry/radius":"Rayon","sidebar/geometry/torus_geometry/tube":"Tube","sidebar/geometry/torus_geometry/radialsegments":"Segments radiaux","sidebar/geometry/torus_geometry/tubularsegments":"Segments tubulaires","sidebar/geometry/torus_geometry/arc":"Arc","sidebar/geometry/torusKnot_geometry/radius":"Rayon","sidebar/geometry/torusKnot_geometry/tube":"Tube","sidebar/geometry/torusKnot_geometry/tubularsegments":"Segments tubulaires","sidebar/geometry/torusKnot_geometry/radialsegments":"Segments radiaux","sidebar/geometry/torusKnot_geometry/p":"P","sidebar/geometry/torusKnot_geometry/q":"Q","sidebar/geometry/tube_geometry/path":"Chemin","sidebar/geometry/tube_geometry/radius":"Rayon","sidebar/geometry/tube_geometry/tube":"Tube","sidebar/geometry/tube_geometry/tubularsegments":"Segments tubulaires","sidebar/geometry/tube_geometry/radialsegments":"Segments radiaux","sidebar/geometry/tube_geometry/closed":"Ferm","sidebar/geometry/tube_geometry/curvetype":"Type de courbe","sidebar/geometry/tube_geometry/tension":"Tension","sidebar/material/new":"Nouveau","sidebar/material/copy":"Copier","sidebar/material/paste":"Coller","sidebar/material/slot":"Slot","sidebar/material/type":"Type","sidebar/material/uuid":"UUID","sidebar/material/name":"Nom","sidebar/material/program":"Programme","sidebar/material/info":"Info","sidebar/material/vertex":"Sommet","sidebar/material/fragment":"Fragment","sidebar/material/color":"Couleur","sidebar/material/depthPacking":"Encodage profondeur de couleur","sidebar/material/roughness":"Rugosit","sidebar/material/metalness":"Mtal","sidebar/material/reflectivity":"Reflectivity","sidebar/material/emissive":"missif","sidebar/material/specular":"Spculaire","sidebar/material/shininess":"Brillance","sidebar/material/clearcoat":"Vernis","sidebar/material/clearcoatroughness":"Rugosit du vernis","sidebar/material/dispersion":"Dispersion","sidebar/material/ior":"IOR","sidebar/material/iridescence":"Iridescence","sidebar/material/iridescenceIOR":"Thin-Film IOR","sidebar/material/iridescenceThicknessMax":"Thin-Film Thickness","sidebar/material/sheen":"Sheen","sidebar/material/sheenroughness":"Sheen Roughness","sidebar/material/sheencolor":"Sheen Color","sidebar/material/transmission":"Transmission","sidebar/material/attenuationDistance":"Attenuation Distance","sidebar/material/attenuationColor":"Attenuation Color","sidebar/material/thickness":"Thickness","sidebar/material/vertexcolors":"Couleurs aux Sommets","sidebar/material/matcap":"Matcap","sidebar/material/map":"Texture","sidebar/material/alphamap":"Texture de transparence","sidebar/material/bumpmap":"Texture de relief","sidebar/material/normalmap":"Texture de normales","sidebar/material/clearcoatmap":"Clearcoat Map","sidebar/material/clearcoatnormalmap":"Texture des normales du vernis","sidebar/material/clearcoatroughnessmap":"Clearcoat Roughness Map","sidebar/material/displacementmap":"Texture de dplacement","sidebar/material/roughnessmap":"Texture de rugosit","sidebar/material/metalnessmap":"Texture mtallique","sidebar/material/specularmap":"Texture spculaire","sidebar/material/iridescencemap":"Irid. Map","sidebar/material/iridescencethicknessmap":"Thin-Film Thickness Map","sidebar/material/sheencolormap":"Sheen Color Map","sidebar/material/sheenroughnessmap":"Sheen Rough. Map","sidebar/material/envmap":"Texture d'environnement","sidebar/material/lightmap":"Texture d'clairage","sidebar/material/aomap":"Texture d'occlusion ambiante","sidebar/material/emissivemap":"Texture d'mission","sidebar/material/gradientmap":"Texture de gradient","sidebar/material/transmissionmap":"Transmission Map","sidebar/material/thicknessmap":"Thickness Map","sidebar/material/side":"Ct","sidebar/material/size":"Size","sidebar/material/sizeAttenuation":"Size Attenuation","sidebar/material/flatShading":"Flat Shading","sidebar/material/blending":"Mlange","sidebar/material/opacity":"Opacit","sidebar/material/transparent":"Transparence","sidebar/material/forcesinglepass":"Force Single Pass","sidebar/material/alphatest":"Test de transparence","sidebar/material/depthtest":"Depth Test","sidebar/material/depthwrite":"Depth Write","sidebar/material/wireframe":"Fil de fer","sidebar/material/userdata":"Donnes utilisateur","sidebar/material/export":"Exporter JSON","sidebar/script/new":"Nouveau","sidebar/script/edit":"Editer","sidebar/script/remove":"Supprimer","sidebar/project":"Projet","sidebar/project/renderer":"Moteur","sidebar/project/antialias":"Anticrnelage","sidebar/project/shadows":"Ombres","sidebar/project/toneMapping":"Mappage des nuances","sidebar/project/geometries":"Gomtries","sidebar/project/materials":"Matriaux","sidebar/project/textures":"Textures","sidebar/project/Assign":"Attribuer","sidebar/project/app":"App","sidebar/project/app/play":"Jouer","sidebar/project/app/stop":"Arrter","sidebar/project/app/title":"Titre","sidebar/project/app/editable":"Modifiable","sidebar/project/app/publish":"Publier","sidebar/project/image":"Image","sidebar/project/image/samples":"d'chantillons","sidebar/project/video":"Video","sidebar/project/shading":"Shading","sidebar/project/resolution":"Resolution","sidebar/project/duration":"Duration","sidebar/project/render":"Render","sidebar/settings":"Paramtres","sidebar/settings/language":"Langue","sidebar/settings/shortcuts":"Shortcuts","sidebar/settings/shortcuts/translate":"Position","sidebar/settings/shortcuts/rotate":"Rotation","sidebar/settings/shortcuts/scale":"chelle","sidebar/settings/shortcuts/undo":"Annuler","sidebar/settings/shortcuts/focus":"Focus","sidebar/history":"Historique","sidebar/history/clear":"Supprimer","sidebar/history/persistent":"Permanent","toolbar/translate":"Position","toolbar/rotate":"Rotation","toolbar/scale":"chelle","toolbar/local":"Local","viewport/controls/grid":"Grille","viewport/controls/helpers":"Helpers","viewport/info/object":"Objet","viewport/info/objects":"Objets","viewport/info/vertex":"Sommet","viewport/info/vertices":"Sommets","viewport/info/triangle":"Triangle","viewport/info/triangles":"Triangles","viewport/info/sample":"chantillon","viewport/info/samples":"chantillons","viewport/info/rendertime":"Temps de rendu","script/title/vertexShader":"Vertex Shader","script/title/fragmentShader":"Fragment Shader","script/title/programInfo":"Proprits du programme","dialog/gltf/title":"Importer glTF","dialog/gltf/asScene":"Importer glTF comme scne racine","dialog/ok":"OK","dialog/cancel":"Annuler"},zh:{"prompt/file/open":"","prompt/file/failedToOpenProject":"","prompt/file/export/noMeshSelected":"","prompt/file/export/noObjectSelected":"","prompt/script/remove":"","prompt/history/clear":"/","prompt/history/preserve":`
`,"prompt/history/forbid":"/","prompt/rendering/realistic/unsupportedMaterial":"REALISTIC MeshStandardMaterial  MeshPhysicalMaterial","command/AddObject":"","command/AddScript":"","command/MoveObject":"","command/MultiCmds":"","command/RemoveObject":"","command/RemoveScript":"","command/SetColor":"","command/SetGeometry":"","command/SetGeometryValue":"","command/SetMaterialColor":"","command/SetMaterial":"","command/SetMaterialMap":"","command/SetMaterialRange":"","command/SetMaterialValue":"","command/SetMaterialVector":"","command/SetPosition":"","command/SetRotation":"","command/SetScale":"","command/SetScene":"","command/SetScriptValue":"","command/SetShadowValue":"","command/SetUuid":" UUID","command/SetValue":"","menubar/file":"","menubar/file/new":"","menubar/file/new/empty":"","menubar/file/new/Arkanoid":"","menubar/file/new/Camera":" ","menubar/file/new/Particles":"","menubar/file/new/Pong":"","menubar/file/new/Shaders":"","menubar/file/open":"","menubar/file/save":"","menubar/file/import":"","menubar/file/export":"","menubar/edit":"","menubar/edit/undo":"","menubar/edit/redo":"","menubar/edit/center":"","menubar/edit/clone":"","menubar/edit/delete":"","menubar/add":"","menubar/add/group":"","menubar/add/mesh":"","menubar/add/mesh/plane":"","menubar/add/mesh/box":"","menubar/add/mesh/capsule":"","menubar/add/mesh/circle":"","menubar/add/mesh/cylinder":"","menubar/add/mesh/ring":"","menubar/add/mesh/sphere":"","menubar/add/mesh/dodecahedron":"","menubar/add/mesh/icosahedron":"","menubar/add/mesh/octahedron":"","menubar/add/mesh/tetrahedron":"","menubar/add/mesh/torus":"","menubar/add/mesh/torusknot":"","menubar/add/mesh/tube":"","menubar/add/mesh/lathe":"","menubar/add/mesh/sprite":"","menubar/add/light":"","menubar/add/light/ambient":"","menubar/add/light/directional":"","menubar/add/light/hemisphere":"","menubar/add/light/point":"","menubar/add/light/spot":"","menubar/add/camera":"","menubar/add/camera/perspective":"","menubar/add/camera/orthographic":"","menubar/status/autosave":"","menubar/view":"","menubar/view/fullscreen":"","menubar/view/gridHelper":"","menubar/view/cameraHelpers":"","menubar/view/lightHelpers":"","menubar/view/skeletonHelpers":"","menubar/render":"","menubar/render/image":"","menubar/render/video":"","menubar/render/quality":"","menubar/render/cancel":"","menubar/help":"","menubar/help/source_code":"","menubar/help/icons":"","menubar/help/about":"","menubar/help/manual":"","sidebar/animations":"","sidebar/animations/play":"","sidebar/animations/stop":"","sidebar/animations/timescale":"","sidebar/scene":"","sidebar/scene/background":"","sidebar/scene/environment":"","sidebar/scene/fog":"","sidebar/properties/object":"","sidebar/properties/geometry":"","sidebar/properties/material":"","sidebar/properties/script":"","sidebar/object/type":"","sidebar/object/new":"","sidebar/object/uuid":"","sidebar/object/name":"","sidebar/object/position":"","sidebar/object/rotation":"","sidebar/object/scale":"","sidebar/object/fov":"","sidebar/object/left":"","sidebar/object/right":"","sidebar/object/top":"","sidebar/object/bottom":"","sidebar/object/near":"","sidebar/object/far":"","sidebar/object/intensity":"","sidebar/object/color":"","sidebar/object/groundcolor":"","sidebar/object/distance":"","sidebar/object/angle":"","sidebar/object/penumbra":"","sidebar/object/decay":"","sidebar/object/shadow":"","sidebar/object/shadowIntensity":"","sidebar/object/shadowBias":"","sidebar/object/shadowNormalBias":"","sidebar/object/shadowRadius":"","sidebar/object/cast":"","sidebar/object/receive":"","sidebar/object/visible":"","sidebar/object/frustumcull":"","sidebar/object/renderorder":"","sidebar/object/userdata":"","sidebar/object/export":"JSON","sidebar/geometry/type":"","sidebar/geometry/new":"","sidebar/geometry/uuid":"","sidebar/geometry/name":"","sidebar/geometry/bounds":"","sidebar/geometry/userdata":"","sidebar/geometry/show_vertex_normals":"","sidebar/geometry/compute_vertex_normals":"","sidebar/geometry/compute_vertex_tangents":"","sidebar/geometry/center":"","sidebar/geometry/export":"JSON","sidebar/geometry/morph":"Morph Targets","sidebar/geometry/box_geometry/width":"","sidebar/geometry/box_geometry/height":"","sidebar/geometry/box_geometry/depth":"","sidebar/geometry/box_geometry/widthseg":"","sidebar/geometry/box_geometry/heightseg":"","sidebar/geometry/box_geometry/depthseg":"","sidebar/geometry/buffer_geometry/attributes":"","sidebar/geometry/buffer_geometry/index":"","sidebar/geometry/buffer_geometry/morphAttributes":"","sidebar/geometry/buffer_geometry/morphRelative":"","sidebar/geometry/capsule_geometry/radius":"","sidebar/geometry/capsule_geometry/height":"","sidebar/geometry/capsule_geometry/capseg":"","sidebar/geometry/capsule_geometry/radialseg":"","sidebar/geometry/capsule_geometry/heightseg":"","sidebar/geometry/circle_geometry/radius":"","sidebar/geometry/circle_geometry/segments":"","sidebar/geometry/circle_geometry/thetastart":"","sidebar/geometry/circle_geometry/thetalength":"","sidebar/geometry/cylinder_geometry/radiustop":"","sidebar/geometry/cylinder_geometry/radiusbottom":"","sidebar/geometry/cylinder_geometry/height":"","sidebar/geometry/cylinder_geometry/radialsegments":"","sidebar/geometry/cylinder_geometry/heightsegments":"","sidebar/geometry/cylinder_geometry/openended":"","sidebar/geometry/extrude_geometry/curveSegments":"","sidebar/geometry/extrude_geometry/steps":"","sidebar/geometry/extrude_geometry/depth":"","sidebar/geometry/extrude_geometry/bevelEnabled":"","sidebar/geometry/extrude_geometry/bevelThickness":"","sidebar/geometry/extrude_geometry/bevelSize":"","sidebar/geometry/extrude_geometry/bevelOffset":"","sidebar/geometry/extrude_geometry/bevelSegments":"","sidebar/geometry/extrude_geometry/shape":"","sidebar/geometry/dodecahedron_geometry/radius":"","sidebar/geometry/dodecahedron_geometry/detail":"","sidebar/geometry/icosahedron_geometry/radius":"","sidebar/geometry/icosahedron_geometry/detail":"","sidebar/geometry/octahedron_geometry/radius":"","sidebar/geometry/octahedron_geometry/detail":"","sidebar/geometry/tetrahedron_geometry/radius":"","sidebar/geometry/tetrahedron_geometry/detail":"","sidebar/geometry/lathe_geometry/segments":"","sidebar/geometry/lathe_geometry/phistart":"","sidebar/geometry/lathe_geometry/philength":"","sidebar/geometry/lathe_geometry/points":"","sidebar/geometry/plane_geometry/width":"","sidebar/geometry/plane_geometry/height":"","sidebar/geometry/plane_geometry/widthsegments":"","sidebar/geometry/plane_geometry/heightsegments":"","sidebar/geometry/ring_geometry/innerRadius":"","sidebar/geometry/ring_geometry/outerRadius":"","sidebar/geometry/ring_geometry/thetaSegments":"","sidebar/geometry/ring_geometry/phiSegments":"","sidebar/geometry/ring_geometry/thetastart":"","sidebar/geometry/ring_geometry/thetalength":"","sidebar/geometry/shape_geometry/curveSegments":"","sidebar/geometry/shape_geometry/extrude":"","sidebar/geometry/sphere_geometry/radius":"","sidebar/geometry/sphere_geometry/widthsegments":"","sidebar/geometry/sphere_geometry/heightsegments":"","sidebar/geometry/sphere_geometry/phistart":"","sidebar/geometry/sphere_geometry/philength":"","sidebar/geometry/sphere_geometry/thetastart":"","sidebar/geometry/sphere_geometry/thetalength":"","sidebar/geometry/torus_geometry/radius":"","sidebar/geometry/torus_geometry/tube":"","sidebar/geometry/torus_geometry/radialsegments":"","sidebar/geometry/torus_geometry/tubularsegments":"","sidebar/geometry/torus_geometry/arc":"","sidebar/geometry/torusKnot_geometry/radius":"","sidebar/geometry/torusKnot_geometry/tube":"","sidebar/geometry/torusKnot_geometry/tubularsegments":"","sidebar/geometry/torusKnot_geometry/radialsegments":"","sidebar/geometry/torusKnot_geometry/p":"","sidebar/geometry/torusKnot_geometry/q":"","sidebar/geometry/tube_geometry/path":"","sidebar/geometry/tube_geometry/radius":"","sidebar/geometry/tube_geometry/tube":"","sidebar/geometry/tube_geometry/tubularsegments":"","sidebar/geometry/tube_geometry/radialsegments":"","sidebar/geometry/tube_geometry/closed":"","sidebar/geometry/tube_geometry/curvetype":"","sidebar/geometry/tube_geometry/tension":"","sidebar/material/new":"","sidebar/material/copy":"","sidebar/material/paste":"","sidebar/material/slot":"","sidebar/material/type":"","sidebar/material/uuid":"","sidebar/material/name":"","sidebar/material/program":"","sidebar/material/info":"","sidebar/material/vertex":"","sidebar/material/fragment":"","sidebar/material/color":"","sidebar/material/depthPacking":"","sidebar/material/roughness":"","sidebar/material/metalness":"","sidebar/material/reflectivity":"","sidebar/material/emissive":"","sidebar/material/specular":"","sidebar/material/shininess":"","sidebar/material/clearcoat":"","sidebar/material/clearcoatroughness":"","sidebar/material/dispersion":"","sidebar/material/ior":"IOR","sidebar/material/iridescence":"","sidebar/material/iridescenceIOR":"","sidebar/material/iridescenceThicknessMax":"","sidebar/material/sheen":"","sidebar/material/sheenroughness":"","sidebar/material/sheencolor":"","sidebar/material/transmission":"","sidebar/material/attenuationDistance":"","sidebar/material/attenuationColor":"","sidebar/material/thickness":"","sidebar/material/vertexcolors":"","sidebar/material/matcap":"","sidebar/material/map":"","sidebar/material/alphamap":"","sidebar/material/bumpmap":"","sidebar/material/normalmap":"","sidebar/material/clearcoatmap":"","sidebar/material/clearcoatnormalmap":"","sidebar/material/clearcoatroughnessmap":"","sidebar/material/displacementmap":"","sidebar/material/roughnessmap":"","sidebar/material/metalnessmap":"","sidebar/material/specularmap":"","sidebar/material/iridescencemap":"","sidebar/material/iridescencethicknessmap":"","sidebar/material/sheencolormap":"","sidebar/material/sheenroughnessmap":"","sidebar/material/envmap":"","sidebar/material/lightmap":"","sidebar/material/aomap":"","sidebar/material/emissivemap":"","sidebar/material/gradientmap":"","sidebar/material/transmissionmap":"","sidebar/material/thicknessmap":"","sidebar/material/side":"","sidebar/material/size":"","sidebar/material/sizeAttenuation":"","sidebar/material/flatShading":"","sidebar/material/blending":"","sidebar/material/opacity":"","sidebar/material/transparent":"","sidebar/material/forcesinglepass":"","sidebar/material/alphatest":"","sidebar/material/depthtest":"","sidebar/material/depthwrite":"","sidebar/material/wireframe":"","sidebar/material/userdata":"","sidebar/material/export":"JSON","sidebar/script/new":"","sidebar/script/edit":"","sidebar/script/remove":"","sidebar/project":"","sidebar/project/renderer":"","sidebar/project/antialias":"","sidebar/project/shadows":"","sidebar/project/toneMapping":"","sidebar/project/geometries":"","sidebar/project/materials":"","sidebar/project/textures":"","sidebar/project/Assign":"","sidebar/project/app":"App","sidebar/project/app/play":"","sidebar/project/app/stop":"","sidebar/project/app/title":"","sidebar/project/app/editable":"","sidebar/project/app/publish":"","sidebar/project/image":"","sidebar/project/image/samples":"","sidebar/project/video":"","sidebar/project/shading":"","sidebar/project/resolution":"","sidebar/project/duration":"","sidebar/project/render":"","sidebar/settings":"","sidebar/settings/language":"","sidebar/settings/shortcuts":"","sidebar/settings/shortcuts/translate":"","sidebar/settings/shortcuts/rotate":"","sidebar/settings/shortcuts/scale":"","sidebar/settings/shortcuts/undo":"","sidebar/settings/shortcuts/focus":"","sidebar/history":"","sidebar/history/clear":"","sidebar/history/persistent":"","toolbar/translate":"","toolbar/rotate":"","toolbar/scale":"","toolbar/local":"","viewport/controls/grid":"","viewport/controls/helpers":"","viewport/info/object":"","viewport/info/objects":"","viewport/info/vertex":"","viewport/info/vertices":"","viewport/info/triangle":"","viewport/info/triangles":"","viewport/info/sample":"","viewport/info/samples":"","viewport/info/rendertime":"","script/title/vertexShader":"","script/title/fragmentShader":"","script/title/programInfo":"","dialog/gltf/title":" glTF","dialog/gltf/asScene":" glTF ","dialog/ok":"","dialog/cancel":""},ja:{"prompt/file/open":" ","prompt/file/failedToOpenProject":"!","prompt/file/export/noMeshSelected":"!","prompt/file/export/noObjectSelected":"!","prompt/script/remove":"","prompt/history/clear":"/ ","prompt/history/preserve":`
`,"prompt/history/forbid":"/","prompt/rendering/realistic/unsupportedMaterial":"REALISTIC : MeshStandardmaterial  MeshPhysicalmaterial ","command/AddObject":"","command/AddScript":"","command/MoveObject":"","command/MultiCmds":"","command/RemoveObject":"","command/RemoveScript":"","command/SetColor":"","command/SetGeometry":"","command/SetGeometryValue":"","command/SetMaterialColor":" ","command/SetMaterial":"","command/SetMaterialMap":" ","command/SetMaterialRange":"","command/SetMaterialValue":"","command/SetMaterialVector":"","command/SetPosition":"","command/SetRotation":"","command/SetScale":"","command/SetScene":"","command/SetScriptValue":"","command/SetShadowValue":"Set Shadow Value","command/SetUuid":"UUID","command/SetValue":"","menubar/file":"","menubar/file/new":"","menubar/file/new/empty":"","menubar/file/new/Arkanoid":"","menubar/file/new/Camera":"","menubar/file/new/Particles":"","menubar/file/new/Pong":"","menubar/file/new/Shaders":"","menubar/file/open":"","menubar/file/save":"","menubar/file/import":"","menubar/file/export":"","menubar/edit":"","menubar/edit/undo":"","menubar/edit/redo":"","menubar/edit/center":"","menubar/edit/clone":"","menubar/edit/delete":"","menubar/add":"","menubar/add/group":"","menubar/add/mesh":"","menubar/add/mesh/plane":"","menubar/add/mesh/box":"","menubar/add/mesh/capsule":"","menubar/add/mesh/circle":"","menubar/add/mesh/cylinder":"","menubar/add/mesh/ring":"","menubar/add/mesh/sphere":"","menubar/add/mesh/dodecahedron":"","menubar/add/mesh/icosahedron":"","menubar/add/mesh/octahedron":"","menubar/add/mesh/tetrahedron":"","menubar/add/mesh/torus":"","menubar/add/mesh/tube":"","menubar/add/mesh/torusknot":"","menubar/add/mesh/lathe":"","menubar/add/mesh/sprite":"","menubar/add/light":"","menubar/add/light/ambient":"","menubar/add/light/directional":"","menubar/add/light/hemisphere":"","menubar/add/light/point":"","menubar/add/light/spot":"","menubar/add/camera":"","menubar/add/camera/perspective":"","menubar/add/camera/orthographic":"","menubar/status/autosave":"","menubar/view":"","menubar/view/fullscreen":"","menubar/view/gridHelper":"","menubar/view/cameraHelpers":"","menubar/view/lightHelpers":"","menubar/view/skeletonHelpers":"","menubar/render":"","menubar/render/image":"","menubar/render/video":"","menubar/render/quality":"","menubar/render/cancel":"","menubar/help":"","menubar/help/source_code":"","menubar/help/icons":"","menubar/help/about":"Three.js ","menubar/help/manual":"","sidebar/animations":"","sidebar/animations/play":"","sidebar/animations/stop":"","sidebar/animations/timescale":"","sidebar/scene":"","sidebar/scene/background":"","sidebar/scene/environment":"","sidebar/scene/fog":"","sidebar/properties/object":"","sidebar/properties/geometry":"","sidebar/properties/material":"","sidebar/properties/script":"","sidebar/object/type":"","sidebar/object/new":"","sidebar/object/uuid":"UUID","sidebar/object/name":"","sidebar/object/position":"","sidebar/object/rotation":"","sidebar/object/scale":"","sidebar/object/fov":"Fov","sidebar/object/left":"","sidebar/object/right":"","sidebar/object/top":"","sidebar/object/bottom":"","sidebar/object/near":"","sidebar/object/far":"","sidebar/object/intensity":"","sidebar/object/color":"","sidebar/object/groundcolor":"","sidebar/object/distance":"","sidebar/object/angle":"","sidebar/object/penumbra":"","sidebar/object/decay":"","sidebar/object/shadow":"","sidebar/object/shadowIntensity":"Shadow Intensity","sidebar/object/shadowBias":"","sidebar/object/shadowNormalBias":"","sidebar/object/shadowRadius":"","sidebar/object/cast":"","sidebar/object/receive":"","sidebar/object/visible":"","sidebar/object/frustumcull":"","sidebar/object/renderorder":"","sidebar/object/userdata":"","sidebar/object/export":"JSON","sidebar/geometry/type":"","sidebar/geometry/new":"","sidebar/geometry/uuid":"UUID","sidebar/geometry/name":"","sidebar/geometry/bounds":"","sidebar/geometry/userdata":"","sidebar/geometry/show_vertex_normals":"","sidebar/geometry/compute_vertex_normals":"","sidebar/geometry/compute_vertex_tangents":"","sidebar/geometry/center":"","sidebar/geometry/export":"JSON","sidebar/geometry/morph":"Morph Targets","sidebar/geometry/box_geometry/width":"","sidebar/geometry/box_geometry/height":"","sidebar/geometry/box_geometry/depth":"","sidebar/geometry/box_geometry/widthseg":"","sidebar/geometry/box_geometry/heightseg":"","sidebar/geometry/box_geometry/depthseg":"","sidebar/geometry/buffer_geometry/attributes":"","sidebar/geometry/buffer_geometry/index":"","sidebar/geometry/buffer_geometry/morphAttributes":"","sidebar/geometry/buffer_geometry/morphRelative":"","sidebar/geometry/capsule_geometry/radius":"","sidebar/geometry/capsule_geometry/height":"","sidebar/geometry/capsule_geometry/capseg":"","sidebar/geometry/capsule_geometry/radialseg":"","sidebar/geometry/capsule_geometry/heightseg":"","sidebar/geometry/circle_geometry/radius":"","sidebar/geometry/circle_geometry/segments":"","sidebar/geometry/circle_geometry/thetastart":"","sidebar/geometry/circle_geometry/thetalength":"","sidebar/geometry/cylinder_geometry/radiustop":"","sidebar/geometry/cylinder_geometry/radiusbottom":"","sidebar/geometry/cylinder_geometry/height":"","sidebar/geometry/cylinder_geometry/radialsegments":"","sidebar/geometry/cylinder_geometry/heightsegments":"","sidebar/geometry/cylinder_geometry/openended":"","sidebar/geometry/extrude_geometry/curveSegments":"","sidebar/geometry/extrude_geometry/steps":"","sidebar/geometry/extrude_geometry/depth":"","sidebar/geometry/extrude_geometry/bevelEnabled":"","sidebar/geometry/extrude_geometry/bevelThickness":"","sidebar/geometry/extrude_geometry/bevelSize":"","sidebar/geometry/extrude_geometry/bevelOffset":"","sidebar/geometry/extrude_geometry/bevelSegments":"","sidebar/geometry/extrude_geometry/shape":"","sidebar/geometry/dodecahedron_geometry/radius":"","sidebar/geometry/dodecahedron_geometry/detail":"","sidebar/geometry/icosahedron_geometry/radius":"","sidebar/geometry/icosahedron_geometry/detail":"","sidebar/geometry/octahedron_geometry/radius":"","sidebar/geometry/octahedron_geometry/detail":"","sidebar/geometry/tetrahedron_geometry/radius":"","sidebar/geometry/tetrahedron_geometry/detail":"","sidebar/geometry/lathe_geometry/segments":"","sidebar/geometry/lathe_geometry/phistart":"","sidebar/geometry/lathe_geometry/philength":"","sidebar/geometry/lathe_geometry/points":"","sidebar/geometry/plane_geometry/width":"","sidebar/geometry/plane_geometry/height":"","sidebar/geometry/plane_geometry/widthsegments":"","sidebar/geometry/plane_geometry/heightsegments":"","sidebar/geometry/ring_geometry/innerRadius":"","sidebar/geometry/ring_geometry/outerRadius":"","sidebar/geometry/ring_geometry/thetaSegments":"","sidebar/geometry/ring_geometry/phiSegments":"","sidebar/geometry/ring_geometry/thetastart":"","sidebar/geometry/ring_geometry/thetalength":"","sidebar/geometry/shape_geometry/curveSegments":"","sidebar/geometry/shape_geometry/extrude":"","sidebar/geometry/sphere_geometry/radius":"","sidebar/geometry/sphere_geometry/widthsegments":"","sidebar/geometry/sphere_geometry/heightsegments":"","sidebar/geometry/sphere_geometry/phistart":"","sidebar/geometry/sphere_geometry/philength":"","sidebar/geometry/sphere_geometry/thetastart":"","sidebar/geometry/sphere_geometry/thetalength":"","sidebar/geometry/torus_geometry/radius":"","sidebar/geometry/torus_geometry/tube":"","sidebar/geometry/torus_geometry/radialsegments":"","sidebar/geometry/torus_geometry/tubularsegments":"","sidebar/geometry/torus_geometry/arc":"","sidebar/geometry/torusKnot_geometry/radius":"","sidebar/geometry/torusKnot_geometry/tube":"","sidebar/geometry/torusKnot_geometry/tubularsegments":"","sidebar/geometry/torusKnot_geometry/radialsegments":"","sidebar/geometry/torusKnot_geometry/p":"P","sidebar/geometry/torusKnot_geometry/q":"Q","sidebar/geometry/tube_geometry/path":"","sidebar/geometry/tube_geometry/radius":"","sidebar/geometry/tube_geometry/tube":"","sidebar/geometry/tube_geometry/tubularsegments":"","sidebar/geometry/tube_geometry/radialsegments":"","sidebar/geometry/tube_geometry/closed":"","sidebar/geometry/tube_geometry/curvetype":"","sidebar/geometry/tube_geometry/tension":"","sidebar/material/new":"","sidebar/material/copy":"","sidebar/material/paste":"","sidebar/material/slot":"","sidebar/material/type":"","sidebar/material/uuid":"UUID","sidebar/material/name":"","sidebar/material/program":"","sidebar/material/info":"","sidebar/material/vertex":"","sidebar/material/fragment":"","sidebar/material/color":"","sidebar/material/depthPacking":"","sidebar/material/roughness":"","sidebar/material/metalness":"","sidebar/material/reflectivity":"","sidebar/material/emissive":"","sidebar/material/specular":"","sidebar/material/shininess":"","sidebar/material/clearcoat":"","sidebar/material/clearcoatroughness":"","sidebar/material/dispersion":"Dispersion","sidebar/material/ior":"IOR","sidebar/material/iridescence":"","sidebar/material/iridescenceIOR":"IOR","sidebar/material/iridescenceThicknessMax":"","sidebar/material/sheen":"","sidebar/material/sheenroughness":"","sidebar/material/sheencolor":"","sidebar/material/transmission":"","sidebar/material/attenuationDistance":"","sidebar/material/attenuationColor":"","sidebar/material/thickness":"","sidebar/material/vertexcolors":"","sidebar/material/matcap":"","sidebar/material/map":"","sidebar/material/alphamap":"","sidebar/material/bumpmap":"","sidebar/material/normalmap":"","sidebar/material/clearcoatmap":"","sidebar/material/clearcoatnormalmap":"","sidebar/material/clearcoatroughnessmap":"","sidebar/material/displacementmap":"","sidebar/material/roughnessmap":"","sidebar/material/metalnessmap":"","sidebar/material/specularmap":"","sidebar/material/iridescencemap":"","sidebar/material/iridescencethicknessmap":"","sidebar/material/sheencolormap":"","sidebar/material/sheenroughnessmap":"","sidebar/material/envmap":"","sidebar/material/lightmap":"","sidebar/material/aomap":"AO","sidebar/material/emissivemap":"","sidebar/material/gradientmap":"","sidebar/material/transmissionmap":"","sidebar/material/thicknessmap":"","sidebar/material/side":"","sidebar/material/size":"","sidebar/material/sizeAttenuation":"","sidebar/material/flatShading":"","sidebar/material/blending":"","sidebar/material/opacity":"","sidebar/material/transparent":"","sidebar/material/forcesinglepass":"","sidebar/material/alphatest":"","sidebar/material/depthtest":"","sidebar/material/depthwrite":"","sidebar/material/wireframe":"","sidebar/material/userdata":"","sidebar/material/export":"JSON","sidebar/script/new":"","sidebar/script/edit":"","sidebar/script/remove":"","sidebar/project":"","sidebar/project/renderer":"","sidebar/project/antialias":"","sidebar/project/shadows":"","sidebar/project/toneMapping":"","sidebar/project/geometries":"","sidebar/project/materials":"","sidebar/project/textures":"","sidebar/project/Assign":"","sidebar/project/app":"","sidebar/project/app/play":"","sidebar/project/app/stop":"","sidebar/project/app/title":"","sidebar/project/app/editable":"","sidebar/project/app/publish":"","sidebar/project/image":"","sidebar/project/image/samples":"","sidebar/project/video":"","sidebar/project/shading":"","sidebar/project/resolution":"","sidebar/project/duration":"","sidebar/project/render":"","sidebar/settings":"","sidebar/settings/language":"","sidebar/settings/shortcuts":"","sidebar/settings/shortcuts/translate":"","sidebar/settings/shortcuts/rotate":"","sidebar/settings/shortcuts/scale":"","sidebar/settings/shortcuts/undo":"","sidebar/settings/shortcuts/focus":"","sidebar/history":"","sidebar/history/clear":"","sidebar/history/persistent":"","toolbar/translate":"","toolbar/rotate":"","toolbar/scale":"","toolbar/local":"","viewport/controls/grid":"","viewport/controls/helpers":"","viewport/info/object":"","viewport/info/objects":"","viewport/info/vertex":"","viewport/info/vertices":"","viewport/info/triangle":"","viewport/info/triangles":"","viewport/info/sample":"","viewport/info/samples":"","viewport/info/rendertime":"","script/title/vertexShader":"","script/title/fragmentShader":"","script/title/programInfo":"","dialog/gltf/title":"glTF","dialog/gltf/asScene":"glTF","dialog/ok":"OK","dialog/cancel":""},ko:{"prompt/file/open":"   . ?","prompt/file/failedToOpenProject":"   !","prompt/file/export/noMeshSelected":"  !","prompt/file/export/noObjectSelected":"  !","prompt/script/remove":"?","prompt/history/clear":"/  . ?","prompt/history/preserve":"   .         .","prompt/history/forbid":"   / .","prompt/rendering/realistic/unsupportedMaterial":"REALISTIC : MeshStandardmaterial  MeshPhysicalmaterial ","command/AddObject":" ","command/AddScript":" ","command/MoveObject":" ","command/MultiCmds":" ","command/RemoveObject":" ","command/RemoveScript":" ","command/SetColor":" ","command/SetGeometry":" ","command/SetGeometryValue":"  ","command/SetMaterialColor":"  ","command/SetMaterial":" ","command/SetMaterialMap":"  ","command/SetMaterialRange":"  ","command/SetMaterialValue":"  ","command/SetMaterialVector":"  ","command/SetPosition":" ","command/SetRotation":" ","command/SetScale":" ","command/SetScene":" ","command/SetScriptValue":"  ","command/SetShadowValue":"  ","command/SetUuid":"UUID ","command/SetValue":" ","menubar/file":"","menubar/file/new":" ","menubar/file/new/empty":" ","menubar/file/new/Arkanoid":"","menubar/file/new/Camera":"","menubar/file/new/Particles":"","menubar/file/new/Pong":"","menubar/file/new/Shaders":"","menubar/file/open":"","menubar/file/save":"","menubar/file/import":"","menubar/file/export":"","menubar/edit":"","menubar/edit/undo":"","menubar/edit/redo":"","menubar/edit/center":" ","menubar/edit/clone":"","menubar/edit/delete":"","menubar/add":"","menubar/add/group":"","menubar/add/mesh":"","menubar/add/mesh/plane":"","menubar/add/mesh/box":"","menubar/add/mesh/capsule":"","menubar/add/mesh/circle":"","menubar/add/mesh/cylinder":"","menubar/add/mesh/ring":"","menubar/add/mesh/sphere":"","menubar/add/mesh/dodecahedron":"","menubar/add/mesh/icosahedron":"","menubar/add/mesh/octahedron":"","menubar/add/mesh/tetrahedron":"","menubar/add/mesh/torus":"","menubar/add/mesh/tube":"","menubar/add/mesh/torusknot":" ","menubar/add/mesh/lathe":"","menubar/add/mesh/sprite":"","menubar/add/light":"","menubar/add/light/ambient":"","menubar/add/light/directional":"","menubar/add/light/hemisphere":"","menubar/add/light/point":"","menubar/add/light/spot":"","menubar/add/camera":"","menubar/add/camera/perspective":" ","menubar/add/camera/orthographic":"","menubar/status/autosave":" ","menubar/view":"","menubar/view/fullscreen":" ","menubar/view/gridHelper":" ","menubar/view/cameraHelpers":" ","menubar/view/lightHelpers":" ","menubar/view/skeletonHelpers":" ","menubar/render":"","menubar/render/image":"","menubar/render/video":"","menubar/render/quality":"","menubar/render/cancel":"","menubar/help":"","menubar/help/source_code":" ","menubar/help/icons":" ","menubar/help/about":"Three.js ","menubar/help/manual":"","sidebar/animations":"","sidebar/animations/play":"","sidebar/animations/stop":"","sidebar/animations/timescale":" ","sidebar/scene":"","sidebar/scene/background":"","sidebar/scene/environment":"","sidebar/scene/fog":"","sidebar/properties/object":"","sidebar/properties/geometry":"","sidebar/properties/material":"","sidebar/properties/script":"","sidebar/object/type":"","sidebar/object/new":" ","sidebar/object/uuid":"UUID","sidebar/object/name":"","sidebar/object/position":"","sidebar/object/rotation":"","sidebar/object/scale":"","sidebar/object/fov":"","sidebar/object/left":"","sidebar/object/right":"","sidebar/object/top":"","sidebar/object/bottom":"","sidebar/object/near":" ","sidebar/object/far":" ","sidebar/object/intensity":"","sidebar/object/color":"","sidebar/object/groundcolor":" ","sidebar/object/distance":"","sidebar/object/angle":"","sidebar/object/penumbra":"","sidebar/object/decay":"","sidebar/object/shadow":"","sidebar/object/shadowIntensity":" ","sidebar/object/shadowBias":" ","sidebar/object/shadowNormalBias":"  ","sidebar/object/shadowRadius":" ","sidebar/object/cast":"cast","sidebar/object/receive":"receive","sidebar/object/visible":"","sidebar/object/frustumcull":" ","sidebar/object/renderorder":" ","sidebar/object/userdata":" ","sidebar/object/export":"JSON ","sidebar/geometry/type":"","sidebar/geometry/new":" ","sidebar/geometry/uuid":"UUID","sidebar/geometry/name":"","sidebar/geometry/bounds":"","sidebar/geometry/userdata":" ","sidebar/geometry/show_vertex_normals":"  ","sidebar/geometry/compute_vertex_normals":"  ","sidebar/geometry/compute_vertex_tangents":" ","sidebar/geometry/center":"","sidebar/geometry/export":"JSON ","sidebar/geometry/morph":"Morph Targets","sidebar/geometry/box_geometry/width":"","sidebar/geometry/box_geometry/height":"","sidebar/geometry/box_geometry/depth":"","sidebar/geometry/box_geometry/widthseg":"  ","sidebar/geometry/box_geometry/heightseg":"  ","sidebar/geometry/box_geometry/depthseg":"  ","sidebar/geometry/buffer_geometry/attributes":"","sidebar/geometry/buffer_geometry/index":"","sidebar/geometry/buffer_geometry/morphAttributes":" ","sidebar/geometry/buffer_geometry/morphRelative":" ","sidebar/geometry/capsule_geometry/radius":"","sidebar/geometry/capsule_geometry/height":"","sidebar/geometry/capsule_geometry/capseg":"  ","sidebar/geometry/capsule_geometry/radialseg":"  ","sidebar/geometry/capsule_geometry/heightseg":"  ","sidebar/geometry/circle_geometry/radius":"","sidebar/geometry/circle_geometry/segments":"","sidebar/geometry/circle_geometry/thetastart":" ","sidebar/geometry/circle_geometry/thetalength":" ","sidebar/geometry/cylinder_geometry/radiustop":" ","sidebar/geometry/cylinder_geometry/radiusbottom":" ","sidebar/geometry/cylinder_geometry/height":"","sidebar/geometry/cylinder_geometry/radialsegments":"  ","sidebar/geometry/cylinder_geometry/heightsegments":"  ","sidebar/geometry/cylinder_geometry/openended":" ","sidebar/geometry/extrude_geometry/curveSegments":"  ","sidebar/geometry/extrude_geometry/steps":"","sidebar/geometry/extrude_geometry/depth":"","sidebar/geometry/extrude_geometry/bevelEnabled":" ","sidebar/geometry/extrude_geometry/bevelThickness":" ","sidebar/geometry/extrude_geometry/bevelSize":" ","sidebar/geometry/extrude_geometry/bevelOffset":" ","sidebar/geometry/extrude_geometry/bevelSegments":"  ","sidebar/geometry/extrude_geometry/shape":" ","sidebar/geometry/dodecahedron_geometry/radius":"","sidebar/geometry/dodecahedron_geometry/detail":"","sidebar/geometry/icosahedron_geometry/radius":"","sidebar/geometry/icosahedron_geometry/detail":"","sidebar/geometry/octahedron_geometry/radius":"","sidebar/geometry/octahedron_geometry/detail":"","sidebar/geometry/tetrahedron_geometry/radius":"","sidebar/geometry/tetrahedron_geometry/detail":"","sidebar/geometry/lathe_geometry/segments":" ","sidebar/geometry/lathe_geometry/phistart":" ","sidebar/geometry/lathe_geometry/philength":" ","sidebar/geometry/lathe_geometry/points":"","sidebar/geometry/plane_geometry/width":"","sidebar/geometry/plane_geometry/height":"","sidebar/geometry/plane_geometry/widthsegments":"  ","sidebar/geometry/plane_geometry/heightsegments":"  ","sidebar/geometry/ring_geometry/innerRadius":" ","sidebar/geometry/ring_geometry/outerRadius":" ","sidebar/geometry/ring_geometry/thetaSegments":"  ","sidebar/geometry/ring_geometry/phiSegments":"  ","sidebar/geometry/ring_geometry/thetastart":" ","sidebar/geometry/ring_geometry/thetalength":" ","sidebar/geometry/shape_geometry/curveSegments":"  ","sidebar/geometry/shape_geometry/extrude":"","sidebar/geometry/sphere_geometry/radius":"","sidebar/geometry/sphere_geometry/widthsegments":"  ","sidebar/geometry/sphere_geometry/heightsegments":"  ","sidebar/geometry/sphere_geometry/phistart":" ","sidebar/geometry/sphere_geometry/philength":" ","sidebar/geometry/sphere_geometry/thetastart":" ","sidebar/geometry/sphere_geometry/thetalength":" ","sidebar/geometry/torus_geometry/radius":"","sidebar/geometry/torus_geometry/tube":" ","sidebar/geometry/torus_geometry/radialsegments":"  ","sidebar/geometry/torus_geometry/tubularsegments":"  ","sidebar/geometry/torus_geometry/arc":"","sidebar/geometry/torusKnot_geometry/radius":"","sidebar/geometry/torusKnot_geometry/tube":" ","sidebar/geometry/torusKnot_geometry/tubularsegments":"  ","sidebar/geometry/torusKnot_geometry/radialsegments":"  ","sidebar/geometry/torusKnot_geometry/p":"P","sidebar/geometry/torusKnot_geometry/q":"Q","sidebar/geometry/tube_geometry/path":"","sidebar/geometry/tube_geometry/radius":"","sidebar/geometry/tube_geometry/tube":" ","sidebar/geometry/tube_geometry/tubularsegments":"  ","sidebar/geometry/tube_geometry/radialsegments":"  ","sidebar/geometry/tube_geometry/closed":"","sidebar/geometry/tube_geometry/curvetype":" ","sidebar/geometry/tube_geometry/tension":"","sidebar/material/new":" ","sidebar/material/copy":"","sidebar/material/paste":"","sidebar/material/slot":"","sidebar/material/type":"","sidebar/material/uuid":"UUID","sidebar/material/name":"","sidebar/material/program":"","sidebar/material/info":"","sidebar/material/vertex":"","sidebar/material/fragment":"","sidebar/material/color":"","sidebar/material/depthPacking":" ","sidebar/material/roughness":"","sidebar/material/metalness":"","sidebar/material/reflectivity":"","sidebar/material/emissive":"","sidebar/material/specular":"","sidebar/material/shininess":"","sidebar/material/clearcoat":" ","sidebar/material/clearcoatroughness":"  ","sidebar/material/dispersion":"","sidebar/material/ior":"","sidebar/material/iridescence":"","sidebar/material/iridescenceIOR":" ","sidebar/material/iridescenceThicknessMax":" ","sidebar/material/sheen":"","sidebar/material/sheenroughness":" ","sidebar/material/sheencolor":" ","sidebar/material/transmission":"","sidebar/material/attenuationDistance":" ","sidebar/material/attenuationColor":" ","sidebar/material/thickness":"","sidebar/material/vertexcolors":" ","sidebar/material/matcap":" ","sidebar/material/map":"","sidebar/material/alphamap":"","sidebar/material/bumpmap":"","sidebar/material/normalmap":"","sidebar/material/clearcoatmap":"  ","sidebar/material/clearcoatnormalmap":"  ","sidebar/material/clearcoatroughnessmap":"   ","sidebar/material/displacementmap":" ","sidebar/material/roughnessmap":" ","sidebar/material/metalnessmap":" ","sidebar/material/specularmap":" ","sidebar/material/iridescencemap":" ","sidebar/material/iridescencethicknessmap":"  ","sidebar/material/sheencolormap":"  ","sidebar/material/sheenroughnessmap":"  ","sidebar/material/envmap":" ","sidebar/material/lightmap":" ","sidebar/material/aomap":"AO ","sidebar/material/emissivemap":" ","sidebar/material/gradientmap":" ","sidebar/material/transmissionmap":" ","sidebar/material/thicknessmap":" ","sidebar/material/side":"","sidebar/material/size":"","sidebar/material/sizeAttenuation":" ","sidebar/material/flatShading":" ","sidebar/material/blending":"","sidebar/material/opacity":"","sidebar/material/transparent":"","sidebar/material/forcesinglepass":"  ","sidebar/material/alphatest":" ","sidebar/material/depthtest":" ","sidebar/material/depthwrite":" ","sidebar/material/wireframe":"","sidebar/material/userdata":" ","sidebar/material/export":"JSON ","sidebar/script/new":" ","sidebar/script/edit":"","sidebar/script/remove":"","sidebar/project":"","sidebar/project/renderer":"","sidebar/project/antialias":"","sidebar/project/shadows":"","sidebar/project/toneMapping":" ","sidebar/project/geometries":"","sidebar/project/materials":"","sidebar/project/textures":"","sidebar/project/Assign":"","sidebar/project/app":"","sidebar/project/app/play":"","sidebar/project/app/stop":"","sidebar/project/app/title":"","sidebar/project/app/editable":" ","sidebar/project/app/publish":"  ","sidebar/project/image":"","sidebar/project/image/samples":"","sidebar/project/video":"","sidebar/project/shading":"","sidebar/project/resolution":"","sidebar/project/duration":"","sidebar/project/render":"","sidebar/settings":"","sidebar/settings/language":"","sidebar/settings/shortcuts":"","sidebar/settings/shortcuts/translate":"","sidebar/settings/shortcuts/rotate":"","sidebar/settings/shortcuts/scale":"","sidebar/settings/shortcuts/undo":"","sidebar/settings/shortcuts/focus":"","sidebar/history":"","sidebar/history/clear":"","sidebar/history/persistent":"","toolbar/translate":"","toolbar/rotate":"","toolbar/scale":"","toolbar/local":"","viewport/controls/grid":"","viewport/controls/helpers":" ","viewport/info/object":"","viewport/info/objects":"","viewport/info/vertex":"","viewport/info/vertices":"","viewport/info/triangle":"","viewport/info/triangles":"","viewport/info/sample":"","viewport/info/samples":"","viewport/info/rendertime":" ","script/title/vertexShader":" ","script/title/fragmentShader":" ","script/title/programInfo":" ","dialog/gltf/title":"glTF ","dialog/gltf/asScene":"glTF   ","dialog/ok":"","dialog/cancel":""}};return{getKey:function(s){return t[e][s]||"???"}}}function go(){const a=window.indexedDB;if(a===void 0)return console.warn("Storage: IndexedDB not available."),{init:function(){},get:function(){},set:function(){},clear:function(){}};const e="threejs-editor",t=1;let s;return{init:function(n){const i=a.open(e,t);i.onupgradeneeded=function(r){const o=r.target.result;o.objectStoreNames.contains("states")===!1&&o.createObjectStore("states")},i.onsuccess=function(r){s=r.target.result,n()},i.onerror=function(r){console.error("IndexedDB",r)}},get:function(n){const o=s.transaction(["states"],"readonly").objectStore("states").get(0);o.onsuccess=function(d){n(d.target.result)}},set:function(n){const i=performance.now(),d=s.transaction(["states"],"readwrite").objectStore("states").put(n,0);d.onsuccess=function(){console.log("["+/\d\d\:\d\d\:\d\d/.exec(new Date)[0]+"]","Saved state to IndexedDB. "+(performance.now()-i).toFixed(2)+"ms")}},clear:function(){if(s===void 0)return;const r=s.transaction(["states"],"readwrite").objectStore("states").clear();r.onsuccess=function(){console.log("["+/\d\d\:\d\d\:\d\d/.exec(new Date)[0]+"]","Cleared IndexedDB.")}}}}const on=new Je,dn=new Ht;class uo{constructor(e){const t=e.signals;this.editor=e,this.signals=t,t.intersectionsDetected.add(s=>{if(s.length>0){const n=[];for(let r=0;r<s.length;r++){let o=s[r].object;o.userData.object!==void 0&&(o=o.userData.object),n.indexOf(o)===-1&&n.push(o)}const i=n.indexOf(e.selected);i!==-1&&i<n.length-1?this.select(n[i+1]):this.select(n[0])}else this.select(null)})}getIntersects(e){const t=[];return this.editor.scene.traverseVisible(function(s){t.push(s)}),this.editor.sceneHelpers.traverseVisible(function(s){s.name==="picker"&&t.push(s)}),e.intersectObjects(t,!1)}getPointerIntersects(e,t){return on.set(e.x*2-1,-(e.y*2)+1),dn.setFromCamera(on,t),this.getIntersects(dn)}select(e){if(this.editor.selected===e)return;let t=null;e!==null&&(t=e.uuid),this.editor.selected=e,this.editor.config.setKey("selected",t),this.signals.objectSelected.dispatch(e)}deselect(){this.select(null)}}var Ca=new Ka(50,1,.001,1e10);Ca.name="Camera";Ca.position.set(0,5,10);Ca.lookAt(new Z);function mo(){const a=signals.Signal;this.signals={editScript:new a,startPlayer:new a,stopPlayer:new a,enterXR:new a,offerXR:new a,leaveXR:new a,editorCleared:new a,savingStarted:new a,savingFinished:new a,transformModeChanged:new a,snapChanged:new a,spaceChanged:new a,rendererCreated:new a,rendererUpdated:new a,rendererDetectKTX2Support:new a,sceneBackgroundChanged:new a,sceneEnvironmentChanged:new a,sceneFogChanged:new a,sceneFogSettingsChanged:new a,sceneGraphChanged:new a,sceneRendered:new a,cameraChanged:new a,cameraResetted:new a,geometryChanged:new a,objectSelected:new a,objectFocused:new a,objectAdded:new a,objectChanged:new a,objectRemoved:new a,cameraAdded:new a,cameraRemoved:new a,helperAdded:new a,helperRemoved:new a,materialAdded:new a,materialChanged:new a,materialRemoved:new a,scriptAdded:new a,scriptChanged:new a,scriptRemoved:new a,windowResize:new a,showHelpersChanged:new a,refreshSidebarObject3D:new a,historyChanged:new a,viewportCameraChanged:new a,viewportShadingChanged:new a,intersectionsDetected:new a,pathTracerUpdated:new a,morphTargetsUpdated:new a},this.config=new Lr,this.history=new lo(this),this.selector=new uo(this),this.storage=new go,this.strings=new co(this.config),this.loader=new oo(this),this.camera=Ca.clone(),this.scene=new ja,this.scene.name="Scene",this.sceneHelpers=new ja,this.sceneHelpers.add(new Rn(16777215,8947848,2)),this.backgroundType="Default",this.environmentType="Default",this.object={},this.geometries={},this.materials={},this.textures={},this.scripts={},this.materialsRefCounter=new Map,this.mixer=new Dn(this.scene),this.selected=null,this.helpers={},this.cameras={},this.viewportCamera=this.camera,this.viewportShading="default",this.viewportColor=new Ve,this.addCamera(this.camera)}mo.prototype={setScene:function(a){for(this.scene.uuid=a.uuid,this.scene.name=a.name,this.scene.background=a.background,this.scene.environment=a.environment,this.scene.fog=a.fog,this.scene.backgroundBlurriness=a.backgroundBlurriness,this.scene.backgroundIntensity=a.backgroundIntensity,this.scene.userData=JSON.parse(JSON.stringify(a.userData)),this.signals.sceneGraphChanged.active=!1;a.children.length>0;)this.addObject(a.children[0]);this.signals.sceneGraphChanged.active=!0,this.signals.sceneGraphChanged.dispatch(),this.signals.sceneEnvironmentChanged.dispatch(this.environmentType,a.environment)},addObject:function(a,e,t){var s=this;a.traverse(function(n){n.geometry!==void 0&&s.addGeometry(n.geometry),n.material!==void 0&&s.addMaterial(n.material),s.addCamera(n),s.addHelper(n)}),e===void 0?this.scene.add(a):(e.children.splice(t,0,a),a.parent=e),this.signals.objectAdded.dispatch(a),this.signals.sceneGraphChanged.dispatch()},nameObject:function(a,e){a.name=e,this.signals.sceneGraphChanged.dispatch()},removeObject:function(a){if(a.parent!==null){var e=this;a.traverse(function(t){e.removeCamera(t),e.removeHelper(t),t.material!==void 0&&e.removeMaterial(t.material)}),a.parent.remove(a),this.signals.objectRemoved.dispatch(a),this.signals.sceneGraphChanged.dispatch()}},addGeometry:function(a){this.geometries[a.uuid]=a},setGeometryName:function(a,e){a.name=e,this.signals.sceneGraphChanged.dispatch()},addMaterial:function(a){if(Array.isArray(a))for(var e=0,t=a.length;e<t;e++)this.addMaterialToRefCounter(a[e]);else this.addMaterialToRefCounter(a);this.signals.materialAdded.dispatch()},addMaterialToRefCounter:function(a){var e=this.materialsRefCounter,t=e.get(a);t===void 0?(e.set(a,1),this.materials[a.uuid]=a):(t++,e.set(a,t))},removeMaterial:function(a){if(Array.isArray(a))for(var e=0,t=a.length;e<t;e++)this.removeMaterialFromRefCounter(a[e]);else this.removeMaterialFromRefCounter(a);this.signals.materialRemoved.dispatch()},removeMaterialFromRefCounter:function(a){var e=this.materialsRefCounter,t=e.get(a);t--,t===0?(e.delete(a),delete this.materials[a.uuid]):e.set(a,t)},getMaterialById:function(a){for(var e,t=Object.values(this.materials),s=0;s<t.length;s++)if(t[s].id===a){e=t[s];break}return e},setMaterialName:function(a,e){a.name=e,this.signals.sceneGraphChanged.dispatch()},addTexture:function(a){this.textures[a.uuid]=a},addCamera:function(a){a.isCamera&&(this.cameras[a.uuid]=a,this.signals.cameraAdded.dispatch(a))},removeCamera:function(a){this.cameras[a.uuid]!==void 0&&(delete this.cameras[a.uuid],this.signals.cameraRemoved.dispatch(a))},addHelper:(function(){var a=new Jt(2,4,2),e=new Ge({color:16711680,visible:!1});return function(t,s){if(s===void 0){if(t.isCamera)s=new Pi(t);else if(t.isPointLight){s=new Ki(t,1),s.matrix=new xt,s.matrixAutoUpdate=!0;const i=t,r=this;s.updateMatrixWorld=function(){i.getWorldPosition(this.position);const o=r.viewportCamera.position.distanceTo(this.position);this.scale.setScalar(o/30),this.updateMatrix(),this.matrixWorld.copy(this.matrix);const d=this.children;for(let A=0,c=d.length;A<c;A++)d[A].updateMatrixWorld()}}else if(t.isDirectionalLight)s=new Ui(t,1);else if(t.isSpotLight)s=new Oi(t);else if(t.isHemisphereLight)s=new Hi(t,1);else if(t.isSkinnedMesh)s=new Hs(t.skeleton.bones[0]);else if(t.isBone===!0&&t.parent&&t.parent.isBone!==!0)s=new Hs(t);else return;const n=new K(a,e);n.name="picker",n.userData.object=t,s.add(n)}this.sceneHelpers.add(s),this.helpers[t.id]=s,this.signals.helperAdded.dispatch(s)}})(),removeHelper:function(a){if(this.helpers[a.id]!==void 0){var e=this.helpers[a.id];e.parent.remove(e),e.dispose(),delete this.helpers[a.id],this.signals.helperRemoved.dispatch(e)}},addScript:function(a,e){this.scripts[a.uuid]===void 0&&(this.scripts[a.uuid]=[]),this.scripts[a.uuid].push(e),this.signals.scriptAdded.dispatch(e)},removeScript:function(a,e){if(this.scripts[a.uuid]!==void 0){var t=this.scripts[a.uuid].indexOf(e);t!==-1&&this.scripts[a.uuid].splice(t,1),this.signals.scriptRemoved.dispatch(e)}},getObjectMaterial:function(a,e){var t=a.material;return Array.isArray(t)&&e!==void 0&&(t=t[e]),t},setObjectMaterial:function(a,e,t){Array.isArray(a.material)&&e!==void 0?a.material[e]=t:a.material=t},setViewportCamera:function(a){this.viewportCamera=this.cameras[a],this.signals.viewportCameraChanged.dispatch()},setViewportShading:function(a){this.viewportShading=a,this.signals.viewportShadingChanged.dispatch()},select:function(a){this.selector.select(a)},selectById:function(a){if(a===this.camera.id){this.select(this.camera);return}this.select(this.scene.getObjectById(a))},selectByUuid:function(a){var e=this;this.scene.traverse(function(t){t.uuid===a&&e.select(t)})},deselect:function(){this.selector.deselect()},focus:function(a){a!==void 0&&this.signals.objectFocused.dispatch(a)},focusById:function(a){this.focus(this.scene.getObjectById(a))},clear:function(){this.history.clear(),this.storage.clear(),this.camera.copy(Ca),this.signals.cameraResetted.dispatch(),this.scene.name="Scene",this.scene.userData={},this.scene.background=null,this.scene.environment=null,this.scene.fog=null;var a=this.scene.children;for(this.signals.sceneGraphChanged.active=!1;a.length>0;)this.removeObject(a[0]);this.signals.sceneGraphChanged.active=!0,this.geometries={},this.materials={},this.textures={},this.scripts={},this.materialsRefCounter.clear(),this.animations={},this.mixer.stopAllAction(),this.deselect(),this.backgroundType="Default",this.environmentType="Default",this.signals.editorCleared.dispatch()},fromJSON:async function(a){var e=new Ct,t=await e.parseAsync(a.camera);const s=this.camera.uuid,n=t.uuid;this.camera.copy(t),this.camera.uuid=n,delete this.cameras[s],this.cameras[n]=this.camera,a.controls!==void 0&&this.controls.fromJSON(a.controls),this.signals.cameraResetted.dispatch(),this.history.fromJSON(a.history),this.scripts=a.scripts;const i=await e.parseAsync(a.scene);this.backgroundType=a.backgroundType||"Default",this.environmentType=a.environmentType||"Default",this.setScene(i)},toJSON:function(){var a=this.scene,e=this.scripts;for(var t in e){var s=e[t];(s.length===0||a.getObjectByProperty("uuid",t)===void 0)&&delete e[t]}return{metadata:{},project:{renderer:this.config.getKey("project/renderer/type"),shadows:this.config.getKey("project/renderer/shadows"),shadowType:this.config.getKey("project/renderer/shadowType"),toneMapping:this.config.getKey("project/renderer/toneMapping"),toneMappingExposure:this.config.getKey("project/renderer/toneMappingExposure")},camera:this.viewportCamera.toJSON(),controls:this.controls.toJSON(),scene:this.scene.toJSON(),scripts:this.scripts,history:this.history.toJSON(),backgroundType:this.backgroundType,environmentType:this.environmentType}},objectByUuid:function(a){return this.scene.getObjectByProperty("uuid",a,!0)},execute:function(a,e){this.history.execute(a,e)},undo:function(){this.history.undo()},redo:function(){this.history.redo()},utils:{save:Ps,saveArrayBuffer:ho,saveString:po,formatNumber:bo}};const ta=document.createElement("a");function Ps(a,e){ta.href&&URL.revokeObjectURL(ta.href),ta.href=URL.createObjectURL(a),ta.download=e||"data.json",ta.dispatchEvent(new MouseEvent("click"))}function ho(a,e){Ps(new Blob([a],{type:"application/octet-stream"}),e)}function po(a,e){Ps(new Blob([a],{type:"text/plain"}),e)}function bo(a){return new Intl.NumberFormat("en-us",{useGrouping:!0}).format(a)}const It=new Ht,Ne=new Z,mt=new Z,be=new ke,An={X:new Z(1,0,0),Y:new Z(0,1,0),Z:new Z(0,0,1)},rs={type:"change"},ln={type:"mouseDown",mode:null},cn={type:"mouseUp",mode:null},gn={type:"objectChange"};class fo extends Ji{constructor(e,t=null){super(void 0,t);const s=new Bo(this);this._root=s;const n=new Qo;this._gizmo=n,s.add(n);const i=new So;this._plane=i,s.add(i);const r=this;function o(f,y){let I=y;Object.defineProperty(r,f,{get:function(){return I!==void 0?I:y},set:function(_){I!==_&&(I=_,i[f]=_,n[f]=_,r.dispatchEvent({type:f+"-changed",value:_}),r.dispatchEvent(rs))}}),r[f]=y,i[f]=y,n[f]=y}o("camera",e),o("object",void 0),o("enabled",!0),o("axis",null),o("mode","translate"),o("translationSnap",null),o("rotationSnap",null),o("scaleSnap",null),o("space","world"),o("size",1),o("dragging",!1),o("showX",!0),o("showY",!0),o("showZ",!0),o("minX",-1/0),o("maxX",1/0),o("minY",-1/0),o("maxY",1/0),o("minZ",-1/0),o("maxZ",1/0);const d=new Z,A=new Z,c=new ke,g=new ke,l=new Z,u=new ke,m=new Z,p=new Z,h=new Z,b=0,Q=new Z;o("worldPosition",d),o("worldPositionStart",A),o("worldQuaternion",c),o("worldQuaternionStart",g),o("cameraPosition",l),o("cameraQuaternion",u),o("pointStart",m),o("pointEnd",p),o("rotationAxis",h),o("rotationAngle",b),o("eye",Q),this._offset=new Z,this._startNorm=new Z,this._endNorm=new Z,this._cameraScale=new Z,this._parentPosition=new Z,this._parentQuaternion=new ke,this._parentQuaternionInv=new ke,this._parentScale=new Z,this._worldScaleStart=new Z,this._worldQuaternionInv=new ke,this._worldScale=new Z,this._positionStart=new Z,this._quaternionStart=new ke,this._scaleStart=new Z,this._getPointer=yo.bind(this),this._onPointerDown=Io.bind(this),this._onPointerHover=Co.bind(this),this._onPointerMove=wo.bind(this),this._onPointerUp=Eo.bind(this),t!==null&&this.connect(t)}connect(e){super.connect(e),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointermove",this._onPointerHover),this.domElement.addEventListener("pointerup",this._onPointerUp),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerHover),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.style.touchAction="auto"}getHelper(){return this._root}pointerHover(e){if(this.object===void 0||this.dragging===!0)return;e!==null&&It.setFromCamera(e,this.camera);const t=os(this._gizmo.picker[this.mode],It);t?this.axis=t.object.name:this.axis=null}pointerDown(e){if(!(this.object===void 0||this.dragging===!0||e!=null&&e.button!==0)&&this.axis!==null){e!==null&&It.setFromCamera(e,this.camera);const t=os(this._plane,It,!0);t&&(this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),this._positionStart.copy(this.object.position),this._quaternionStart.copy(this.object.quaternion),this._scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this._worldScaleStart),this.pointStart.copy(t.point).sub(this.worldPositionStart)),this.dragging=!0,ln.mode=this.mode,this.dispatchEvent(ln)}}pointerMove(e){const t=this.axis,s=this.mode,n=this.object;let i=this.space;if(s==="scale"?i="local":(t==="E"||t==="XYZE"||t==="XYZ")&&(i="world"),n===void 0||t===null||this.dragging===!1||e!==null&&e.button!==-1)return;e!==null&&It.setFromCamera(e,this.camera);const r=os(this._plane,It,!0);if(r){if(this.pointEnd.copy(r.point).sub(this.worldPositionStart),s==="translate")this._offset.copy(this.pointEnd).sub(this.pointStart),i==="local"&&t!=="XYZ"&&this._offset.applyQuaternion(this._worldQuaternionInv),t.indexOf("X")===-1&&(this._offset.x=0),t.indexOf("Y")===-1&&(this._offset.y=0),t.indexOf("Z")===-1&&(this._offset.z=0),i==="local"&&t!=="XYZ"?this._offset.applyQuaternion(this._quaternionStart).divide(this._parentScale):this._offset.applyQuaternion(this._parentQuaternionInv).divide(this._parentScale),n.position.copy(this._offset).add(this._positionStart),this.translationSnap&&(i==="local"&&(n.position.applyQuaternion(be.copy(this._quaternionStart).invert()),t.search("X")!==-1&&(n.position.x=Math.round(n.position.x/this.translationSnap)*this.translationSnap),t.search("Y")!==-1&&(n.position.y=Math.round(n.position.y/this.translationSnap)*this.translationSnap),t.search("Z")!==-1&&(n.position.z=Math.round(n.position.z/this.translationSnap)*this.translationSnap),n.position.applyQuaternion(this._quaternionStart)),i==="world"&&(n.parent&&n.position.add(Ne.setFromMatrixPosition(n.parent.matrixWorld)),t.search("X")!==-1&&(n.position.x=Math.round(n.position.x/this.translationSnap)*this.translationSnap),t.search("Y")!==-1&&(n.position.y=Math.round(n.position.y/this.translationSnap)*this.translationSnap),t.search("Z")!==-1&&(n.position.z=Math.round(n.position.z/this.translationSnap)*this.translationSnap),n.parent&&n.position.sub(Ne.setFromMatrixPosition(n.parent.matrixWorld)))),n.position.x=Math.max(this.minX,Math.min(this.maxX,n.position.x)),n.position.y=Math.max(this.minY,Math.min(this.maxY,n.position.y)),n.position.z=Math.max(this.minZ,Math.min(this.maxZ,n.position.z));else if(s==="scale"){if(t.search("XYZ")!==-1){let o=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(o*=-1),mt.set(o,o,o)}else Ne.copy(this.pointStart),mt.copy(this.pointEnd),Ne.applyQuaternion(this._worldQuaternionInv),mt.applyQuaternion(this._worldQuaternionInv),mt.divide(Ne),t.search("X")===-1&&(mt.x=1),t.search("Y")===-1&&(mt.y=1),t.search("Z")===-1&&(mt.z=1);n.scale.copy(this._scaleStart).multiply(mt),this.scaleSnap&&(t.search("X")!==-1&&(n.scale.x=Math.round(n.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),t.search("Y")!==-1&&(n.scale.y=Math.round(n.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),t.search("Z")!==-1&&(n.scale.z=Math.round(n.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if(s==="rotate"){this._offset.copy(this.pointEnd).sub(this.pointStart);const o=20/this.worldPosition.distanceTo(Ne.setFromMatrixPosition(this.camera.matrixWorld));let d=!1;t==="XYZE"?(this.rotationAxis.copy(this._offset).cross(this.eye).normalize(),this.rotationAngle=this._offset.dot(Ne.copy(this.rotationAxis).cross(this.eye))*o):(t==="X"||t==="Y"||t==="Z")&&(this.rotationAxis.copy(An[t]),Ne.copy(An[t]),i==="local"&&Ne.applyQuaternion(this.worldQuaternion),Ne.cross(this.eye),Ne.length()===0?d=!0:this.rotationAngle=this._offset.dot(Ne.normalize())*o),(t==="E"||d)&&(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this._startNorm.copy(this.pointStart).normalize(),this._endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this._endNorm.cross(this._startNorm).dot(this.eye)<0?1:-1),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),i==="local"&&t!=="E"&&t!=="XYZE"?(n.quaternion.copy(this._quaternionStart),n.quaternion.multiply(be.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this._parentQuaternionInv),n.quaternion.copy(be.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),n.quaternion.multiply(this._quaternionStart).normalize())}this.dispatchEvent(rs),this.dispatchEvent(gn)}}pointerUp(e){e!==null&&e.button!==0||(this.dragging&&this.axis!==null&&(cn.mode=this.mode,this.dispatchEvent(cn)),this.dragging=!1,this.axis=null)}dispose(){this.disconnect(),this._root.dispose()}attach(e){return this.object=e,this._root.visible=!0,this}detach(){return this.object=void 0,this.axis=null,this._root.visible=!1,this}reset(){this.enabled&&this.dragging&&(this.object.position.copy(this._positionStart),this.object.quaternion.copy(this._quaternionStart),this.object.scale.copy(this._scaleStart),this.dispatchEvent(rs),this.dispatchEvent(gn),this.pointStart.copy(this.pointEnd))}getRaycaster(){return It}getMode(){return this.mode}setMode(e){this.mode=e}setTranslationSnap(e){this.translationSnap=e}setRotationSnap(e){this.rotationSnap=e}setScaleSnap(e){this.scaleSnap=e}setSize(e){this.size=e}setSpace(e){this.space=e}setColors(e,t,s,n){const i=this._gizmo.materialLib;i.xAxis.color.set(e),i.yAxis.color.set(t),i.zAxis.color.set(s),i.active.color.set(n),i.xAxisTransparent.color.set(e),i.yAxisTransparent.color.set(t),i.zAxisTransparent.color.set(s),i.activeTransparent.color.set(n),i.xAxis._color&&i.xAxis._color.set(e),i.yAxis._color&&i.yAxis._color.set(t),i.zAxis._color&&i.zAxis._color.set(s),i.active._color&&i.active._color.set(n),i.xAxisTransparent._color&&i.xAxisTransparent._color.set(e),i.yAxisTransparent._color&&i.yAxisTransparent._color.set(t),i.zAxisTransparent._color&&i.zAxisTransparent._color.set(s),i.activeTransparent._color&&i.activeTransparent._color.set(n)}}function yo(a){if(this.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:a.button};{const e=this.domElement.getBoundingClientRect();return{x:(a.clientX-e.left)/e.width*2-1,y:-(a.clientY-e.top)/e.height*2+1,button:a.button}}}function Co(a){if(this.enabled)switch(a.pointerType){case"mouse":case"pen":this.pointerHover(this._getPointer(a));break}}function Io(a){this.enabled&&(document.pointerLockElement||this.domElement.setPointerCapture(a.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.pointerHover(this._getPointer(a)),this.pointerDown(this._getPointer(a)))}function wo(a){this.enabled&&this.pointerMove(this._getPointer(a))}function Eo(a){this.enabled&&(this.domElement.releasePointerCapture(a.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.pointerUp(this._getPointer(a)))}function os(a,e,t){const s=e.intersectObject(a,!0);for(let n=0;n<s.length;n++)if(s[n].object.visible||t)return s[n];return!1}const Ba=new at,ce=new Z(0,1,0),un=new Z(0,0,0),mn=new xt,Qa=new ke,Ga=new ke,$e=new Z,hn=new xt,ca=new Z(1,0,0),Qt=new Z(0,1,0),ga=new Z(0,0,1),Sa=new Z,aa=new Z,sa=new Z;class Bo extends lt{constructor(e){super(),this.isTransformControlsRoot=!0,this.controls=e,this.visible=!1}updateMatrixWorld(e){const t=this.controls;t.object!==void 0&&(t.object.updateMatrixWorld(),t.object.parent===null?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):t.object.parent.matrixWorld.decompose(t._parentPosition,t._parentQuaternion,t._parentScale),t.object.matrixWorld.decompose(t.worldPosition,t.worldQuaternion,t._worldScale),t._parentQuaternionInv.copy(t._parentQuaternion).invert(),t._worldQuaternionInv.copy(t.worldQuaternion).invert()),t.camera.updateMatrixWorld(),t.camera.matrixWorld.decompose(t.cameraPosition,t.cameraQuaternion,t._cameraScale),t.camera.isOrthographicCamera?t.camera.getWorldDirection(t.eye).negate():t.eye.copy(t.cameraPosition).sub(t.worldPosition).normalize(),super.updateMatrixWorld(e)}dispose(){this.traverse(function(e){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()})}}class Qo extends lt{constructor(){super(),this.isTransformControlsGizmo=!0,this.type="TransformControlsGizmo";const e=new Ge({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),t=new Ua({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),s=e.clone();s.opacity=.15;const n=t.clone();n.opacity=.5;const i=e.clone();i.color.setHex(16711680);const r=e.clone();r.color.setHex(65280);const o=e.clone();o.color.setHex(255);const d=e.clone();d.color.setHex(16711680),d.opacity=.5;const A=e.clone();A.color.setHex(65280),A.opacity=.5;const c=e.clone();c.color.setHex(255),c.opacity=.5;const g=e.clone();g.opacity=.25;const l=e.clone();l.color.setHex(16776960),l.opacity=.25;const u=e.clone();u.color.setHex(16776960);const m=e.clone();m.color.setHex(7895160),this.materialLib={xAxis:i,yAxis:r,zAxis:o,active:u,xAxisTransparent:d,yAxisTransparent:A,zAxisTransparent:c,activeTransparent:l};const p=new Re(0,.04,.1,12);p.translate(0,.05,0);const h=new ve(.08,.08,.08);h.translate(0,.04,0);const b=new Ut;b.setAttribute("position",new Ot([0,0,0,1,0,0],3));const Q=new Re(.0075,.0075,.5,3);Q.translate(0,.25,0);function f(W,N){const O=new St(W,.0075,3,64,N*Math.PI*2);return O.rotateY(Math.PI/2),O.rotateX(Math.PI/2),O}function y(){const W=new Ut;return W.setAttribute("position",new Ot([0,0,0,1,1,1],3)),W}const I={X:[[new K(p,i),[.5,0,0],[0,0,-Math.PI/2]],[new K(p,i),[-.5,0,0],[0,0,Math.PI/2]],[new K(Q,i),[0,0,0],[0,0,-Math.PI/2]]],Y:[[new K(p,r),[0,.5,0]],[new K(p,r),[0,-.5,0],[Math.PI,0,0]],[new K(Q,r)]],Z:[[new K(p,o),[0,0,.5],[Math.PI/2,0,0]],[new K(p,o),[0,0,-.5],[-Math.PI/2,0,0]],[new K(Q,o),null,[Math.PI/2,0,0]]],XYZ:[[new K(new Pt(.1,0),g),[0,0,0]]],XY:[[new K(new ve(.15,.15,.01),c),[.15,.15,0]]],YZ:[[new K(new ve(.15,.15,.01),d),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new K(new ve(.15,.15,.01),A),[.15,0,.15],[-Math.PI/2,0,0]]]},_={X:[[new K(new Re(.2,0,.6,4),s),[.3,0,0],[0,0,-Math.PI/2]],[new K(new Re(.2,0,.6,4),s),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new K(new Re(.2,0,.6,4),s),[0,.3,0]],[new K(new Re(.2,0,.6,4),s),[0,-.3,0],[0,0,Math.PI]]],Z:[[new K(new Re(.2,0,.6,4),s),[0,0,.3],[Math.PI/2,0,0]],[new K(new Re(.2,0,.6,4),s),[0,0,-.3],[-Math.PI/2,0,0]]],XYZ:[[new K(new Pt(.2,0),s)]],XY:[[new K(new ve(.2,.2,.01),s),[.15,.15,0]]],YZ:[[new K(new ve(.2,.2,.01),s),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new K(new ve(.2,.2,.01),s),[.15,0,.15],[-Math.PI/2,0,0]]]},L={START:[[new K(new Pt(.01,2),n),null,null,null,"helper"]],END:[[new K(new Pt(.01,2),n),null,null,null,"helper"]],DELTA:[[new et(y(),n),null,null,null,"helper"]],X:[[new et(b,n),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new et(b,n),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new et(b,n),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},S={XYZE:[[new K(f(.5,1),m),null,[0,Math.PI/2,0]]],X:[[new K(f(.5,.5),i)]],Y:[[new K(f(.5,.5),r),null,[0,0,-Math.PI/2]]],Z:[[new K(f(.5,.5),o),null,[0,Math.PI/2,0]]],E:[[new K(f(.75,1),l),null,[0,Math.PI/2,0]]]},M={AXIS:[[new et(b,n),[-1e3,0,0],null,[1e6,1,1],"helper"]]},E={XYZE:[[new K(new Jt(.25,10,8),s)]],X:[[new K(new St(.5,.1,4,24),s),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new K(new St(.5,.1,4,24),s),[0,0,0],[Math.PI/2,0,0]]],Z:[[new K(new St(.5,.1,4,24),s),[0,0,0],[0,0,-Math.PI/2]]],E:[[new K(new St(.75,.1,2,24),s)]]},G={X:[[new K(h,i),[.5,0,0],[0,0,-Math.PI/2]],[new K(Q,i),[0,0,0],[0,0,-Math.PI/2]],[new K(h,i),[-.5,0,0],[0,0,Math.PI/2]]],Y:[[new K(h,r),[0,.5,0]],[new K(Q,r)],[new K(h,r),[0,-.5,0],[0,0,Math.PI]]],Z:[[new K(h,o),[0,0,.5],[Math.PI/2,0,0]],[new K(Q,o),[0,0,0],[Math.PI/2,0,0]],[new K(h,o),[0,0,-.5],[-Math.PI/2,0,0]]],XY:[[new K(new ve(.15,.15,.01),c),[.15,.15,0]]],YZ:[[new K(new ve(.15,.15,.01),d),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new K(new ve(.15,.15,.01),A),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new K(new ve(.1,.1,.1),g)]]},F={X:[[new K(new Re(.2,0,.6,4),s),[.3,0,0],[0,0,-Math.PI/2]],[new K(new Re(.2,0,.6,4),s),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new K(new Re(.2,0,.6,4),s),[0,.3,0]],[new K(new Re(.2,0,.6,4),s),[0,-.3,0],[0,0,Math.PI]]],Z:[[new K(new Re(.2,0,.6,4),s),[0,0,.3],[Math.PI/2,0,0]],[new K(new Re(.2,0,.6,4),s),[0,0,-.3],[-Math.PI/2,0,0]]],XY:[[new K(new ve(.2,.2,.01),s),[.15,.15,0]]],YZ:[[new K(new ve(.2,.2,.01),s),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new K(new ve(.2,.2,.01),s),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new K(new ve(.2,.2,.2),s),[0,0,0]]]},$={X:[[new et(b,n),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new et(b,n),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new et(b,n),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]};function Y(W){const N=new lt;for(const O in W)for(let H=W[O].length;H--;){const j=W[O][H][0].clone(),v=W[O][H][1],k=W[O][H][2],q=W[O][H][3],U=W[O][H][4];j.name=O,j.tag=U,v&&j.position.set(v[0],v[1],v[2]),k&&j.rotation.set(k[0],k[1],k[2]),q&&j.scale.set(q[0],q[1],q[2]),j.updateMatrix();const V=j.geometry.clone();V.applyMatrix4(j.matrix),j.geometry=V,j.renderOrder=1/0,j.position.set(0,0,0),j.rotation.set(0,0,0),j.scale.set(1,1,1),N.add(j)}return N}this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=Y(I)),this.add(this.gizmo.rotate=Y(S)),this.add(this.gizmo.scale=Y(G)),this.add(this.picker.translate=Y(_)),this.add(this.picker.rotate=Y(E)),this.add(this.picker.scale=Y(F)),this.add(this.helper.translate=Y(L)),this.add(this.helper.rotate=Y(M)),this.add(this.helper.scale=Y($)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}updateMatrixWorld(e){const s=(this.mode==="scale"?"local":this.space)==="local"?this.worldQuaternion:Ga;this.gizmo.translate.visible=this.mode==="translate",this.gizmo.rotate.visible=this.mode==="rotate",this.gizmo.scale.visible=this.mode==="scale",this.helper.translate.visible=this.mode==="translate",this.helper.rotate.visible=this.mode==="rotate",this.helper.scale.visible=this.mode==="scale";let n=[];n=n.concat(this.picker[this.mode].children),n=n.concat(this.gizmo[this.mode].children),n=n.concat(this.helper[this.mode].children);for(let i=0;i<n.length;i++){const r=n[i];r.visible=!0,r.rotation.set(0,0,0),r.position.copy(this.worldPosition);let o;if(this.camera.isOrthographicCamera?o=(this.camera.top-this.camera.bottom)/this.camera.zoom:o=this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),r.scale.set(1,1,1).multiplyScalar(o*this.size/4),r.tag==="helper"){r.visible=!1,r.name==="AXIS"?(r.visible=!!this.axis,this.axis==="X"&&(be.setFromEuler(Ba.set(0,0,0)),r.quaternion.copy(s).multiply(be),Math.abs(ce.copy(ca).applyQuaternion(s).dot(this.eye))>.9&&(r.visible=!1)),this.axis==="Y"&&(be.setFromEuler(Ba.set(0,0,Math.PI/2)),r.quaternion.copy(s).multiply(be),Math.abs(ce.copy(Qt).applyQuaternion(s).dot(this.eye))>.9&&(r.visible=!1)),this.axis==="Z"&&(be.setFromEuler(Ba.set(0,Math.PI/2,0)),r.quaternion.copy(s).multiply(be),Math.abs(ce.copy(ga).applyQuaternion(s).dot(this.eye))>.9&&(r.visible=!1)),this.axis==="XYZE"&&(be.setFromEuler(Ba.set(0,Math.PI/2,0)),ce.copy(this.rotationAxis),r.quaternion.setFromRotationMatrix(mn.lookAt(un,ce,Qt)),r.quaternion.multiply(be),r.visible=this.dragging),this.axis==="E"&&(r.visible=!1)):r.name==="START"?(r.position.copy(this.worldPositionStart),r.visible=this.dragging):r.name==="END"?(r.position.copy(this.worldPosition),r.visible=this.dragging):r.name==="DELTA"?(r.position.copy(this.worldPositionStart),r.quaternion.copy(this.worldQuaternionStart),Ne.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),Ne.applyQuaternion(this.worldQuaternionStart.clone().invert()),r.scale.copy(Ne),r.visible=this.dragging):(r.quaternion.copy(s),this.dragging?r.position.copy(this.worldPositionStart):r.position.copy(this.worldPosition),this.axis&&(r.visible=this.axis.search(r.name)!==-1));continue}r.quaternion.copy(s),this.mode==="translate"||this.mode==="scale"?(r.name==="X"&&Math.abs(ce.copy(ca).applyQuaternion(s).dot(this.eye))>.99&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),r.name==="Y"&&Math.abs(ce.copy(Qt).applyQuaternion(s).dot(this.eye))>.99&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),r.name==="Z"&&Math.abs(ce.copy(ga).applyQuaternion(s).dot(this.eye))>.99&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),r.name==="XY"&&Math.abs(ce.copy(ga).applyQuaternion(s).dot(this.eye))<.2&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),r.name==="YZ"&&Math.abs(ce.copy(ca).applyQuaternion(s).dot(this.eye))<.2&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),r.name==="XZ"&&Math.abs(ce.copy(Qt).applyQuaternion(s).dot(this.eye))<.2&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1)):this.mode==="rotate"&&(Qa.copy(s),ce.copy(this.eye).applyQuaternion(be.copy(s).invert()),r.name.search("E")!==-1&&r.quaternion.setFromRotationMatrix(mn.lookAt(this.eye,un,Qt)),r.name==="X"&&(be.setFromAxisAngle(ca,Math.atan2(-ce.y,ce.z)),be.multiplyQuaternions(Qa,be),r.quaternion.copy(be)),r.name==="Y"&&(be.setFromAxisAngle(Qt,Math.atan2(ce.x,ce.z)),be.multiplyQuaternions(Qa,be),r.quaternion.copy(be)),r.name==="Z"&&(be.setFromAxisAngle(ga,Math.atan2(ce.y,ce.x)),be.multiplyQuaternions(Qa,be),r.quaternion.copy(be))),r.visible=r.visible&&(r.name.indexOf("X")===-1||this.showX),r.visible=r.visible&&(r.name.indexOf("Y")===-1||this.showY),r.visible=r.visible&&(r.name.indexOf("Z")===-1||this.showZ),r.visible=r.visible&&(r.name.indexOf("E")===-1||this.showX&&this.showY&&this.showZ),r.material._color=r.material._color||r.material.color.clone(),r.material._opacity=r.material._opacity||r.material.opacity,r.material.color.copy(r.material._color),r.material.opacity=r.material._opacity,this.enabled&&this.axis&&(r.name===this.axis?(r.material.color.copy(this.materialLib.active.color),r.material.opacity=1):this.axis.split("").some(function(d){return r.name===d})&&(r.material.color.copy(this.materialLib.active.color),r.material.opacity=1))}super.updateMatrixWorld(e)}}class So extends K{constructor(){super(new Oa(1e5,1e5,2,2),new Ge({visible:!1,wireframe:!0,side:vs,transparent:!0,opacity:.1,toneMapped:!1})),this.isTransformControlsPlane=!0,this.type="TransformControlsPlane"}updateMatrixWorld(e){let t=this.space;switch(this.position.copy(this.worldPosition),this.mode==="scale"&&(t="local"),Sa.copy(ca).applyQuaternion(t==="local"?this.worldQuaternion:Ga),aa.copy(Qt).applyQuaternion(t==="local"?this.worldQuaternion:Ga),sa.copy(ga).applyQuaternion(t==="local"?this.worldQuaternion:Ga),ce.copy(aa),this.mode){case"translate":case"scale":switch(this.axis){case"X":ce.copy(this.eye).cross(Sa),$e.copy(Sa).cross(ce);break;case"Y":ce.copy(this.eye).cross(aa),$e.copy(aa).cross(ce);break;case"Z":ce.copy(this.eye).cross(sa),$e.copy(sa).cross(ce);break;case"XY":$e.copy(sa);break;case"YZ":$e.copy(Sa);break;case"XZ":ce.copy(sa),$e.copy(aa);break;case"XYZ":case"E":$e.set(0,0,0);break}break;case"rotate":default:$e.set(0,0,0)}$e.length()===0?this.quaternion.copy(this.cameraQuaternion):(hn.lookAt(Ne.set(0,0,0),$e,ce),this.quaternion.setFromRotationMatrix(hn)),super.updateMatrixWorld(e)}}class xo extends Yi{constructor(e){super(),this.enabled=!0,this.center=new Z,this.panSpeed=.002,this.zoomSpeed=.1,this.rotationSpeed=.005;var t=this,s=new Z,n=new Z,i=new Ha,r={NONE:-1,ROTATE:0,ZOOM:1,PAN:2},o=r.NONE,d=this.center,A=new _n,c=new Je,g=new Je,l=new qi,u=new Ln,m=[],p={},h=null,b={type:"change"};this.focus=function(v){var k;i.setFromObject(v),i.isEmpty()===!1?(i.getCenter(d),k=i.getBoundingSphere(u).radius):(d.setFromMatrixPosition(v.matrixWorld),k=.1),n.set(0,0,1),n.applyQuaternion(e.quaternion),n.multiplyScalar(k*4),e.position.copy(d).add(n),t.dispatchEvent(b)},this.pan=function(v){var k=e.position.distanceTo(d);v.multiplyScalar(k*t.panSpeed),v.applyMatrix3(A.getNormalMatrix(e.matrix)),e.position.add(v),d.add(v),t.dispatchEvent(b)},this.zoom=function(v){var k=e.position.distanceTo(d);v.multiplyScalar(k*t.zoomSpeed),!(v.length()>k)&&(v.applyMatrix3(A.getNormalMatrix(e.matrix)),e.position.add(v),t.dispatchEvent(b))},this.rotate=function(v){s.copy(e.position).sub(d),l.setFromVector3(s),l.theta+=v.x*t.rotationSpeed,l.phi+=v.y*t.rotationSpeed,l.makeSafe(),s.setFromSpherical(l),e.position.copy(d).add(s),e.lookAt(d),t.dispatchEvent(b)};function Q(v){t.enabled!==!1&&(m.length===0&&(h.setPointerCapture(v.pointerId),h.ownerDocument.addEventListener("pointermove",f),h.ownerDocument.addEventListener("pointerup",y)),!O(v)&&(W(v),v.pointerType==="touch"?$(v):I(v)))}function f(v){t.enabled!==!1&&(v.pointerType==="touch"?Y(v):_(v))}function y(v){switch(N(v),m.length){case 0:h.releasePointerCapture(v.pointerId),h.ownerDocument.removeEventListener("pointermove",f),h.ownerDocument.removeEventListener("pointerup",y);break;case 1:var k=m[0],q=p[k];$({pointerId:k,pageX:q.x,pageY:q.y});break}}function I(v){v.button===0?o=r.ROTATE:v.button===1?o=r.ZOOM:v.button===2&&(o=r.PAN),g.set(v.clientX,v.clientY)}function _(v){c.set(v.clientX,v.clientY);var k=c.x-g.x,q=c.y-g.y;o===r.ROTATE?t.rotate(n.set(-k,-q,0)):o===r.ZOOM?t.zoom(n.set(0,0,q)):o===r.PAN&&t.pan(n.set(-k,q,0)),g.set(v.clientX,v.clientY)}function L(){o=r.NONE}function S(v){t.enabled!==!1&&(v.preventDefault(),t.zoom(n.set(0,0,v.deltaY>0?1:-1)))}function M(v){v.preventDefault()}this.connect=function(v){h!==null&&this.disconnect(),h=v,h.addEventListener("contextmenu",M),h.addEventListener("dblclick",L),h.addEventListener("wheel",S,{passive:!1}),h.addEventListener("pointerdown",Q)},this.disconnect=function(){h.removeEventListener("contextmenu",M),h.removeEventListener("dblclick",L),h.removeEventListener("wheel",S),h.removeEventListener("pointerdown",Q),h=null};var E=[new Z,new Z,new Z],G=[new Z,new Z,new Z],F=null;function $(v){switch(H(v),m.length){case 1:E[0].set(v.pageX,v.pageY,0).divideScalar(window.devicePixelRatio),E[1].set(v.pageX,v.pageY,0).divideScalar(window.devicePixelRatio);break;case 2:var k=j(v);E[0].set(v.pageX,v.pageY,0).divideScalar(window.devicePixelRatio),E[1].set(k.x,k.y,0).divideScalar(window.devicePixelRatio),F=E[0].distanceTo(E[1]);break}G[0].copy(E[0]),G[1].copy(E[1])}function Y(v){H(v);function k(w,D){var R=D[0];for(var X of D)R.distanceTo(w)>X.distanceTo(w)&&(R=X);return R}switch(m.length){case 1:E[0].set(v.pageX,v.pageY,0).divideScalar(window.devicePixelRatio),E[1].set(v.pageX,v.pageY,0).divideScalar(window.devicePixelRatio),t.rotate(E[0].sub(k(E[0],G)).multiplyScalar(-1));break;case 2:var q=j(v);E[0].set(v.pageX,v.pageY,0).divideScalar(window.devicePixelRatio),E[1].set(q.x,q.y,0).divideScalar(window.devicePixelRatio);var U=E[0].distanceTo(E[1])/10;t.zoom(n.set(0,0,F-U)),F=U;var V=E[0].clone().sub(k(E[0],G)),P=E[1].clone().sub(k(E[1],G));V.x=-V.x,P.x=-P.x,t.pan(V.add(P));break}G[0].copy(E[0]),G[1].copy(E[1])}function W(v){m.push(v.pointerId)}function N(v){delete p[v.pointerId];for(var k=0;k<m.length;k++)if(m[k]==v.pointerId){m.splice(k,1);return}}function O(v){for(var k=0;k<m.length;k++)if(m[k]==v.pointerId)return!0;return!1}function H(v){var k=p[v.pointerId];k===void 0&&(k=new Je,p[v.pointerId]=k),k.set(v.pageX,v.pageY)}function j(v){var k=v.pointerId===m[0]?m[1]:m[0];return p[k]}}fromJSON(e){e.center!==void 0&&this.center.fromArray(e.center)}toJSON(){return{center:this.center.toArray()}}}function vo(a){const e=a.signals,t=new re;t.setPosition("absolute"),t.setRight("10px"),t.setTop("10px");const s=new Ke;s.setMarginRight("10px"),s.onChange(function(){a.setViewportCamera(this.getValue())}),t.add(s),e.cameraAdded.add(r),e.cameraRemoved.add(r),e.objectChanged.add(function(o){o.isCamera&&i()});const n=new Ke;n.setOptions({realistic:"realistic",solid:"solid",normals:"normals",wireframe:"wireframe"}),n.setValue("solid"),n.onChange(function(){a.setViewportShading(this.getValue())}),t.add(n),e.editorCleared.add(function(){a.setViewportCamera(a.camera.uuid),n.setValue("solid"),a.setViewportShading(n.getValue())}),e.cameraResetted.add(r),r();function i(){const o={},d=a.cameras;for(const c in d){const g=d[c];o[g.uuid]=g.name}s.setOptions(o);const A=a.viewportCamera.uuid in o?a.viewportCamera:a.camera;return s.setValue(A.uuid),A}function r(){const o=i();a.setViewportCamera(o.uuid)}return t}function Mo(a){const e=a.signals,t=a.strings,s=new re;s.setId("info"),s.setPosition("absolute"),s.setLeft("10px"),s.setBottom("50px"),s.setFontSize("12px"),s.setColor("#fff"),s.setTextTransform("lowercase");const n=new B("0").setTextAlign("right").setWidth("60px").setMarginRight("6px"),i=new B("0").setTextAlign("right").setWidth("60px").setMarginRight("6px"),r=new B("0").setTextAlign("right").setWidth("60px").setMarginRight("6px"),o=new B("0").setTextAlign("right").setWidth("60px").setMarginRight("6px"),d=new B("0").setTextAlign("right").setWidth("60px").setMarginRight("6px").setHidden(!0),A=new B(t.getKey("viewport/info/objects")),c=new B(t.getKey("viewport/info/vertices")),g=new B(t.getKey("viewport/info/triangles")),l=new B(t.getKey("viewport/info/samples")).setHidden(!0);s.add(n,A,new Te),s.add(i,c,new Te),s.add(r,g,new Te),s.add(o,new B(t.getKey("viewport/info/rendertime")),new Te),s.add(d,l,new Te),e.objectAdded.add(m),e.objectRemoved.add(m),e.objectChanged.add(m),e.geometryChanged.add(m),e.sceneRendered.add(p);const u=new Intl.PluralRules(a.config.getKey("language"));function m(){const h=a.scene;let b=0,Q=0,f=0;for(let S=0,M=h.children.length;S<M;S++)h.children[S].traverseVisible(function(G){if(b++,G.isMesh||G.isPoints){const F=G.geometry,$=F.attributes.position;$!=null&&(Q+=$.count),G.isMesh&&(F.index!==null?f+=F.index.count/3:$!=null&&(f+=$.count/3))}});n.setValue(a.utils.formatNumber(b)),i.setValue(a.utils.formatNumber(Q)),r.setValue(a.utils.formatNumber(f));const y=new Intl.PluralRules(a.config.getKey("language")),I=y.select(b)==="one"?"viewport/info/object":"viewport/info/objects";A.setValue(t.getKey(I));const _=y.select(Q)==="one"?"viewport/info/vertex":"viewport/info/vertices";c.setValue(t.getKey(_));const L=y.select(f)==="one"?"viewport/info/triangle":"viewport/info/triangles";g.setValue(t.getKey(L))}function p(h){o.setValue(Number(h).toFixed(2))}return a.signals.pathTracerUpdated.add(function(h){h=Math.floor(h),d.setValue(h);const b=u.select(h)==="one"?"viewport/info/sample":"viewport/info/samples";l.setValue(t.getKey(b))}),a.signals.viewportShadingChanged.add(function(){const h=a.viewportShading==="realistic";d.setHidden(!h),l.setHidden(!h),s.setBottom(h?"62px":"50px")}),s}let Do=class extends lt{constructor(e,t){super(),this.isViewHelper=!0,this.animating=!1,this.center=new Z,this.location={top:null,right:0,bottom:0,left:null};const s=new Ve("#ff4466"),n=new Ve("#88ff44"),i=new Ve("#4488ff"),r=new Ve("#000000"),o={},d=[],A=new Ht,c=new Je,g=new lt,l=new Ja(-2,2,2,-2,0,4);l.position.set(0,0,2);const u=new Re(.04,.04,.8,5).rotateZ(-Math.PI/2).translate(.4,0,0),m=new K(u,k(s)),p=new K(u,k(n)),h=new K(u,k(i));p.rotation.z=Math.PI/2,h.rotation.y=-Math.PI/2,this.add(m),this.add(h),this.add(p);const b=V(s),Q=V(n),f=V(i),y=V(r),I=new Bt(b),_=new Bt(Q),L=new Bt(f),S=new Bt(y),M=new Bt(y),E=new Bt(y);I.position.x=1,_.position.y=1,L.position.z=1,S.position.x=-1,M.position.y=-1,E.position.z=-1,S.material.opacity=.2,M.material.opacity=.2,E.material.opacity=.2,I.userData.type="posX",_.userData.type="posY",L.userData.type="posZ",S.userData.type="negX",M.userData.type="negY",E.userData.type="negZ",this.add(I),this.add(_),this.add(L),this.add(S),this.add(M),this.add(E),d.push(I),d.push(_),d.push(L),d.push(S),d.push(M),d.push(E);const G=new Z,F=128,$=2*Math.PI;this.render=function(w){this.quaternion.copy(e.quaternion).invert(),this.updateMatrixWorld(),G.set(0,0,1),G.applyQuaternion(e.quaternion);const D=this.location;let R,X;D.left!==null?R=D.left:R=t.offsetWidth-F-D.right,D.top!==null?X=w.isWebGPURenderer?D.top:t.offsetHeight-F-D.top:X=w.isWebGPURenderer?t.offsetHeight-F-D.bottom:D.bottom,w.clearDepth(),w.getViewport(H),w.setViewport(R,X,F,F),w.render(this,l),w.setViewport(H.x,H.y,H.z,H.w)};const Y=new Z,W=new ke,N=new ke,O=new ke,H=new zi;let j=0;this.handleClick=function(w){if(this.animating===!0)return!1;const D=t.getBoundingClientRect(),R=this.location;let X,T;R.left!==null?X=D.left+R.left:X=D.left+t.offsetWidth-F-R.right,R.top!==null?T=D.top+R.top:T=D.top+t.offsetHeight-F-R.bottom,c.x=(w.clientX-X)/F*2-1,c.y=-((w.clientY-T)/F)*2+1,A.setFromCamera(c,l);const z=A.intersectObjects(d);if(z.length>0){const se=z[0].object;return v(se,this.center),this.animating=!0,!0}else return!1},this.setLabels=function(w,D,R){o.labelX=w,o.labelY=D,o.labelZ=R,P()},this.setLabelStyle=function(w,D,R){o.font=w,o.color=D,o.radius=R,P()},this.update=function(w){const D=w*$;N.rotateTowards(O,D),e.position.set(0,0,1).applyQuaternion(N).multiplyScalar(j).add(this.center),e.quaternion.rotateTowards(W,D),N.angleTo(O)===0&&(this.animating=!1)},this.dispose=function(){u.dispose(),m.material.dispose(),p.material.dispose(),h.material.dispose(),I.material.map.dispose(),_.material.map.dispose(),L.material.map.dispose(),S.material.map.dispose(),M.material.map.dispose(),E.material.map.dispose(),I.material.dispose(),_.material.dispose(),L.material.dispose(),S.material.dispose(),M.material.dispose(),E.material.dispose()};function v(w,D){switch(w.userData.type){case"posX":Y.set(1,0,0),W.setFromEuler(new at(0,Math.PI*.5,0));break;case"posY":Y.set(0,1,0),W.setFromEuler(new at(-Math.PI*.5,0,0));break;case"posZ":Y.set(0,0,1),W.setFromEuler(new at);break;case"negX":Y.set(-1,0,0),W.setFromEuler(new at(0,-Math.PI*.5,0));break;case"negY":Y.set(0,-1,0),W.setFromEuler(new at(Math.PI*.5,0,0));break;case"negZ":Y.set(0,0,-1),W.setFromEuler(new at(0,Math.PI,0));break;default:console.error("ViewHelper: Invalid axis.")}j=e.position.distanceTo(D),Y.multiplyScalar(j).add(D),g.position.copy(D),g.lookAt(e.position),N.copy(g.quaternion),g.lookAt(Y),O.copy(g.quaternion)}function k(w){return new Ge({color:w,toneMapped:!1})}function q(){let w=!1;try{w=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}return w}function U(w,D){let R;return q()?R=new OffscreenCanvas(w,D):(R=document.createElement("canvas"),R.width=w,R.height=D),R}function V(w,D){const{font:R="24px Arial",color:X="#000000",radius:T=14}=o,z=U(64,64),ee=z.getContext("2d");ee.beginPath(),ee.arc(32,32,T,0,2*Math.PI),ee.closePath(),ee.fillStyle=w.getStyle(),ee.fill(),D&&(ee.font=R,ee.textAlign="center",ee.fillStyle=X,ee.fillText(D,32,41));const se=new Tn(z);return se.colorSpace=Ye,new Ms({map:se,toneMapped:!1})}function P(){I.material.map.dispose(),_.material.map.dispose(),L.material.map.dispose(),I.material.dispose(),_.material.dispose(),L.material.dispose(),I.material=V(s,o.labelX),_.material=V(n,o.labelY),L.material=V(i,o.labelZ)}}};class Ro extends Do{constructor(e,t){super(e,t.dom),this.location.bottom=0;const s=new re;s.setId("viewHelper"),s.setPosition("absolute"),s.setRight("10px"),s.setBottom("10px"),s.setHeight("128px"),s.setWidth("128px"),s.dom.addEventListener("pointerup",n=>{n.stopPropagation(),this.handleClick(n)}),s.dom.addEventListener("pointerdown",function(n){n.stopPropagation()}),t.add(s)}}class _o extends K{constructor(e){const t=new Lo(e),s=new Oa(t.image.width*.001,t.image.height*.001),n=new Ge({map:t,toneMapped:!1,transparent:!0});super(s,n);function i(r){n.map.dispatchDOMEvent(r)}this.addEventListener("mousedown",i),this.addEventListener("mousemove",i),this.addEventListener("mouseup",i),this.addEventListener("click",i),this.dispose=function(){s.dispose(),n.dispose(),n.map.dispose(),Es.delete(e),this.removeEventListener("mousedown",i),this.removeEventListener("mousemove",i),this.removeEventListener("mouseup",i),this.removeEventListener("click",i)}}}class Lo extends Tn{constructor(e){super(pn(e)),this.dom=e,this.anisotropy=16,this.colorSpace=Ye,this.minFilter=pa,this.magFilter=pa,this.generateMipmaps=!1;const t=new MutationObserver(()=>{this.scheduleUpdate||(this.scheduleUpdate=setTimeout(()=>this.update(),16))}),s={attributes:!0,childList:!0,subtree:!0,characterData:!0};t.observe(e,s),this.observer=t}dispatchDOMEvent(e){e.data&&To(this.dom,e.type,e.data.x,e.data.y)}update(){this.image=pn(this.dom),this.needsUpdate=!0,this.scheduleUpdate=null}dispose(){this.observer&&this.observer.disconnect(),this.scheduleUpdate=clearTimeout(this.scheduleUpdate),super.dispose()}}const Es=new WeakMap;function pn(a){const e=document.createRange(),t=new Ve;function s(l){const u=[];let m=!1;function p(){if(m&&(m=!1,l.restore()),u.length===0)return;let h=-1/0,b=-1/0,Q=1/0,f=1/0;for(let y=0;y<u.length;y++){const I=u[y];h=Math.max(h,I.x),b=Math.max(b,I.y),Q=Math.min(Q,I.x+I.width),f=Math.min(f,I.y+I.height)}l.save(),l.beginPath(),l.rect(h,b,Q-h,f-b),l.clip(),m=!0}return{add:function(h){u.push(h),p()},remove:function(){u.pop(),p()}}}function n(l,u,m,p){p!==""&&(l.textTransform==="uppercase"&&(p=p.toUpperCase()),c.font=l.fontWeight+" "+l.fontSize+" "+l.fontFamily,c.textBaseline="top",c.fillStyle=l.color,c.fillText(p,u,m+parseFloat(l.fontSize)*.1))}function i(l,u,m,p,h){m<2*h&&(h=m/2),p<2*h&&(h=p/2),c.beginPath(),c.moveTo(l+h,u),c.arcTo(l+m,u,l+m,u+p,h),c.arcTo(l+m,u+p,l,u+p,h),c.arcTo(l,u+p,l,u,h),c.arcTo(l,u,l+m,u,h),c.closePath()}function r(l,u,m,p,h,b){const Q=l[u+"Width"],f=l[u+"Style"],y=l[u+"Color"];Q!=="0px"&&f!=="none"&&y!=="transparent"&&y!=="rgba(0, 0, 0, 0)"&&(c.strokeStyle=y,c.lineWidth=parseFloat(Q),c.beginPath(),c.moveTo(m,p),c.lineTo(m+h,p+b),c.stroke())}function o(l,u){if(l.nodeType===Node.COMMENT_NODE||l.nodeName==="SCRIPT"||l.style&&l.style.display==="none")return;let m=0,p=0,h=0,b=0;if(l.nodeType===Node.TEXT_NODE){e.selectNode(l);const f=e.getBoundingClientRect();m=f.left-d.left-.5,p=f.top-d.top-.5,h=f.width,b=f.height,n(u,m,p,l.nodeValue.trim())}else if(l instanceof HTMLCanvasElement){const f=l.getBoundingClientRect();m=f.left-d.left-.5,p=f.top-d.top-.5;const y=f.width,I=f.height;c.drawImage(l,m,p,y,I)}else if(l instanceof HTMLImageElement){const f=l.getBoundingClientRect();m=f.left-d.left-.5,p=f.top-d.top-.5,h=f.width,b=f.height,c.drawImage(l,m,p,h,b)}else{const f=l.getBoundingClientRect();m=f.left-d.left-.5,p=f.top-d.top-.5,h=f.width,b=f.height,u=window.getComputedStyle(l),i(m,p,h,b,parseFloat(u.borderRadius));const y=u.backgroundColor;y!=="transparent"&&y!=="rgba(0, 0, 0, 0)"&&(c.fillStyle=y,c.fill());const I=["borderTop","borderLeft","borderBottom","borderRight"];let _=!0,L=null;for(const S of I){if(L!==null&&(_=u[S+"Width"]===u[L+"Width"]&&u[S+"Color"]===u[L+"Color"]&&u[S+"Style"]===u[L+"Style"]),_===!1)break;L=S}if(_===!0){const S=parseFloat(u.borderTopWidth);u.borderTopWidth!=="0px"&&u.borderTopStyle!=="none"&&u.borderTopColor!=="transparent"&&u.borderTopColor!=="rgba(0, 0, 0, 0)"&&(c.strokeStyle=u.borderTopColor,c.lineWidth=S,c.stroke())}else r(u,"borderTop",m,p,h,0),r(u,"borderLeft",m,p,0,b),r(u,"borderBottom",m,p+b,h,0),r(u,"borderRight",m+h,p,0,b);if(l instanceof HTMLInputElement){let S=u.accentColor;(S===void 0||S==="auto")&&(S=u.color),t.set(S);const E=Math.sqrt(.299*t.r**2+.587*t.g**2+.114*t.b**2)<.5?"white":"#111111";if(l.type==="radio"&&(i(m,p,h,b,b),c.fillStyle="white",c.strokeStyle=S,c.lineWidth=1,c.fill(),c.stroke(),l.checked&&(i(m+2,p+2,h-4,b-4,b),c.fillStyle=S,c.strokeStyle=E,c.lineWidth=2,c.fill(),c.stroke())),l.type==="checkbox"&&(i(m,p,h,b,2),c.fillStyle=l.checked?S:"white",c.strokeStyle=l.checked?E:S,c.lineWidth=1,c.stroke(),c.fill(),l.checked)){const G=c.textAlign;c.textAlign="center";const F={color:E,fontFamily:u.fontFamily,fontSize:b+"px",fontWeight:"bold"};n(F,m+h/2,p,""),c.textAlign=G}if(l.type==="range"){const[G,F,$]=["min","max","value"].map(W=>parseFloat(l[W])),Y=($-G)/(F-G)*(h-b);i(m,p+b/4,h,b/2,b/4),c.fillStyle=E,c.strokeStyle=S,c.lineWidth=1,c.fill(),c.stroke(),i(m,p+b/4,Y+b/2,b/2,b/4),c.fillStyle=S,c.fill(),i(m+Y,p,b,b,b/2),c.fillStyle=S,c.fill()}if(l.type==="color"||l.type==="text"||l.type==="number"||l.type==="email"||l.type==="password"){g.add({x:m,y:p,width:h,height:b});const G=l.type==="password"?"*".repeat(l.value.length):l.value;n(u,m+parseInt(u.paddingLeft),p+parseInt(u.paddingTop),G),g.remove()}}}const Q=u.overflow==="auto"||u.overflow==="hidden";Q&&g.add({x:m,y:p,width:h,height:b});for(let f=0;f<l.childNodes.length;f++)o(l.childNodes[f],u);Q&&g.remove()}const d=a.getBoundingClientRect();let A=Es.get(a);A===void 0&&(A=document.createElement("canvas"),Es.set(a,A)),A.width=d.width,A.height=d.height;const c=A.getContext("2d"),g=new s(c);return c.clearRect(0,0,A.width,A.height),o(a),A}function To(a,e,t,s){const n={clientX:t*a.offsetWidth+a.offsetLeft,clientY:s*a.offsetHeight+a.offsetTop,view:a.ownerDocument.defaultView};window.dispatchEvent(new MouseEvent(e,n));const i=a.getBoundingClientRect();t=t*i.width+i.left,s=s*i.height+i.top;function r(o){if(o.nodeType!==Node.TEXT_NODE&&o.nodeType!==Node.COMMENT_NODE){const d=o.getBoundingClientRect();if(t>d.left&&t<d.right&&s>d.top&&s<d.bottom){if(o.dispatchEvent(new MouseEvent(e,n)),o instanceof HTMLInputElement&&o.type==="range"&&(e==="mousedown"||e==="click")){const[A,c]=["min","max"].map(m=>parseFloat(o[m])),g=d.width,u=(t-d.x)/g;o.value=A+(c-A)*u,o.dispatchEvent(new InputEvent("input",{bubbles:!0}))}o instanceof HTMLInputElement&&(o.type==="text"||o.type==="number"||o.type==="email"||o.type==="password")&&(e==="mousedown"||e==="click")&&o.focus()}for(let A=0;A<o.childNodes.length;A++)r(o.childNodes[A])}}r(a)}const ka=new Je,Vt={type:"",data:ka},No={move:"mousemove",select:"click",selectstart:"mousedown",selectend:"mouseup"},bn=new Ht;class Go extends bt{constructor(){super(),this.raycaster=new Ht,this.element=null,this.camera=null,this.controllers=[],this._onPointerEvent=this.onPointerEvent.bind(this),this._onXRControllerEvent=this.onXRControllerEvent.bind(this)}onPointerEvent(e){e.stopPropagation();const t=this.element.getBoundingClientRect();ka.x=(e.clientX-t.left)/t.width*2-1,ka.y=-(e.clientY-t.top)/t.height*2+1,this.raycaster.setFromCamera(ka,this.camera);const s=this.raycaster.intersectObjects(this.children,!1);if(s.length>0){const n=s[0],i=n.object,r=n.uv;Vt.type=e.type,Vt.data.set(r.x,1-r.y),i.dispatchEvent(Vt)}}onXRControllerEvent(e){const t=e.target;bn.setFromXRController(t);const s=bn.intersectObjects(this.children,!1);if(s.length>0){const n=s[0],i=n.object,r=n.uv;Vt.type=No[e.type],Vt.data.set(r.x,1-r.y),i.dispatchEvent(Vt)}}listenToPointerEvents(e,t){this.camera=t,this.element=e.domElement,this.element.addEventListener("pointerdown",this._onPointerEvent),this.element.addEventListener("pointerup",this._onPointerEvent),this.element.addEventListener("pointermove",this._onPointerEvent),this.element.addEventListener("mousedown",this._onPointerEvent),this.element.addEventListener("mouseup",this._onPointerEvent),this.element.addEventListener("mousemove",this._onPointerEvent),this.element.addEventListener("click",this._onPointerEvent)}disconnectionPointerEvents(){this.element!==null&&(this.element.removeEventListener("pointerdown",this._onPointerEvent),this.element.removeEventListener("pointerup",this._onPointerEvent),this.element.removeEventListener("pointermove",this._onPointerEvent),this.element.removeEventListener("mousedown",this._onPointerEvent),this.element.removeEventListener("mouseup",this._onPointerEvent),this.element.removeEventListener("mousemove",this._onPointerEvent),this.element.removeEventListener("click",this._onPointerEvent))}listenToXRControllerEvents(e){this.controllers.push(e),e.addEventListener("move",this._onXRControllerEvent),e.addEventListener("select",this._onXRControllerEvent),e.addEventListener("selectstart",this._onXRControllerEvent),e.addEventListener("selectend",this._onXRControllerEvent)}disconnectXrControllerEvents(){for(const e of this.controllers)e.removeEventListener("move",this._onXRControllerEvent),e.removeEventListener("select",this._onXRControllerEvent),e.removeEventListener("selectstart",this._onXRControllerEvent),e.removeEventListener("selectend",this._onXRControllerEvent)}disconnect(){this.disconnectionPointerEvents(),this.disconnectXrControllerEvents(),this.camera=null,this.element=null,this.controllers=[]}}function ko(a,e,t=!0){if(!e||!e.isReady)throw new Error("BufferGeometryUtils: Initialized MikkTSpace library required.");if(!a.hasAttribute("position")||!a.hasAttribute("normal")||!a.hasAttribute("uv"))throw new Error('BufferGeometryUtils: Tangents require "position", "normal", and "uv" attributes.');function s(r){if(r.normalized||r.isInterleavedBufferAttribute){const o=new Float32Array(r.count*r.itemSize);for(let d=0,A=0;d<r.count;d++)o[A++]=r.getX(d),o[A++]=r.getY(d),r.itemSize>2&&(o[A++]=r.getZ(d));return o}return r.array instanceof Float32Array?r.array:new Float32Array(r.array)}const n=a.index?a.toNonIndexed():a,i=e.generateTangents(s(n.attributes.position),s(n.attributes.normal),s(n.attributes.uv));if(t)for(let r=3;r<i.length;r+=4)i[r]*=-1;return n.setAttribute("tangent",new _a(i,4)),a!==n&&a.copy(n),a}function fn(a,e){if(e===Xi)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),a;if(e===us||e===Nn){let t=a.getIndex();if(t===null){const r=[],o=a.getAttribute("position");if(o!==void 0){for(let d=0;d<o.count;d++)r.push(d);a.setIndex(r),t=a.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),a}const s=t.count-2,n=[];if(e===us)for(let r=1;r<=s;r++)n.push(t.getX(0)),n.push(t.getX(r)),n.push(t.getX(r+1));else for(let r=0;r<s;r++)r%2===0?(n.push(t.getX(r)),n.push(t.getX(r+1)),n.push(t.getX(r+2))):(n.push(t.getX(r+2)),n.push(t.getX(r+1)),n.push(t.getX(r)));n.length/3!==s&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const i=a.clone();return i.setIndex(n),i.clearGroups(),i}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),a}function Ii(a){const e=new Map,t=new Map,s=a.clone();return wi(a,s,function(n,i){e.set(i,n),t.set(n,i)}),s.traverse(function(n){if(!n.isSkinnedMesh)return;const i=n,r=e.get(n),o=r.skeleton.bones;i.skeleton=r.skeleton.clone(),i.bindMatrix.copy(r.bindMatrix),i.skeleton.bones=o.map(function(d){return t.get(d)}),i.bind(i.skeleton,i.bindMatrix)}),s}function wi(a,e,t){t(a,e);for(let s=0;s<a.children.length;s++)wi(a.children[s],e.children[s],t)}class Ei extends Wi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Ko(t)}),this.register(function(t){return new Uo(t)}),this.register(function(t){return new Zo(t)}),this.register(function(t){return new $o(t)}),this.register(function(t){return new ed(t)}),this.register(function(t){return new Ho(t)}),this.register(function(t){return new Jo(t)}),this.register(function(t){return new Yo(t)}),this.register(function(t){return new qo(t)}),this.register(function(t){return new Po(t)}),this.register(function(t){return new zo(t)}),this.register(function(t){return new Oo(t)}),this.register(function(t){return new Wo(t)}),this.register(function(t){return new Xo(t)}),this.register(function(t){return new Vo(t)}),this.register(function(t){return new yn(t,oe.EXT_MESHOPT_COMPRESSION)}),this.register(function(t){return new yn(t,oe.KHR_MESHOPT_COMPRESSION)}),this.register(function(t){return new td(t)})}load(e,t,s,n){const i=this;let r;if(this.resourcePath!=="")r=this.resourcePath;else if(this.path!==""){const A=ma.extractUrlBase(e);r=ma.resolveURL(A,this.path)}else r=ma.extractUrlBase(e);this.manager.itemStart(e);const o=function(A){n?n(A):console.error(A),i.manager.itemError(e),i.manager.itemEnd(e)},d=new Ds(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(this.withCredentials),d.load(e,function(A){try{i.parse(A,r,function(c){t(c),i.manager.itemEnd(e)},o)}catch(c){o(c)}},s,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,s,n){let i;const r={},o={},d=new TextDecoder;if(typeof e=="string")i=JSON.parse(e);else if(e instanceof ArrayBuffer)if(d.decode(new Uint8Array(e,0,4))===Bi){try{r[oe.KHR_BINARY_GLTF]=new ad(e)}catch(g){n&&n(g);return}i=JSON.parse(r[oe.KHR_BINARY_GLTF].content)}else i=JSON.parse(d.decode(e));else i=e;if(i.asset===void 0||i.asset.version[0]<2){n&&n(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const A=new hd(i,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});A.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const g=this.pluginCallbacks[c](A);g.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),o[g.name]=g,r[g.name]=!0}if(i.extensionsUsed)for(let c=0;c<i.extensionsUsed.length;++c){const g=i.extensionsUsed[c],l=i.extensionsRequired||[];switch(g){case oe.KHR_MATERIALS_UNLIT:r[g]=new jo;break;case oe.KHR_DRACO_MESH_COMPRESSION:r[g]=new sd(i,this.dracoLoader);break;case oe.KHR_TEXTURE_TRANSFORM:r[g]=new nd;break;case oe.KHR_MESH_QUANTIZATION:r[g]=new id;break;default:l.indexOf(g)>=0&&o[g]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+g+'".')}}A.setExtensions(r),A.setPlugins(o),A.parse(s,n)}parseAsync(e,t){const s=this;return new Promise(function(n,i){s.parse(e,t,n,i)})}}function Fo(){let a={};return{get:function(e){return a[e]},add:function(e,t){a[e]=t},remove:function(e){delete a[e]},removeAll:function(){a={}}}}function Be(a,e,t){const s=a.json.materials[e];return s.extensions&&s.extensions[t]?s.extensions[t]:null}const oe={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",KHR_MESHOPT_COMPRESSION:"KHR_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Vo{constructor(e){this.parser=e,this.name=oe.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let s=0,n=t.length;s<n;s++){const i=t[s];i.extensions&&i.extensions[this.name]&&i.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}_loadLight(e){const t=this.parser,s="light:"+e;let n=t.cache.get(s);if(n)return n;const i=t.json,d=((i.extensions&&i.extensions[this.name]||{}).lights||[])[e];let A;const c=new Ve(16777215);d.color!==void 0&&c.setRGB(d.color[0],d.color[1],d.color[2],rt);const g=d.range!==void 0?d.range:0;switch(d.type){case"directional":A=new kn(c),A.target.position.set(0,0,-1),A.add(A.target);break;case"point":A=new Rs(c),A.distance=g;break;case"spot":A=new Gn(c),A.distance=g,d.spot=d.spot||{},d.spot.innerConeAngle=d.spot.innerConeAngle!==void 0?d.spot.innerConeAngle:0,d.spot.outerConeAngle=d.spot.outerConeAngle!==void 0?d.spot.outerConeAngle:Math.PI/4,A.angle=d.spot.outerConeAngle,A.penumbra=1-d.spot.innerConeAngle/d.spot.outerConeAngle,A.target.position.set(0,0,-1),A.add(A.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+d.type)}return A.position.set(0,0,0),tt(A,d),d.intensity!==void 0&&(A.intensity=d.intensity),A.name=t.createUniqueName(d.name||"light_"+e),n=Promise.resolve(A),t.cache.add(s,n),n}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,s=this.parser,i=s.json.nodes[e],o=(i.extensions&&i.extensions[this.name]||{}).light;return o===void 0?null:this._loadLight(o).then(function(d){return s._getNodeRef(t.cache,o,d)})}}class jo{constructor(){this.name=oe.KHR_MATERIALS_UNLIT}getMaterialType(){return Ge}extendParams(e,t,s){const n=[];e.color=new Ve(1,1,1),e.opacity=1;const i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){const r=i.baseColorFactor;e.color.setRGB(r[0],r[1],r[2],rt),e.opacity=r[3]}i.baseColorTexture!==void 0&&n.push(s.assignTexture(e,"map",i.baseColorTexture,Ye))}return Promise.all(n)}}class Po{constructor(e){this.parser=e,this.name=oe.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const s=Be(this.parser,e,this.name);return s===null||s.emissiveStrength!==void 0&&(t.emissiveIntensity=s.emissiveStrength),Promise.resolve()}}class Ko{constructor(e){this.parser=e,this.name=oe.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){return Be(this.parser,e,this.name)!==null?We:null}extendMaterialParams(e,t){const s=Be(this.parser,e,this.name);if(s===null)return Promise.resolve();const n=[];if(s.clearcoatFactor!==void 0&&(t.clearcoat=s.clearcoatFactor),s.clearcoatTexture!==void 0&&n.push(this.parser.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),s.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),s.clearcoatRoughnessTexture!==void 0&&n.push(this.parser.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),s.clearcoatNormalTexture!==void 0&&(n.push(this.parser.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),s.clearcoatNormalTexture.scale!==void 0)){const i=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Je(i,i)}return Promise.all(n)}}class Uo{constructor(e){this.parser=e,this.name=oe.KHR_MATERIALS_DISPERSION}getMaterialType(e){return Be(this.parser,e,this.name)!==null?We:null}extendMaterialParams(e,t){const s=Be(this.parser,e,this.name);return s===null||(t.dispersion=s.dispersion!==void 0?s.dispersion:0),Promise.resolve()}}class Oo{constructor(e){this.parser=e,this.name=oe.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){return Be(this.parser,e,this.name)!==null?We:null}extendMaterialParams(e,t){const s=Be(this.parser,e,this.name);if(s===null)return Promise.resolve();const n=[];return s.iridescenceFactor!==void 0&&(t.iridescence=s.iridescenceFactor),s.iridescenceTexture!==void 0&&n.push(this.parser.assignTexture(t,"iridescenceMap",s.iridescenceTexture)),s.iridescenceIor!==void 0&&(t.iridescenceIOR=s.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),s.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),s.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),s.iridescenceThicknessTexture!==void 0&&n.push(this.parser.assignTexture(t,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(n)}}class Ho{constructor(e){this.parser=e,this.name=oe.KHR_MATERIALS_SHEEN}getMaterialType(e){return Be(this.parser,e,this.name)!==null?We:null}extendMaterialParams(e,t){const s=Be(this.parser,e,this.name);if(s===null)return Promise.resolve();const n=[];if(t.sheenColor=new Ve(0,0,0),t.sheenRoughness=0,t.sheen=1,s.sheenColorFactor!==void 0){const i=s.sheenColorFactor;t.sheenColor.setRGB(i[0],i[1],i[2],rt)}return s.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=s.sheenRoughnessFactor),s.sheenColorTexture!==void 0&&n.push(this.parser.assignTexture(t,"sheenColorMap",s.sheenColorTexture,Ye)),s.sheenRoughnessTexture!==void 0&&n.push(this.parser.assignTexture(t,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(n)}}class Jo{constructor(e){this.parser=e,this.name=oe.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){return Be(this.parser,e,this.name)!==null?We:null}extendMaterialParams(e,t){const s=Be(this.parser,e,this.name);if(s===null)return Promise.resolve();const n=[];return s.transmissionFactor!==void 0&&(t.transmission=s.transmissionFactor),s.transmissionTexture!==void 0&&n.push(this.parser.assignTexture(t,"transmissionMap",s.transmissionTexture)),Promise.all(n)}}class Yo{constructor(e){this.parser=e,this.name=oe.KHR_MATERIALS_VOLUME}getMaterialType(e){return Be(this.parser,e,this.name)!==null?We:null}extendMaterialParams(e,t){const s=Be(this.parser,e,this.name);if(s===null)return Promise.resolve();const n=[];t.thickness=s.thicknessFactor!==void 0?s.thicknessFactor:0,s.thicknessTexture!==void 0&&n.push(this.parser.assignTexture(t,"thicknessMap",s.thicknessTexture)),t.attenuationDistance=s.attenuationDistance||1/0;const i=s.attenuationColor||[1,1,1];return t.attenuationColor=new Ve().setRGB(i[0],i[1],i[2],rt),Promise.all(n)}}class qo{constructor(e){this.parser=e,this.name=oe.KHR_MATERIALS_IOR}getMaterialType(e){return Be(this.parser,e,this.name)!==null?We:null}extendMaterialParams(e,t){const s=Be(this.parser,e,this.name);return s===null||(t.ior=s.ior!==void 0?s.ior:1.5),Promise.resolve()}}class zo{constructor(e){this.parser=e,this.name=oe.KHR_MATERIALS_SPECULAR}getMaterialType(e){return Be(this.parser,e,this.name)!==null?We:null}extendMaterialParams(e,t){const s=Be(this.parser,e,this.name);if(s===null)return Promise.resolve();const n=[];t.specularIntensity=s.specularFactor!==void 0?s.specularFactor:1,s.specularTexture!==void 0&&n.push(this.parser.assignTexture(t,"specularIntensityMap",s.specularTexture));const i=s.specularColorFactor||[1,1,1];return t.specularColor=new Ve().setRGB(i[0],i[1],i[2],rt),s.specularColorTexture!==void 0&&n.push(this.parser.assignTexture(t,"specularColorMap",s.specularColorTexture,Ye)),Promise.all(n)}}class Xo{constructor(e){this.parser=e,this.name=oe.EXT_MATERIALS_BUMP}getMaterialType(e){return Be(this.parser,e,this.name)!==null?We:null}extendMaterialParams(e,t){const s=Be(this.parser,e,this.name);if(s===null)return Promise.resolve();const n=[];return t.bumpScale=s.bumpFactor!==void 0?s.bumpFactor:1,s.bumpTexture!==void 0&&n.push(this.parser.assignTexture(t,"bumpMap",s.bumpTexture)),Promise.all(n)}}class Wo{constructor(e){this.parser=e,this.name=oe.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){return Be(this.parser,e,this.name)!==null?We:null}extendMaterialParams(e,t){const s=Be(this.parser,e,this.name);if(s===null)return Promise.resolve();const n=[];return s.anisotropyStrength!==void 0&&(t.anisotropy=s.anisotropyStrength),s.anisotropyRotation!==void 0&&(t.anisotropyRotation=s.anisotropyRotation),s.anisotropyTexture!==void 0&&n.push(this.parser.assignTexture(t,"anisotropyMap",s.anisotropyTexture)),Promise.all(n)}}class Zo{constructor(e){this.parser=e,this.name=oe.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,s=t.json,n=s.textures[e];if(!n.extensions||!n.extensions[this.name])return null;const i=n.extensions[this.name],r=t.options.ktx2Loader;if(!r){if(s.extensionsRequired&&s.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,r)}}class $o{constructor(e){this.parser=e,this.name=oe.EXT_TEXTURE_WEBP}loadTexture(e){const t=this.name,s=this.parser,n=s.json,i=n.textures[e];if(!i.extensions||!i.extensions[t])return null;const r=i.extensions[t],o=n.images[r.source];let d=s.textureLoader;if(o.uri){const A=s.options.manager.getHandler(o.uri);A!==null&&(d=A)}return s.loadTextureImage(e,r.source,d)}}class ed{constructor(e){this.parser=e,this.name=oe.EXT_TEXTURE_AVIF}loadTexture(e){const t=this.name,s=this.parser,n=s.json,i=n.textures[e];if(!i.extensions||!i.extensions[t])return null;const r=i.extensions[t],o=n.images[r.source];let d=s.textureLoader;if(o.uri){const A=s.options.manager.getHandler(o.uri);A!==null&&(d=A)}return s.loadTextureImage(e,r.source,d)}}class yn{constructor(e,t){this.name=t,this.parser=e}loadBufferView(e){const t=this.parser.json,s=t.bufferViews[e];if(s.extensions&&s.extensions[this.name]){const n=s.extensions[this.name],i=this.parser.getDependency("buffer",n.buffer),r=this.parser.options.meshoptDecoder;if(!r||!r.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then(function(o){const d=n.byteOffset||0,A=n.byteLength||0,c=n.count,g=n.byteStride,l=new Uint8Array(o,d,A);return r.decodeGltfBufferAsync?r.decodeGltfBufferAsync(c,g,l,n.mode,n.filter).then(function(u){return u.buffer}):r.ready.then(function(){const u=new ArrayBuffer(c*g);return r.decodeGltfBuffer(new Uint8Array(u),c,g,l,n.mode,n.filter),u})})}else return null}}class td{constructor(e){this.name=oe.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,s=t.nodes[e];if(!s.extensions||!s.extensions[this.name]||s.mesh===void 0)return null;const n=t.meshes[s.mesh];for(const A of n.primitives)if(A.mode!==He.TRIANGLES&&A.mode!==He.TRIANGLE_STRIP&&A.mode!==He.TRIANGLE_FAN&&A.mode!==void 0)return null;const r=s.extensions[this.name].attributes,o=[],d={};for(const A in r)o.push(this.parser.getDependency("accessor",r[A]).then(c=>(d[A]=c,d[A])));return o.length<1?null:(o.push(this.parser.createNodeMesh(e)),Promise.all(o).then(A=>{const c=A.pop(),g=c.isGroup?c.children:[c],l=A[0].count,u=[];for(const m of g){const p=new xt,h=new Z,b=new ke,Q=new Z(1,1,1),f=new Fn(m.geometry,m.material,l);for(let y=0;y<l;y++)d.TRANSLATION&&h.fromBufferAttribute(d.TRANSLATION,y),d.ROTATION&&b.fromBufferAttribute(d.ROTATION,y),d.SCALE&&Q.fromBufferAttribute(d.SCALE,y),f.setMatrixAt(y,p.compose(h,b,Q));for(const y in d)if(y==="_COLOR_0"){const I=d[y];f.instanceColor=new Zi(I.array,I.itemSize,I.normalized)}else y!=="TRANSLATION"&&y!=="ROTATION"&&y!=="SCALE"&&m.geometry.setAttribute(y,d[y]);lt.prototype.copy.call(f,m),this.parser.assignFinalMaterial(f),u.push(f)}return c.isGroup?(c.clear(),c.add(...u),c):u[0]}))}}const Bi="glTF",na=12,Cn={JSON:1313821514,BIN:5130562};class ad{constructor(e){this.name=oe.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,na),s=new TextDecoder;if(this.header={magic:s.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==Bi)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-na,i=new DataView(e,na);let r=0;for(;r<n;){const o=i.getUint32(r,!0);r+=4;const d=i.getUint32(r,!0);if(r+=4,d===Cn.JSON){const A=new Uint8Array(e,na+r,o);this.content=s.decode(A)}else if(d===Cn.BIN){const A=na+r;this.body=e.slice(A,A+o)}r+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class sd{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=oe.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const s=this.json,n=this.dracoLoader,i=e.extensions[this.name].bufferView,r=e.extensions[this.name].attributes,o={},d={},A={};for(const c in r){const g=Bs[c]||c.toLowerCase();o[g]=r[c]}for(const c in e.attributes){const g=Bs[c]||c.toLowerCase();if(r[c]!==void 0){const l=s.accessors[e.attributes[c]],u=Kt[l.componentType];A[g]=u.name,d[g]=l.normalized===!0}}return t.getDependency("bufferView",i).then(function(c){return new Promise(function(g,l){n.decodeDracoFile(c,function(u){for(const m in u.attributes){const p=u.attributes[m],h=d[m];h!==void 0&&(p.normalized=h)}g(u)},o,A,rt,l)})})}}class nd{constructor(){this.name=oe.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class id{constructor(){this.name=oe.KHR_MESH_QUANTIZATION}}class Qi extends pr{constructor(e,t,s,n){super(e,t,s,n)}copySampleValue_(e){const t=this.resultBuffer,s=this.sampleValues,n=this.valueSize,i=e*n*3+n;for(let r=0;r!==n;r++)t[r]=s[i+r];return t}interpolate_(e,t,s,n){const i=this.resultBuffer,r=this.sampleValues,o=this.valueSize,d=o*2,A=o*3,c=n-t,g=(s-t)/c,l=g*g,u=l*g,m=e*A,p=m-A,h=-2*u+3*l,b=u-l,Q=1-h,f=b-l+g;for(let y=0;y!==o;y++){const I=r[p+y+o],_=r[p+y+d]*c,L=r[m+y+o],S=r[m+y]*c;i[y]=Q*I+f*_+h*L+b*S}return i}}const rd=new ke;class od extends Qi{interpolate_(e,t,s,n){const i=super.interpolate_(e,t,s,n);return rd.fromArray(i).normalize().toArray(i),i}}const He={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Kt={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},In={9728:Vn,9729:pa,9984:nr,9985:sr,9986:ar,9987:Ss},wn={33071:rr,33648:ir,10497:ms},ds={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Bs={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ht={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},dd={CUBICSPLINE:void 0,LINEAR:Pn,STEP:ur},As={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Ad(a){return a.DefaultMaterial===void 0&&(a.DefaultMaterial=new ue({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:hr})),a.DefaultMaterial}function wt(a,e,t){for(const s in t.extensions)a[s]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[s]=t.extensions[s])}function tt(a,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(a.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function ld(a,e,t){let s=!1,n=!1,i=!1;for(let A=0,c=e.length;A<c;A++){const g=e[A];if(g.POSITION!==void 0&&(s=!0),g.NORMAL!==void 0&&(n=!0),g.COLOR_0!==void 0&&(i=!0),s&&n&&i)break}if(!s&&!n&&!i)return Promise.resolve(a);const r=[],o=[],d=[];for(let A=0,c=e.length;A<c;A++){const g=e[A];if(s){const l=g.POSITION!==void 0?t.getDependency("accessor",g.POSITION):a.attributes.position;r.push(l)}if(n){const l=g.NORMAL!==void 0?t.getDependency("accessor",g.NORMAL):a.attributes.normal;o.push(l)}if(i){const l=g.COLOR_0!==void 0?t.getDependency("accessor",g.COLOR_0):a.attributes.color;d.push(l)}}return Promise.all([Promise.all(r),Promise.all(o),Promise.all(d)]).then(function(A){const c=A[0],g=A[1],l=A[2];return s&&(a.morphAttributes.position=c),n&&(a.morphAttributes.normal=g),i&&(a.morphAttributes.color=l),a.morphTargetsRelative=!0,a})}function cd(a,e){if(a.updateMorphTargets(),e.weights!==void 0)for(let t=0,s=e.weights.length;t<s;t++)a.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(a.morphTargetInfluences.length===t.length){a.morphTargetDictionary={};for(let s=0,n=t.length;s<n;s++)a.morphTargetDictionary[t[s]]=s}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function gd(a){let e;const t=a.extensions&&a.extensions[oe.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+ls(t.attributes):e=a.indices+":"+ls(a.attributes)+":"+a.mode,a.targets!==void 0)for(let s=0,n=a.targets.length;s<n;s++)e+=":"+ls(a.targets[s]);return e}function ls(a){let e="";const t=Object.keys(a).sort();for(let s=0,n=t.length;s<n;s++)e+=t[s]+":"+a[t[s]]+";";return e}function Qs(a){switch(a){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function ud(a){return a.search(/\.jpe?g($|\?)/i)>0||a.search(/^data\:image\/jpeg/)===0?"image/jpeg":a.search(/\.webp($|\?)/i)>0||a.search(/^data\:image\/webp/)===0?"image/webp":a.search(/\.ktx2($|\?)/i)>0||a.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}const md=new xt;class hd{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Fo,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let s=!1,n=-1,i=!1,r=-1;if(typeof navigator<"u"&&typeof navigator.userAgent<"u"){const o=navigator.userAgent;s=/^((?!chrome|android).)*safari/i.test(o)===!0;const d=o.match(/Version\/(\d+)/);n=s&&d?parseInt(d[1],10):-1,i=o.indexOf("Firefox")>-1,r=i?o.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||s&&n<17||i&&r<98?this.textureLoader=new $i(this.options.manager):this.textureLoader=new er(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ds(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const s=this,n=this.json,i=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(r){return r._markDefs&&r._markDefs()}),Promise.all(this._invokeAll(function(r){return r.beforeRoot&&r.beforeRoot()})).then(function(){return Promise.all([s.getDependencies("scene"),s.getDependencies("animation"),s.getDependencies("camera")])}).then(function(r){const o={scene:r[0][n.scene||0],scenes:r[0],animations:r[1],cameras:r[2],asset:n.asset,parser:s,userData:{}};return wt(i,o,n),tt(o,n),Promise.all(s._invokeAll(function(d){return d.afterRoot&&d.afterRoot(o)})).then(function(){for(const d of o.scenes)d.updateMatrixWorld();e(o)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],s=this.json.meshes||[];for(let n=0,i=t.length;n<i;n++){const r=t[n].joints;for(let o=0,d=r.length;o<d;o++)e[r[o]].isBone=!0}for(let n=0,i=e.length;n<i;n++){const r=e[n];r.mesh!==void 0&&(this._addNodeRef(this.meshCache,r.mesh),r.skin!==void 0&&(s[r.mesh].isSkinnedMesh=!0)),r.camera!==void 0&&this._addNodeRef(this.cameraCache,r.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,s){if(e.refs[t]<=1)return s;const n=s.clone(),i=(r,o)=>{const d=this.associations.get(r);d!=null&&this.associations.set(o,d);for(const[A,c]of r.children.entries())i(c,o.children[A])};return i(s,n),n.name+="_instance_"+e.uses[t]++,n}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let s=0;s<t.length;s++){const n=e(t[s]);if(n)return n}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const s=[];for(let n=0;n<t.length;n++){const i=e(t[n]);i&&s.push(i)}return s}getDependency(e,t){const s=e+":"+t;let n=this.cache.get(s);if(!n){switch(e){case"scene":n=this.loadScene(t);break;case"node":n=this._invokeOne(function(i){return i.loadNode&&i.loadNode(t)});break;case"mesh":n=this._invokeOne(function(i){return i.loadMesh&&i.loadMesh(t)});break;case"accessor":n=this.loadAccessor(t);break;case"bufferView":n=this._invokeOne(function(i){return i.loadBufferView&&i.loadBufferView(t)});break;case"buffer":n=this.loadBuffer(t);break;case"material":n=this._invokeOne(function(i){return i.loadMaterial&&i.loadMaterial(t)});break;case"texture":n=this._invokeOne(function(i){return i.loadTexture&&i.loadTexture(t)});break;case"skin":n=this.loadSkin(t);break;case"animation":n=this._invokeOne(function(i){return i.loadAnimation&&i.loadAnimation(t)});break;case"camera":n=this.loadCamera(t);break;default:if(n=this._invokeOne(function(i){return i!=this&&i.getDependency&&i.getDependency(e,t)}),!n)throw new Error("Unknown type: "+e);break}this.cache.add(s,n)}return n}getDependencies(e){let t=this.cache.get(e);if(!t){const s=this,n=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(n.map(function(i,r){return s.getDependency(e,r)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],s=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[oe.KHR_BINARY_GLTF].body);const n=this.options;return new Promise(function(i,r){s.load(ma.resolveURL(t.uri,n.path),i,void 0,function(){r(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(s){const n=t.byteLength||0,i=t.byteOffset||0;return s.slice(i,i+n)})}loadAccessor(e){const t=this,s=this.json,n=this.json.accessors[e];if(n.bufferView===void 0&&n.sparse===void 0){const r=ds[n.type],o=Kt[n.componentType],d=n.normalized===!0,A=new o(n.count*r);return Promise.resolve(new _a(A,r,d))}const i=[];return n.bufferView!==void 0?i.push(this.getDependency("bufferView",n.bufferView)):i.push(null),n.sparse!==void 0&&(i.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(i).then(function(r){const o=r[0],d=ds[n.type],A=Kt[n.componentType],c=A.BYTES_PER_ELEMENT,g=c*d,l=n.byteOffset||0,u=n.bufferView!==void 0?s.bufferViews[n.bufferView].byteStride:void 0,m=n.normalized===!0;let p,h;if(u&&u!==g){const b=Math.floor(l/u),Q="InterleavedBuffer:"+n.bufferView+":"+n.componentType+":"+b+":"+n.count;let f=t.cache.get(Q);f||(p=new A(o,b*u,n.count*u/c),f=new tr(p,u/c),t.cache.add(Q,f)),h=new mr(f,d,l%u/c,m)}else o===null?p=new A(n.count*d):p=new A(o,l,n.count*d),h=new _a(p,d,m);if(n.sparse!==void 0){const b=ds.SCALAR,Q=Kt[n.sparse.indices.componentType],f=n.sparse.indices.byteOffset||0,y=n.sparse.values.byteOffset||0,I=new Q(r[1],f,n.sparse.count*b),_=new A(r[2],y,n.sparse.count*d);o!==null&&(h=new _a(h.array.slice(),h.itemSize,h.normalized)),h.normalized=!1;for(let L=0,S=I.length;L<S;L++){const M=I[L];if(h.setX(M,_[L*d]),d>=2&&h.setY(M,_[L*d+1]),d>=3&&h.setZ(M,_[L*d+2]),d>=4&&h.setW(M,_[L*d+3]),d>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}h.normalized=m}return h})}loadTexture(e){const t=this.json,s=this.options,i=t.textures[e].source,r=t.images[i];let o=this.textureLoader;if(r.uri){const d=s.manager.getHandler(r.uri);d!==null&&(o=d)}return this.loadTextureImage(e,i,o)}loadTextureImage(e,t,s){const n=this,i=this.json,r=i.textures[e],o=i.images[t],d=(o.uri||o.bufferView)+":"+r.sampler;if(this.textureCache[d])return this.textureCache[d];const A=this.loadImageSource(t,s).then(function(c){c.flipY=!1,c.name=r.name||o.name||"",c.name===""&&typeof o.uri=="string"&&o.uri.startsWith("data:image/")===!1&&(c.name=o.uri);const l=(i.samplers||{})[r.sampler]||{};return c.magFilter=In[l.magFilter]||pa,c.minFilter=In[l.minFilter]||Ss,c.wrapS=wn[l.wrapS]||ms,c.wrapT=wn[l.wrapT]||ms,c.generateMipmaps=!c.isCompressedTexture&&c.minFilter!==Vn&&c.minFilter!==pa,n.associations.set(c,{textures:e}),c}).catch(function(){return null});return this.textureCache[d]=A,A}loadImageSource(e,t){const s=this,n=this.json,i=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(g=>g.clone());const r=n.images[e],o=self.URL||self.webkitURL;let d=r.uri||"",A=!1;if(r.bufferView!==void 0)d=s.getDependency("bufferView",r.bufferView).then(function(g){A=!0;const l=new Blob([g],{type:r.mimeType});return d=o.createObjectURL(l),d});else if(r.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const c=Promise.resolve(d).then(function(g){return new Promise(function(l,u){let m=l;t.isImageBitmapLoader===!0&&(m=function(p){const h=new hs(p);h.needsUpdate=!0,l(h)}),t.load(ma.resolveURL(g,i.path),m,void 0,u)})}).then(function(g){return A===!0&&o.revokeObjectURL(d),tt(g,r),g.userData.mimeType=r.mimeType||ud(r.uri),g}).catch(function(g){throw console.error("THREE.GLTFLoader: Couldn't load texture",d),g});return this.sourceCache[e]=c,c}assignTexture(e,t,s,n){const i=this;return this.getDependency("texture",s.index).then(function(r){if(!r)return null;if(s.texCoord!==void 0&&s.texCoord>0&&(r=r.clone(),r.channel=s.texCoord),i.extensions[oe.KHR_TEXTURE_TRANSFORM]){const o=s.extensions!==void 0?s.extensions[oe.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const d=i.associations.get(r);r=i.extensions[oe.KHR_TEXTURE_TRANSFORM].extendTexture(r,o),i.associations.set(r,d)}}return n!==void 0&&(r.colorSpace=n),e[t]=r,r})}assignFinalMaterial(e){const t=e.geometry;let s=e.material;const n=t.attributes.tangent===void 0,i=t.attributes.color!==void 0,r=t.attributes.normal===void 0;if(e.isPoints){const o="PointsMaterial:"+s.uuid;let d=this.cache.get(o);d||(d=new ua,es.prototype.copy.call(d,s),d.color.copy(s.color),d.map=s.map,d.sizeAttenuation=!1,this.cache.add(o,d)),s=d}else if(e.isLine){const o="LineBasicMaterial:"+s.uuid;let d=this.cache.get(o);d||(d=new Ua,es.prototype.copy.call(d,s),d.color.copy(s.color),d.map=s.map,this.cache.add(o,d)),s=d}if(n||i||r){let o="ClonedMaterial:"+s.uuid+":";n&&(o+="derivative-tangents:"),i&&(o+="vertex-colors:"),r&&(o+="flat-shading:");let d=this.cache.get(o);d||(d=s.clone(),i&&(d.vertexColors=!0),r&&(d.flatShading=!0),n&&(d.normalScale&&(d.normalScale.y*=-1),d.clearcoatNormalScale&&(d.clearcoatNormalScale.y*=-1)),this.cache.add(o,d),this.associations.set(d,this.associations.get(s))),s=d}e.material=s}getMaterialType(){return ue}loadMaterial(e){const t=this,s=this.json,n=this.extensions,i=s.materials[e];let r;const o={},d=i.extensions||{},A=[];if(d[oe.KHR_MATERIALS_UNLIT]){const g=n[oe.KHR_MATERIALS_UNLIT];r=g.getMaterialType(),A.push(g.extendParams(o,i,t))}else{const g=i.pbrMetallicRoughness||{};if(o.color=new Ve(1,1,1),o.opacity=1,Array.isArray(g.baseColorFactor)){const l=g.baseColorFactor;o.color.setRGB(l[0],l[1],l[2],rt),o.opacity=l[3]}g.baseColorTexture!==void 0&&A.push(t.assignTexture(o,"map",g.baseColorTexture,Ye)),o.metalness=g.metallicFactor!==void 0?g.metallicFactor:1,o.roughness=g.roughnessFactor!==void 0?g.roughnessFactor:1,g.metallicRoughnessTexture!==void 0&&(A.push(t.assignTexture(o,"metalnessMap",g.metallicRoughnessTexture)),A.push(t.assignTexture(o,"roughnessMap",g.metallicRoughnessTexture))),r=this._invokeOne(function(l){return l.getMaterialType&&l.getMaterialType(e)}),A.push(Promise.all(this._invokeAll(function(l){return l.extendMaterialParams&&l.extendMaterialParams(e,o)})))}i.doubleSided===!0&&(o.side=vs);const c=i.alphaMode||As.OPAQUE;if(c===As.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,c===As.MASK&&(o.alphaTest=i.alphaCutoff!==void 0?i.alphaCutoff:.5)),i.normalTexture!==void 0&&r!==Ge&&(A.push(t.assignTexture(o,"normalMap",i.normalTexture)),o.normalScale=new Je(1,1),i.normalTexture.scale!==void 0)){const g=i.normalTexture.scale;o.normalScale.set(g,g)}if(i.occlusionTexture!==void 0&&r!==Ge&&(A.push(t.assignTexture(o,"aoMap",i.occlusionTexture)),i.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=i.occlusionTexture.strength)),i.emissiveFactor!==void 0&&r!==Ge){const g=i.emissiveFactor;o.emissive=new Ve().setRGB(g[0],g[1],g[2],rt)}return i.emissiveTexture!==void 0&&r!==Ge&&A.push(t.assignTexture(o,"emissiveMap",i.emissiveTexture,Ye)),Promise.all(A).then(function(){const g=new r(o);return i.name&&(g.name=i.name),tt(g,i),t.associations.set(g,{materials:e}),i.extensions&&wt(n,g,i),g})}createUniqueName(e){const t=or.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,s=this.extensions,n=this.primitiveCache;function i(o){return s[oe.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,t).then(function(d){return En(d,o,t)})}const r=[];for(let o=0,d=e.length;o<d;o++){const A=e[o],c=gd(A),g=n[c];if(g)r.push(g.promise);else{let l;A.extensions&&A.extensions[oe.KHR_DRACO_MESH_COMPRESSION]?l=i(A):l=En(new Ut,A,t),n[c]={primitive:A,promise:l},r.push(l)}}return Promise.all(r)}loadMesh(e){const t=this,s=this.json,n=this.extensions,i=s.meshes[e],r=i.primitives,o=[];for(let d=0,A=r.length;d<A;d++){const c=r[d].material===void 0?Ad(this.cache):this.getDependency("material",r[d].material);o.push(c)}return o.push(t.loadGeometries(r)),Promise.all(o).then(function(d){const A=d.slice(0,d.length-1),c=d[d.length-1],g=[];for(let u=0,m=c.length;u<m;u++){const p=c[u],h=r[u];let b;const Q=A[u];if(h.mode===He.TRIANGLES||h.mode===He.TRIANGLE_STRIP||h.mode===He.TRIANGLE_FAN||h.mode===void 0)b=i.isSkinnedMesh===!0?new dr(p,Q):new K(p,Q),b.isSkinnedMesh===!0&&b.normalizeSkinWeights(),h.mode===He.TRIANGLE_STRIP?b.geometry=fn(b.geometry,Nn):h.mode===He.TRIANGLE_FAN&&(b.geometry=fn(b.geometry,us));else if(h.mode===He.LINES)b=new jn(p,Q);else if(h.mode===He.LINE_STRIP)b=new et(p,Q);else if(h.mode===He.LINE_LOOP)b=new Ar(p,Q);else if(h.mode===He.POINTS)b=new Ra(p,Q);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+h.mode);Object.keys(b.geometry.morphAttributes).length>0&&cd(b,i),b.name=t.createUniqueName(i.name||"mesh_"+e),tt(b,i),h.extensions&&wt(n,b,h),t.assignFinalMaterial(b),g.push(b)}for(let u=0,m=g.length;u<m;u++)t.associations.set(g[u],{meshes:e,primitives:u});if(g.length===1)return i.extensions&&wt(n,g[0],i),g[0];const l=new bt;i.extensions&&wt(n,l,i),t.associations.set(l,{meshes:e});for(let u=0,m=g.length;u<m;u++)l.add(g[u]);return l})}loadCamera(e){let t;const s=this.json.cameras[e],n=s[s.type];if(!n){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return s.type==="perspective"?t=new Ka(ne.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):s.type==="orthographic"&&(t=new Ja(-n.xmag,n.xmag,n.ymag,-n.ymag,n.znear,n.zfar)),s.name&&(t.name=this.createUniqueName(s.name)),tt(t,s),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],s=[];for(let n=0,i=t.joints.length;n<i;n++)s.push(this._loadNodeShallow(t.joints[n]));return t.inverseBindMatrices!==void 0?s.push(this.getDependency("accessor",t.inverseBindMatrices)):s.push(null),Promise.all(s).then(function(n){const i=n.pop(),r=n,o=[],d=[];for(let A=0,c=r.length;A<c;A++){const g=r[A];if(g){o.push(g);const l=new xt;i!==null&&l.fromArray(i.array,A*16),d.push(l)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[A])}return new lr(o,d)})}loadAnimation(e){const t=this.json,s=this,n=t.animations[e],i=n.name?n.name:"animation_"+e,r=[],o=[],d=[],A=[],c=[];for(let g=0,l=n.channels.length;g<l;g++){const u=n.channels[g],m=n.samplers[u.sampler],p=u.target,h=p.node,b=n.parameters!==void 0?n.parameters[m.input]:m.input,Q=n.parameters!==void 0?n.parameters[m.output]:m.output;p.node!==void 0&&(r.push(this.getDependency("node",h)),o.push(this.getDependency("accessor",b)),d.push(this.getDependency("accessor",Q)),A.push(m),c.push(p))}return Promise.all([Promise.all(r),Promise.all(o),Promise.all(d),Promise.all(A),Promise.all(c)]).then(function(g){const l=g[0],u=g[1],m=g[2],p=g[3],h=g[4],b=[];for(let f=0,y=l.length;f<y;f++){const I=l[f],_=u[f],L=m[f],S=p[f],M=h[f];if(I===void 0)continue;I.updateMatrix&&I.updateMatrix();const E=s._createAnimationTracks(I,_,L,S,M);if(E)for(let G=0;G<E.length;G++)b.push(E[G])}const Q=new cr(i,void 0,b);return tt(Q,n),Q})}createNodeMesh(e){const t=this.json,s=this,n=t.nodes[e];return n.mesh===void 0?null:s.getDependency("mesh",n.mesh).then(function(i){const r=s._getNodeRef(s.meshCache,n.mesh,i);return n.weights!==void 0&&r.traverse(function(o){if(o.isMesh)for(let d=0,A=n.weights.length;d<A;d++)o.morphTargetInfluences[d]=n.weights[d]}),r})}loadNode(e){const t=this.json,s=this,n=t.nodes[e],i=s._loadNodeShallow(e),r=[],o=n.children||[];for(let A=0,c=o.length;A<c;A++)r.push(s.getDependency("node",o[A]));const d=n.skin===void 0?Promise.resolve(null):s.getDependency("skin",n.skin);return Promise.all([i,Promise.all(r),d]).then(function(A){const c=A[0],g=A[1],l=A[2];l!==null&&c.traverse(function(u){u.isSkinnedMesh&&u.bind(l,md)});for(let u=0,m=g.length;u<m;u++)c.add(g[u]);return c})}_loadNodeShallow(e){const t=this.json,s=this.extensions,n=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const i=t.nodes[e],r=i.name?n.createUniqueName(i.name):"",o=[],d=n._invokeOne(function(A){return A.createNodeMesh&&A.createNodeMesh(e)});return d&&o.push(d),i.camera!==void 0&&o.push(n.getDependency("camera",i.camera).then(function(A){return n._getNodeRef(n.cameraCache,i.camera,A)})),n._invokeAll(function(A){return A.createNodeAttachment&&A.createNodeAttachment(e)}).forEach(function(A){o.push(A)}),this.nodeCache[e]=Promise.all(o).then(function(A){let c;if(i.isBone===!0?c=new gr:A.length>1?c=new bt:A.length===1?c=A[0]:c=new lt,c!==A[0])for(let g=0,l=A.length;g<l;g++)c.add(A[g]);if(i.name&&(c.userData.name=i.name,c.name=r),tt(c,i),i.extensions&&wt(s,c,i),i.matrix!==void 0){const g=new xt;g.fromArray(i.matrix),c.applyMatrix4(g)}else i.translation!==void 0&&c.position.fromArray(i.translation),i.rotation!==void 0&&c.quaternion.fromArray(i.rotation),i.scale!==void 0&&c.scale.fromArray(i.scale);if(!n.associations.has(c))n.associations.set(c,{});else if(i.mesh!==void 0&&n.meshCache.refs[i.mesh]>1){const g=n.associations.get(c);n.associations.set(c,{...g})}return n.associations.get(c).nodes=e,c}),this.nodeCache[e]}loadScene(e){const t=this.extensions,s=this.json.scenes[e],n=this,i=new bt;s.name&&(i.name=n.createUniqueName(s.name)),tt(i,s),s.extensions&&wt(t,i,s);const r=s.nodes||[],o=[];for(let d=0,A=r.length;d<A;d++)o.push(n.getDependency("node",r[d]));return Promise.all(o).then(function(d){for(let c=0,g=d.length;c<g;c++){const l=d[c];l.parent!==null?i.add(Ii(l)):i.add(l)}const A=c=>{const g=new Map;for(const[l,u]of n.associations)(l instanceof es||l instanceof hs)&&g.set(l,u);return c.traverse(l=>{const u=n.associations.get(l);u!=null&&g.set(l,u)}),g};return n.associations=A(i),i})}_createAnimationTracks(e,t,s,n,i){const r=[],o=e.name?e.name:e.uuid,d=[];ht[i.path]===ht.weights?e.traverse(function(l){l.morphTargetInfluences&&d.push(l.name?l.name:l.uuid)}):d.push(o);let A;switch(ht[i.path]){case ht.weights:A=Ys;break;case ht.rotation:A=qs;break;case ht.translation:case ht.scale:A=Js;break;default:switch(s.itemSize){case 1:A=Ys;break;case 2:case 3:default:A=Js;break}break}const c=n.interpolation!==void 0?dd[n.interpolation]:Pn,g=this._getArrayFromAccessor(s);for(let l=0,u=d.length;l<u;l++){const m=new A(d[l]+"."+ht[i.path],t.array,g,c);n.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(m),r.push(m)}return r}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const s=Qs(t.constructor),n=new Float32Array(t.length);for(let i=0,r=t.length;i<r;i++)n[i]=t[i]*s;t=n}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(s){const n=this instanceof qs?od:Qi;return new n(this.times,this.values,this.getValueSize()/3,s)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function pd(a,e,t){const s=e.attributes,n=new Ha;if(s.POSITION!==void 0){const o=t.json.accessors[s.POSITION],d=o.min,A=o.max;if(d!==void 0&&A!==void 0){if(n.set(new Z(d[0],d[1],d[2]),new Z(A[0],A[1],A[2])),o.normalized){const c=Qs(Kt[o.componentType]);n.min.multiplyScalar(c),n.max.multiplyScalar(c)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const i=e.targets;if(i!==void 0){const o=new Z,d=new Z;for(let A=0,c=i.length;A<c;A++){const g=i[A];if(g.POSITION!==void 0){const l=t.json.accessors[g.POSITION],u=l.min,m=l.max;if(u!==void 0&&m!==void 0){if(d.setX(Math.max(Math.abs(u[0]),Math.abs(m[0]))),d.setY(Math.max(Math.abs(u[1]),Math.abs(m[1]))),d.setZ(Math.max(Math.abs(u[2]),Math.abs(m[2]))),l.normalized){const p=Qs(Kt[l.componentType]);d.multiplyScalar(p)}o.max(d)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}n.expandByVector(o)}a.boundingBox=n;const r=new Ln;n.getCenter(r.center),r.radius=n.min.distanceTo(n.max)/2,a.boundingSphere=r}function En(a,e,t){const s=e.attributes,n=[];function i(r,o){return t.getDependency("accessor",r).then(function(d){a.setAttribute(o,d)})}for(const r in s){const o=Bs[r]||r.toLowerCase();o in a.attributes||n.push(i(s[r],o))}if(e.indices!==void 0&&!a.index){const r=t.getDependency("accessor",e.indices).then(function(o){a.setIndex(o)});n.push(r)}return zs.workingColorSpace!==rt&&"COLOR_0"in s&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${zs.workingColorSpace}" not supported.`),tt(a,e),pd(a,e,t),Promise.all(n).then(function(){return e.targets!==void 0?ld(a,e.targets,t):a})}const bd=Object.freeze(Object.defineProperty({__proto__:null,GLTFLoader:Ei},Symbol.toStringTag,{value:"Module"})),we={ComponentState:Object.freeze({DEFAULT:"default",TOUCHED:"touched",PRESSED:"pressed"}),ComponentProperty:Object.freeze({BUTTON:"button",X_AXIS:"xAxis",Y_AXIS:"yAxis",STATE:"state"}),ComponentType:Object.freeze({TRIGGER:"trigger",SQUEEZE:"squeeze",TOUCHPAD:"touchpad",THUMBSTICK:"thumbstick",BUTTON:"button"}),ButtonTouchThreshold:.05,AxisTouchThreshold:.1,VisualResponseProperty:Object.freeze({TRANSFORM:"transform",VISIBILITY:"visibility"})};async function Si(a){const e=await fetch(a);if(e.ok)return e.json();throw new Error(e.statusText)}async function fd(a){if(!a)throw new Error("No basePath supplied");return await Si(`${a}/profilesList.json`)}async function yd(a,e,t=null,s=!0){if(!a)throw new Error("No xrInputSource supplied");if(!e)throw new Error("No basePath supplied");const n=await fd(e);let i;if(a.profiles.some(d=>{const A=n[d];return A&&(i={profileId:d,profilePath:`${e}/${A.path}`,deprecated:!!A.deprecated}),!!i}),!i){if(!t)throw new Error("No matching profile name found");const d=n[t];if(!d)throw new Error(`No matching profile name found and default profile "${t}" missing.`);i={profileId:t,profilePath:`${e}/${d.path}`,deprecated:!!d.deprecated}}const r=await Si(i.profilePath);let o;if(s){let d;if(a.handedness==="any"?d=r.layouts[Object.keys(r.layouts)[0]]:d=r.layouts[a.handedness],!d)throw new Error(`No matching handedness, ${a.handedness}, in profile ${i.profileId}`);d.assetPath&&(o=i.profilePath.replace("profile.json",d.assetPath))}return{profile:r,assetPath:o}}const Cd={xAxis:0,yAxis:0,button:0,state:we.ComponentState.DEFAULT};function Id(a=0,e=0){let t=a,s=e;if(Math.sqrt(a*a+e*e)>1){const r=Math.atan2(e,a);t=Math.cos(r),s=Math.sin(r)}return{normalizedXAxis:t*.5+.5,normalizedYAxis:s*.5+.5}}class wd{constructor(e){this.componentProperty=e.componentProperty,this.states=e.states,this.valueNodeName=e.valueNodeName,this.valueNodeProperty=e.valueNodeProperty,this.valueNodeProperty===we.VisualResponseProperty.TRANSFORM&&(this.minNodeName=e.minNodeName,this.maxNodeName=e.maxNodeName),this.value=0,this.updateFromComponent(Cd)}updateFromComponent({xAxis:e,yAxis:t,button:s,state:n}){const{normalizedXAxis:i,normalizedYAxis:r}=Id(e,t);switch(this.componentProperty){case we.ComponentProperty.X_AXIS:this.value=this.states.includes(n)?i:.5;break;case we.ComponentProperty.Y_AXIS:this.value=this.states.includes(n)?r:.5;break;case we.ComponentProperty.BUTTON:this.value=this.states.includes(n)?s:0;break;case we.ComponentProperty.STATE:this.valueNodeProperty===we.VisualResponseProperty.VISIBILITY?this.value=this.states.includes(n):this.value=this.states.includes(n)?1:0;break;default:throw new Error(`Unexpected visualResponse componentProperty ${this.componentProperty}`)}}}class Ed{constructor(e,t){if(!e||!t||!t.visualResponses||!t.gamepadIndices||Object.keys(t.gamepadIndices).length===0)throw new Error("Invalid arguments supplied");this.id=e,this.type=t.type,this.rootNodeName=t.rootNodeName,this.touchPointNodeName=t.touchPointNodeName,this.visualResponses={},Object.keys(t.visualResponses).forEach(s=>{const n=new wd(t.visualResponses[s]);this.visualResponses[s]=n}),this.gamepadIndices=Object.assign({},t.gamepadIndices),this.values={state:we.ComponentState.DEFAULT,button:this.gamepadIndices.button!==void 0?0:void 0,xAxis:this.gamepadIndices.xAxis!==void 0?0:void 0,yAxis:this.gamepadIndices.yAxis!==void 0?0:void 0}}get data(){return{id:this.id,...this.values}}updateFromGamepad(e){if(this.values.state=we.ComponentState.DEFAULT,this.gamepadIndices.button!==void 0&&e.buttons.length>this.gamepadIndices.button){const t=e.buttons[this.gamepadIndices.button];this.values.button=t.value,this.values.button=this.values.button<0?0:this.values.button,this.values.button=this.values.button>1?1:this.values.button,t.pressed||this.values.button===1?this.values.state=we.ComponentState.PRESSED:(t.touched||this.values.button>we.ButtonTouchThreshold)&&(this.values.state=we.ComponentState.TOUCHED)}this.gamepadIndices.xAxis!==void 0&&e.axes.length>this.gamepadIndices.xAxis&&(this.values.xAxis=e.axes[this.gamepadIndices.xAxis],this.values.xAxis=this.values.xAxis<-1?-1:this.values.xAxis,this.values.xAxis=this.values.xAxis>1?1:this.values.xAxis,this.values.state===we.ComponentState.DEFAULT&&Math.abs(this.values.xAxis)>we.AxisTouchThreshold&&(this.values.state=we.ComponentState.TOUCHED)),this.gamepadIndices.yAxis!==void 0&&e.axes.length>this.gamepadIndices.yAxis&&(this.values.yAxis=e.axes[this.gamepadIndices.yAxis],this.values.yAxis=this.values.yAxis<-1?-1:this.values.yAxis,this.values.yAxis=this.values.yAxis>1?1:this.values.yAxis,this.values.state===we.ComponentState.DEFAULT&&Math.abs(this.values.yAxis)>we.AxisTouchThreshold&&(this.values.state=we.ComponentState.TOUCHED)),Object.values(this.visualResponses).forEach(t=>{t.updateFromComponent(this.values)})}}class Bd{constructor(e,t,s){if(!e)throw new Error("No xrInputSource supplied");if(!t)throw new Error("No profile supplied");this.xrInputSource=e,this.assetUrl=s,this.id=t.profileId,this.layoutDescription=t.layouts[e.handedness],this.components={},Object.keys(this.layoutDescription.components).forEach(n=>{const i=this.layoutDescription.components[n];this.components[n]=new Ed(n,i)}),this.updateFromGamepad()}get gripSpace(){return this.xrInputSource.gripSpace}get targetRaySpace(){return this.xrInputSource.targetRaySpace}get data(){const e=[];return Object.values(this.components).forEach(t=>{e.push(t.data)}),e}updateFromGamepad(){Object.values(this.components).forEach(e=>{e.updateFromGamepad(this.xrInputSource.gamepad)})}}const Qd="https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles",Sd="generic-trigger";class xd extends lt{constructor(){super(),this.motionController=null,this.envMap=null}setEnvironmentMap(e){return this.envMap==e?this:(this.envMap=e,this.traverse(t=>{t.isMesh&&(t.material.envMap=this.envMap,t.material.needsUpdate=!0)}),this)}updateMatrixWorld(e){super.updateMatrixWorld(e),this.motionController&&(this.motionController.updateFromGamepad(),Object.values(this.motionController.components).forEach(t=>{Object.values(t.visualResponses).forEach(s=>{const{valueNode:n,minNode:i,maxNode:r,value:o,valueNodeProperty:d}=s;n&&(d===we.VisualResponseProperty.VISIBILITY?n.visible=o:d===we.VisualResponseProperty.TRANSFORM&&(n.quaternion.slerpQuaternions(i.quaternion,r.quaternion,o),n.position.lerpVectors(i.position,r.position,o)))})}))}}function vd(a,e){Object.values(a.components).forEach(t=>{const{type:s,touchPointNodeName:n,visualResponses:i}=t;if(s===we.ComponentType.TOUCHPAD)if(t.touchPointNode=e.getObjectByName(n),t.touchPointNode){const r=new Jt(.001),o=new Ge({color:255}),d=new K(r,o);t.touchPointNode.add(d)}else console.warn(`Could not find touch dot, ${t.touchPointNodeName}, in touchpad component ${t.id}`);Object.values(i).forEach(r=>{const{valueNodeName:o,minNodeName:d,maxNodeName:A,valueNodeProperty:c}=r;if(c===we.VisualResponseProperty.TRANSFORM){if(r.minNode=e.getObjectByName(d),r.maxNode=e.getObjectByName(A),!r.minNode){console.warn(`Could not find ${d} in the model`);return}if(!r.maxNode){console.warn(`Could not find ${A} in the model`);return}}r.valueNode=e.getObjectByName(o),r.valueNode||console.warn(`Could not find ${o} in the model`)})})}function Bn(a,e){vd(a.motionController,e),a.envMap&&e.traverse(t=>{t.isMesh&&(t.material.envMap=a.envMap,t.material.needsUpdate=!0)}),a.add(e)}class Md{constructor(e=null,t=null){this.gltfLoader=e,this.path=Qd,this._assetCache={},this.onLoad=t,this.gltfLoader||(this.gltfLoader=new Ei)}setPath(e){return this.path=e,this}createControllerModel(e){const t=new xd;let s=null;return e.addEventListener("connected",n=>{const i=n.data;i.targetRayMode!=="tracked-pointer"||!i.gamepad||i.hand||yd(i,this.path,Sd).then(({profile:r,assetPath:o})=>{t.motionController=new Bd(i,r,o);const d=this._assetCache[t.motionController.assetUrl];if(d)s=d.scene.clone(),Bn(t,s),this.onLoad&&this.onLoad(s);else{if(!this.gltfLoader)throw new Error("GLTFLoader not set.");this.gltfLoader.setPath(""),this.gltfLoader.load(t.motionController.assetUrl,A=>{this._assetCache[t.motionController.assetUrl]=A,s=A.scene.clone(),Bn(t,s),this.onLoad&&this.onLoad(s)},null,()=>{throw new Error(`Asset ${t.motionController.assetUrl} missing or malformed.`)})}}).catch(r=>{console.warn(r)})}),e.addEventListener("disconnected",()=>{t.motionController=null,t.remove(s),s=null}),t}}class Dd{constructor(e,t){const s=e.selector,n=e.signals;let i=null,r=null,o=null;const d=new Ka,A=async l=>{d.copy(e.camera);const u=document.getElementById("sidebar");if(u.style.width="350px",u.style.height="700px",i===null){let b=function(M){const E=M.target;f.userData.active=!1,y.userData.active=!1,E===f&&(f.userData.active=!0,f.add(p)),E===y&&(y.userData.active=!0,y.add(p)),h.setFromXRController(E);const G=s.getIntersects(h);G.length>0&&G[0].object===r.children[0]||n.intersectionsDetected.dispatch(G)},Q=function(M){const E=M.target;if(E.userData.active!==!1)switch(t.getRaycaster().setFromXRController(E),M.type){case"selectstart":t.pointerDown(null);break;case"selectend":t.pointerUp(null);break;case"move":t.pointerHover(null),t.pointerMove(null);break}};const m=new Ut;m.setAttribute("position",new Ot([0,0,0,0,0,-5],3));const p=new et(m),h=new Ht;i=new bt;const f=o.xr.getController(0);f.addEventListener("select",b),f.addEventListener("selectstart",Q),f.addEventListener("selectend",Q),f.addEventListener("move",Q),f.userData.active=!1,i.add(f);const y=o.xr.getController(1);y.addEventListener("select",b),y.addEventListener("selectstart",Q),y.addEventListener("selectend",Q),y.addEventListener("move",Q),y.userData.active=!0,i.add(y);const I=new Md,_=o.xr.getControllerGrip(0);_.add(I.createControllerModel(_)),i.add(_);const L=o.xr.getControllerGrip(1);L.add(I.createControllerModel(L)),i.add(L),r=new Go;const S=new _o(u);S.name="picker",S.position.set(.5,1,-.5),S.rotation.y=-.5,r.add(S),r.listenToXRControllerEvents(f),r.listenToXRControllerEvents(y)}e.sceneHelpers.add(r),e.sceneHelpers.add(i),o.xr.enabled=!0,o.xr.addEventListener("sessionend",c),await o.xr.setSession(l)},c=async()=>{e.sceneHelpers.remove(r),e.sceneHelpers.remove(i);const l=document.getElementById("sidebar");l.style.width="",l.style.height="",o.xr.removeEventListener("sessionend",c),o.xr.enabled=!1,e.camera.copy(d),n.windowResize.dispatch(),n.leaveXR.dispatch()},g={optionalFeatures:["local-floor"]};n.enterXR.add(l=>{"xr"in navigator&&navigator.xr.requestSession(l,g).then(A)}),n.offerXR.add(function(l){"xr"in navigator&&(navigator.xr.offerSession(l,g).then(A),n.leaveXR.add(function(){navigator.xr.offerSession(l,g).then(A)}))}),n.rendererCreated.add(l=>{o=l})}}class Rd extends ja{constructor(e=16777215){super(),this.name="ColorEnvironment";const t=new Jt(1,16,16),s=new Ge({color:e,side:Kn});this.add(new K(t,s))}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}}class _d extends ja{constructor(){super(),this.name="RoomEnvironment",this.position.y=-3.5;const e=new ve;e.deleteAttribute("uv");const t=new ue({side:Kn}),s=new ue,n=new Rs(16777215,900,28,2);n.position.set(.418,16.199,.3),this.add(n);const i=new K(e,t);i.position.set(-.757,13.219,.717),i.scale.set(31.713,28.305,28.591),this.add(i);const r=new Fn(e,s,6),o=new lt;o.position.set(-10.906,2.009,1.846),o.rotation.set(0,-.195,0),o.scale.set(2.328,7.905,4.651),o.updateMatrix(),r.setMatrixAt(0,o.matrix),o.position.set(-5.607,-.754,-.758),o.rotation.set(0,.994,0),o.scale.set(1.97,1.534,3.955),o.updateMatrix(),r.setMatrixAt(1,o.matrix),o.position.set(6.167,.857,7.803),o.rotation.set(0,.561,0),o.scale.set(3.927,6.285,3.687),o.updateMatrix(),r.setMatrixAt(2,o.matrix),o.position.set(-2.017,.018,6.124),o.rotation.set(0,.333,0),o.scale.set(2.002,4.566,2.064),o.updateMatrix(),r.setMatrixAt(3,o.matrix),o.position.set(2.291,-.756,-2.621),o.rotation.set(0,-.286,0),o.scale.set(1.546,1.552,1.496),o.updateMatrix(),r.setMatrixAt(4,o.matrix),o.position.set(-2.193,-.369,-5.547),o.rotation.set(0,.516,0),o.scale.set(3.875,3.487,2.986),o.updateMatrix(),r.setMatrixAt(5,o.matrix),this.add(r);const d=new K(e,jt(50));d.position.set(-16.116,14.37,8.208),d.scale.set(.1,2.428,2.739),this.add(d);const A=new K(e,jt(50));A.position.set(-16.109,18.021,-8.207),A.scale.set(.1,2.425,2.751),this.add(A);const c=new K(e,jt(17));c.position.set(14.904,12.198,-1.832),c.scale.set(.15,4.265,6.331),this.add(c);const g=new K(e,jt(43));g.position.set(-.462,8.89,14.52),g.scale.set(4.38,5.441,.088),this.add(g);const l=new K(e,jt(20));l.position.set(3.235,11.486,-12.541),l.scale.set(2.5,2,.1),this.add(l);const u=new K(e,jt(100));u.position.set(0,20,0),u.scale.set(1,.1,1),this.add(u)}dispose(){const e=new Set;this.traverse(t=>{t.isMesh&&(e.add(t.geometry),e.add(t.material))});for(const t of e)t.dispose()}}function jt(a){return new Un({color:0,emissive:16777215,emissiveIntensity:a})}class xi{constructor(){this.init=()=>{},this.reset=()=>{},this.update=()=>{},this.setSize=()=>{},this.getSamples=()=>{},this.setBackground=()=>{},this.setEnvironment=()=>{},this.updateMaterials=()=>{}}}function Ld(a){return new re}function pl(a){const e=a.selector,t=a.signals,s=new re;s.setId("viewport"),s.setPosition("absolute"),s.add(new vo(a)),s.add(new Mo(a));let n=null,i=null,r=null;const o=a.camera,d=a.scene,A=a.sceneHelpers,c=[10066329,7829367],g=[5592405,8947848],l=new bt,u=new Xs(30,30);u.material.color.setHex(c[0]),u.material.vertexColors=!1,l.add(u);const m=new Xs(30,6);m.material.color.setHex(c[1]),m.material.vertexColors=!1,l.add(m);const p=new Ro(o,s),h=new Ha,b=new br(h);b.material.depthTest=!1,b.material.transparent=!0,b.visible=!1,A.add(b);let Q=null,f=null,y=null;const I=new fo(o);I.addEventListener("axis-changed",function(){a.viewportShading!=="realistic"&&X()}),I.addEventListener("objectChange",function(){t.objectChanged.dispatch(I.object)}),I.addEventListener("mouseDown",function(){const T=I.object;Q=T.position.clone(),f=T.rotation.clone(),y=T.scale.clone(),O.enabled=!1}),I.addEventListener("mouseUp",function(){const T=I.object;if(T!==void 0)switch(I.getMode()){case"translate":Q.equals(T.position)||a.execute(new za(a,T,T.position,Q));break;case"rotate":f.equals(T.rotation)||a.execute(new Vs(a,T,T.rotation,f));break;case"scale":y.equals(T.scale)||a.execute(new js(a,T,T.scale,y));break}O.enabled=!0}),A.add(I.getHelper()),new Dd(a,I);function _(){for(const T in a.cameras){const z=a.cameras[T],ee=s.dom.offsetWidth/s.dom.offsetHeight;z.isPerspectiveCamera?z.aspect=ee:(z.left=-ee,z.right=ee),z.updateProjectionMatrix();const se=a.helpers[z.id];se&&se.update()}}const L=new Je,S=new Je,M=new Je;function E(T,z,ee){const se=T.getBoundingClientRect();return[(z-se.left)/se.width,(ee-se.top)/se.height]}function G(){if(L.distanceTo(S)===0){const T=e.getPointerIntersects(S,o);t.intersectionsDetected.dispatch(T),X()}}function F(T){if(T.target!==n.domElement)return;const z=E(s.dom,T.clientX,T.clientY);L.fromArray(z),document.addEventListener("mouseup",$)}function $(T){const z=E(s.dom,T.clientX,T.clientY);S.fromArray(z),G(),document.removeEventListener("mouseup",$)}function Y(T){const z=T.changedTouches[0],ee=E(s.dom,z.clientX,z.clientY);L.fromArray(ee),document.addEventListener("touchend",W)}function W(T){const z=T.changedTouches[0],ee=E(s.dom,z.clientX,z.clientY);S.fromArray(ee),G(),document.removeEventListener("touchend",W)}function N(T){const z=E(s.dom,T.clientX,T.clientY);M.fromArray(z);const ee=e.getPointerIntersects(M,o);if(ee.length>0){const se=ee[0];t.objectFocused.dispatch(se.object)}}s.dom.addEventListener("mousedown",F),s.dom.addEventListener("touchstart",Y,{passive:!1}),s.dom.addEventListener("dblclick",N);const O=new xo(o);O.addEventListener("change",function(){t.cameraChanged.dispatch(o),t.refreshSidebarObject3D.dispatch(o)}),p.center=O.center,a.controls=O,t.editorCleared.add(function(){O.center.set(0,0,0),r&&r.reset(),q(),t.sceneEnvironmentChanged.dispatch(a.environmentType)}),t.transformModeChanged.add(function(T){I.setMode(T),X()}),t.snapChanged.add(function(T){I.setTranslationSnap(T)}),t.spaceChanged.add(function(T){I.setSpace(T),X()}),t.rendererUpdated.add(function(){d.traverse(function(T){T.material!==void 0&&(T.material.needsUpdate=!0)}),X()}),t.rendererCreated.add(function(T){if(n!==null){n.setAnimationLoop(null);try{i.dispose()}catch(z){console.warn("PMREMGenerator dispose error:",z)}n.dispose(),s.dom.removeChild(n.domElement)}if(O.connect(T.domElement),I.connect(T.domElement),n=T,n.setAnimationLoop(k),n.setClearColor(11184810),window.matchMedia){const z=window.matchMedia("(prefers-color-scheme: dark)");z.addEventListener("change",function(ee){n.setClearColor(ee.matches?3355443:11184810),Qn(u,m,ee.matches?g:c),X()}),n.setClearColor(z.matches?3355443:11184810),Qn(u,m,z.matches?g:c)}n.getClearColor(a.viewportColor),n.setPixelRatio(window.devicePixelRatio),n.setSize(s.dom.offsetWidth,s.dom.offsetHeight),n.isWebGLRenderer?(i=new Us(n),i.compileEquirectangularShader(),r=new xi(n)):(i=new Us(n),r=null),s.dom.appendChild(n.domElement),t.sceneEnvironmentChanged.dispatch(a.environmentType),X()}),t.rendererDetectKTX2Support.add(function(T){T.detectSupport(n)}),t.sceneGraphChanged.add(function(){q(),X()}),t.cameraChanged.add(function(){r&&r.reset(),X()}),t.objectSelected.add(function(T){b.visible=!1,I.detach(),T!==null&&T!==d&&T!==o&&(h.setFromObject(T,!0),h.isEmpty()===!1&&(b.visible=!0),I.attach(T)),X()}),t.objectFocused.add(function(T){O.focus(T)}),t.geometryChanged.add(function(T){T!==void 0&&h.setFromObject(T,!0),q(),X()}),t.objectChanged.add(function(T){a.selected===T&&h.setFromObject(T,!0),T.isPerspectiveCamera&&T.updateProjectionMatrix();const z=a.helpers[T.id];z!==void 0&&z.isSkeletonHelper!==!0&&z.update(),q(),X()}),t.objectRemoved.add(function(T){O.enabled=!0,T===I.object&&I.detach()}),t.materialChanged.add(function(){P(),X()}),t.sceneBackgroundChanged.add(function(T,z,ee,se,fe,je,gt,Ze){switch(a.backgroundType=T,d.background=null,T){case"Color":d.background=new Ve(z);break;case"Texture":ee&&(ee.colorSpace=fe,ee.needsUpdate=!0,d.background=ee);break;case"Equirectangular":se&&(se.mapping=La,se.colorSpace=fe,se.needsUpdate=!0,d.background=se,d.backgroundBlurriness=je,d.backgroundIntensity=gt,d.backgroundRotation.y=Ze*ne.DEG2RAD);break}H&&t.sceneEnvironmentChanged.dispatch(a.environmentType),U(),X()});let H=!1;t.sceneEnvironmentChanged.add(function(T,z){switch(a.environmentType=T,d.environment=null,H=!1,T){case"Equirectangular":z&&(d.environment=z,d.environment.mapping=La);break;case"Default":H=!0,d.background!==null?d.background.isColor?d.environment=i.fromScene(new Rd(d.background),.04).texture:d.background.isTexture&&(d.environment=d.background,d.environment.mapping=La,d.environmentRotation.y=d.backgroundRotation.y):d.environment=i.fromScene(new _d,.04).texture;break}V(),X()}),t.sceneFogChanged.add(function(T,z,ee,se,fe){switch(T){case"None":d.fog=null;break;case"Fog":d.fog=new yr(z,ee,se);break;case"FogExp2":d.fog=new fr(z,fe);break}X()}),t.sceneFogSettingsChanged.add(function(T,z,ee,se,fe){switch(T){case"Fog":d.fog.color.setHex(z),d.fog.near=ee,d.fog.far=se;break;case"FogExp2":d.fog.color.setHex(z),d.fog.density=fe;break}X()}),t.viewportCameraChanged.add(function(){const T=a.viewportCamera;(T.isPerspectiveCamera||T.isOrthographicCamera)&&_(),O.enabled=T===a.camera,q(),X()}),t.viewportShadingChanged.add(function(){switch(a.viewportShading){case"realistic":r&&r.init(d,a.viewportCamera);break;case"solid":d.overrideMaterial=null;break;case"normals":d.overrideMaterial=new On;break;case"wireframe":d.overrideMaterial=new Ge({color:0,wireframe:!0});break}X()}),t.windowResize.add(function(){_(),n!==null&&(n.setSize(s.dom.offsetWidth,s.dom.offsetHeight),r&&r.setSize(s.dom.offsetWidth,s.dom.offsetHeight),X())}),t.showHelpersChanged.add(function(T){l.visible=T.gridHelper,A.traverse(function(z){switch(z.type){case"CameraHelper":{z.visible=T.cameraHelpers;break}case"PointLightHelper":case"DirectionalLightHelper":case"SpotLightHelper":case"HemisphereLightHelper":{z.visible=T.lightHelpers;break}case"SkeletonHelper":{z.visible=T.skeletonHelpers;break}}}),X()}),t.cameraResetted.add(_);let j=0;const v=new Cr;function k(){v.update();const T=a.mixer,z=v.getDelta();let ee=!1;const se=T.stats.actions;(se.inUse>0||j>0)&&(j=se.inUse,T.update(z),ee=!0,a.selected!==null&&(a.selected.updateWorldMatrix(!1,!0),b.box.setFromObject(a.selected,!0)),t.morphTargetsUpdated.dispatch()),p.animating===!0&&(p.update(z),ee=!0),n.xr.isPresenting===!0&&(ee=!0),ee===!0&&X(),w()}function q(){r&&a.viewportShading==="realistic"&&r.init(d,a.viewportCamera)}function U(){r&&a.viewportShading==="realistic"&&r.setBackground(d.background,d.backgroundBlurriness)}function V(){r&&a.viewportShading==="realistic"&&r.setEnvironment(d.environment)}function P(){r&&a.viewportShading==="realistic"&&r.updateMaterials()}function w(){r&&a.viewportShading==="realistic"&&(r.update(),a.signals.pathTracerUpdated.dispatch(r.getSamples()))}let D=0,R=0;function X(){n!==null&&(D=performance.now(),n.setViewport(0,0,s.dom.offsetWidth,s.dom.offsetHeight),n.render(d,a.viewportCamera),o===a.viewportCamera&&(n.autoClear=!1,l.visible===!0&&n.render(l,o),A.visible===!0&&n.render(A,o),n.xr.isPresenting!==!0&&p.render(n),n.autoClear=!0),R=performance.now(),a.signals.sceneRendered.dispatch(R-D))}return s}function Qn(a,e,t){a.material.color.setHex(t[0]),e.material.color.setHex(t[1])}function Td(a){const e=a.strings,t=new re;t.setClass("menu");const s=new re;s.setClass("title"),s.setTextContent(e.getKey("menubar/add")),t.add(s);const n=new re;n.setClass("options"),t.add(n);let i=new C;i.setClass("option"),i.setTextContent(e.getKey("menubar/add/group")),i.onClick(function(){const l=new bt;l.name="Group",a.execute(new ae(a,l))}),n.add(i);const r=new C().setTextContent(e.getKey("menubar/add/mesh")).addClass("option").addClass("submenu-title");r.onMouseOver(function(){const{top:l,right:u}=r.dom.getBoundingClientRect(),{paddingTop:m}=getComputedStyle(this.dom);o.setLeft(u+"px"),o.setTop(l-parseFloat(m)+"px"),o.setStyle("max-height",[`calc( 100vh - ${l}px )`]),o.setDisplay("block")}),r.onMouseOut(function(){o.setDisplay("none")}),n.add(r);const o=new re().setPosition("fixed").addClass("options").setDisplay("none");r.add(o),i=new C,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/box")),i.onClick(function(){const l=new ve(1,1,1,1,1,1),u=new K(l,new ue);u.name="Box",a.execute(new ae(a,u))}),o.add(i),i=new C,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/capsule")),i.onClick(function(){const l=new Hn(1,1,4,8,1),u=new ue,m=new K(l,u);m.name="Capsule",a.execute(new ae(a,m))}),o.add(i),i=new C,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/circle")),i.onClick(function(){const l=new Jn(1,32,0,Math.PI*2),u=new K(l,new ue);u.name="Circle",a.execute(new ae(a,u))}),o.add(i),i=new C,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/cylinder")),i.onClick(function(){const l=new Re(1,1,1,32,1,!1,0,Math.PI*2),u=new K(l,new ue);u.name="Cylinder",a.execute(new ae(a,u))}),o.add(i),i=new C,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/dodecahedron")),i.onClick(function(){const l=new Yn(1,0),u=new K(l,new ue);u.name="Dodecahedron",a.execute(new ae(a,u))}),o.add(i),i=new C,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/icosahedron")),i.onClick(function(){const l=new qn(1,0),u=new K(l,new ue);u.name="Icosahedron",a.execute(new ae(a,u))}),o.add(i),i=new C,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/lathe")),i.onClick(function(){const l=new zn,u=new K(l,new ue({side:vs}));u.name="Lathe",a.execute(new ae(a,u))}),o.add(i),i=new C,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/octahedron")),i.onClick(function(){const l=new Pt(1,0),u=new K(l,new ue);u.name="Octahedron",a.execute(new ae(a,u))}),o.add(i),i=new C,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/plane")),i.onClick(function(){const l=new Oa(1,1,1,1),u=new ue,m=new K(l,u);m.name="Plane",a.execute(new ae(a,m))}),o.add(i),i=new C,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/ring")),i.onClick(function(){const l=new Xn(.5,1,32,1,0,Math.PI*2),u=new K(l,new ue);u.name="Ring",a.execute(new ae(a,u))}),o.add(i),i=new C,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/sphere")),i.onClick(function(){const l=new Jt(1,32,16,0,Math.PI*2,0,Math.PI),u=new K(l,new ue);u.name="Sphere",a.execute(new ae(a,u))}),o.add(i),i=new C,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/sprite")),i.onClick(function(){const l=new Bt(new Ms);l.name="Sprite",a.execute(new ae(a,l))}),o.add(i),i=new C,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/tetrahedron")),i.onClick(function(){const l=new Wn(1,0),u=new K(l,new ue);u.name="Tetrahedron",a.execute(new ae(a,u))}),o.add(i),i=new C,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/torus")),i.onClick(function(){const l=new St(1,.4,12,48,Math.PI*2),u=new K(l,new ue);u.name="Torus",a.execute(new ae(a,u))}),o.add(i),i=new C,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/torusknot")),i.onClick(function(){const l=new Zn(1,.4,64,8,2,3),u=new K(l,new ue);u.name="TorusKnot",a.execute(new ae(a,u))}),o.add(i),i=new C,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/tube")),i.onClick(function(){const l=new $n([new Z(2,2,-2),new Z(2,-2,-.6666666666666667),new Z(-2,-2,.6666666666666667),new Z(-2,2,2)]),u=new ei(l,64,1,8,!1),m=new K(u,new ue);m.name="Tube",a.execute(new ae(a,m))}),o.add(i);const d=new C().setTextContent(e.getKey("menubar/add/light")).addClass("option").addClass("submenu-title");d.onMouseOver(function(){const{top:l,right:u}=d.dom.getBoundingClientRect(),{paddingTop:m}=getComputedStyle(this.dom);A.setLeft(u+"px"),A.setTop(l-parseFloat(m)+"px"),A.setStyle("max-height",[`calc( 100vh - ${l}px )`]),A.setDisplay("block")}),d.onMouseOut(function(){A.setDisplay("none")}),n.add(d);const A=new re().setPosition("fixed").addClass("options").setDisplay("none");d.add(A),i=new C,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/light/ambient")),i.onClick(function(){const u=new Ir(2236962);u.name="AmbientLight",a.execute(new ae(a,u))}),A.add(i),i=new C,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/light/directional")),i.onClick(function(){const m=new kn(16777215,1);m.name="DirectionalLight",m.target.name="DirectionalLight Target",m.position.set(5,10,7.5),a.execute(new ae(a,m))}),A.add(i),i=new C,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/light/hemisphere")),i.onClick(function(){const p=new Rn(43775,16755200,1);p.name="HemisphereLight",p.position.set(0,10,0),a.execute(new ae(a,p))}),A.add(i),i=new C,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/light/point")),i.onClick(function(){const p=new Rs(16777215,1,0);p.name="PointLight",a.execute(new ae(a,p))}),A.add(i),i=new C,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/light/spot")),i.onClick(function(){const p=Math.PI*.1,h=0,b=new Gn(16777215,1,0,p,h);b.name="SpotLight",b.target.name="SpotLight Target",b.position.set(5,10,7.5),a.execute(new ae(a,b))}),A.add(i);const c=new C().setTextContent(e.getKey("menubar/add/camera")).addClass("option").addClass("submenu-title");c.onMouseOver(function(){const{top:l,right:u}=c.dom.getBoundingClientRect(),{paddingTop:m}=getComputedStyle(this.dom);g.setLeft(u+"px"),g.setTop(l-parseFloat(m)+"px"),g.setStyle("max-height",[`calc( 100vh - ${l}px )`]),g.setDisplay("block")}),c.onMouseOut(function(){g.setDisplay("none")}),n.add(c);const g=new re().setPosition("fixed").addClass("options").setDisplay("none");return c.add(g),i=new C,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/camera/orthographic")),i.onClick(function(){const l=a.camera.aspect,u=new Ja(-l,l);u.name="OrthographicCamera",a.execute(new ae(a,u))}),g.add(i),i=new C,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/camera/perspective")),i.onClick(function(){const l=new Ka;l.name="PerspectiveCamera",a.execute(new ae(a,l))}),g.add(i),t}function Nd(a){const e=a.strings,t=new re;t.setClass("menu");const s=new re;s.setClass("title"),s.setTextContent(e.getKey("menubar/edit")),t.add(s);const n=new re;n.setClass("options"),t.add(n);const i=new C;i.setClass("option"),i.setTextContent(e.getKey("menubar/edit/undo")),i.add(new B("CTRL+Z").setClass("key")),i.onClick(function(){a.undo()}),n.add(i);const r=new C;r.setClass("option"),r.setTextContent(e.getKey("menubar/edit/redo")),r.add(new B("CTRL+SHIFT+Z").setClass("key")),r.onClick(function(){a.redo()}),n.add(r);function o(){const A=a.history;i.setClass("option"),r.setClass("option"),A.undos.length==0&&i.setClass("inactive"),A.redos.length==0&&r.setClass("inactive")}a.signals.historyChanged.add(o),o(),n.add(new Ts);let d=new C;return d.setClass("option"),d.setTextContent(e.getKey("menubar/edit/center")),d.onClick(function(){const A=a.selected;if(A===null||A.parent===null)return;const g=new Ha().setFromObject(A).getCenter(new Z),l=new Z;l.x=A.position.x-g.x,l.y=A.position.y-g.y,l.z=A.position.z-g.z,a.execute(new za(a,A,l))}),n.add(d),d=new C,d.setClass("option"),d.setTextContent(e.getKey("menubar/edit/clone")),d.onClick(function(){let A=a.selected;A===null||A.parent===null||(A=Ii(A),a.execute(new ae(a,A)))}),n.add(d),d=new C,d.setClass("option"),d.setTextContent(e.getKey("menubar/edit/delete")),d.add(new B("DEL").setClass("key")),d.onClick(function(){const A=a.selected;A!==null&&A.parent!==null&&a.execute(new ks(a,A))}),n.add(d),t}function Gd(a){const e=a.strings,t=a.utils.saveArrayBuffer,s=a.utils.saveString,n=new re;n.setClass("menu");const i=new re;i.setClass("title"),i.setTextContent(e.getKey("menubar/file")),n.add(i);const r=new re;r.setClass("options"),n.add(r);const o=new C().setTextContent(e.getKey("menubar/file/new")).addClass("option").addClass("submenu-title");o.onMouseOver(function(){const{top:f,right:y}=this.dom.getBoundingClientRect(),{paddingTop:I}=getComputedStyle(this.dom);d.setLeft(y+"px"),d.setTop(f-parseFloat(I)+"px"),d.setDisplay("block")}),o.onMouseOut(function(){d.setDisplay("none")}),r.add(o);const d=new re().setPosition("fixed").addClass("options").setDisplay("none");o.add(d);let A=new C().setTextContent(e.getKey("menubar/file/new/empty")).setClass("option");A.onClick(function(){confirm(e.getKey("prompt/file/open"))&&a.clear()}),d.add(A);const c=[],g=new Ds;for(let f=0;f<c.length;f++)(function(y){const I=c[y],_=new C;_.setClass("option"),_.setTextContent(e.getKey(I.title)),_.onClick(function(){confirm(e.getKey("prompt/file/open"))&&g.load("examples/"+I.file,function(L){a.clear(),a.fromJSON(JSON.parse(L))})}),d.add(_)})(f);const l=document.createElement("form");l.style.display="none",document.body.appendChild(l);const u=document.createElement("input");u.multiple=!1,u.type="file",u.accept=".json",u.addEventListener("change",async function(){const f=u.files[0];if(f!==void 0)try{const y=JSON.parse(await f.text());async function I(){await a.fromJSON(y),a.signals.editorCleared.remove(I)}a.signals.editorCleared.add(I),a.clear()}catch(y){alert(e.getKey("prompt/file/failedToOpenProject")),console.error(y)}finally{m.reset()}}),l.appendChild(u),A=new C().addClass("option").setTextContent(e.getKey("menubar/file/open")).onClick(function(){confirm(e.getKey("prompt/file/open"))&&u.click()}),r.add(A),A=new C().addClass("option").setTextContent(e.getKey("menubar/file/save")).onClick(function(){const f=a.toJSON(),y=new Blob([JSON.stringify(f)],{type:"application/json"});a.utils.save(y,"project.json")}),r.add(A),r.add(new Ts);const m=document.createElement("form");m.style.display="none",document.body.appendChild(m);const p=document.createElement("input");p.multiple=!0,p.type="file",p.addEventListener("change",function(){a.loader.loadFiles(p.files),m.reset()}),m.appendChild(p),A=new C,A.setClass("option"),A.setTextContent(e.getKey("menubar/file/import")),A.onClick(function(){p.click()}),r.add(A);const h=new C().setTextContent(e.getKey("menubar/file/export")).addClass("option").addClass("submenu-title");h.onMouseOver(function(){const{top:f,right:y}=this.dom.getBoundingClientRect(),{paddingTop:I}=getComputedStyle(this.dom);b.setLeft(y+"px"),b.setTop(f-parseFloat(I)+"px"),b.setDisplay("block")}),h.onMouseOut(function(){b.setDisplay("none")}),r.add(h);const b=new re().setPosition("fixed").addClass("options").setDisplay("none");h.add(b),A=new C,A.setClass("option"),A.setTextContent("DRC"),A.onClick(async function(){const f=a.selected;if(f===null||f.isMesh===void 0){alert(e.getKey("prompt/file/export/noMeshSelected"));return}const{DRACOExporter:y}=await te(async()=>{const{DRACOExporter:S}=await import("./DRACOExporter-DDg5t4J7.js");return{DRACOExporter:S}},__vite__mapDeps([25,1,2])),I=new y,_={decodeSpeed:5,encodeSpeed:5,encoderMethod:y.MESH_EDGEBREAKER_ENCODING,quantization:[16,8,8,8,8],exportUvs:!0,exportNormals:!0,exportColor:f.geometry.hasAttribute("color")},L=I.parse(f,_);t(L,"model.drc")}),b.add(A),A=new C,A.setClass("option"),A.setTextContent("GLB"),A.onClick(async function(){const f=a.scene,y=Q(f),I=[];for(const S of y)I.push(S.clone().optimize());const{GLTFExporter:_}=await te(async()=>{const{GLTFExporter:S}=await import("./GLTFExporter-DxKQAaP2.js");return{GLTFExporter:S}},__vite__mapDeps([26,1,2]));new _().parse(f,function(S){t(S,"scene.glb")},void 0,{binary:!0,animations:I})}),b.add(A),A=new C,A.setClass("option"),A.setTextContent("GLTF"),A.onClick(async function(){const f=a.scene,y=Q(f),I=[];for(const S of y)I.push(S.clone().optimize());const{GLTFExporter:_}=await te(async()=>{const{GLTFExporter:S}=await import("./GLTFExporter-DxKQAaP2.js");return{GLTFExporter:S}},__vite__mapDeps([26,1,2]));new _().parse(f,function(S){s(JSON.stringify(S,null,2),"scene.gltf")},void 0,{animations:I})}),b.add(A),A=new C,A.setClass("option"),A.setTextContent("OBJ"),A.onClick(async function(){const f=a.selected;if(f===null){alert(e.getKey("prompt/file/export/noObjectSelected"));return}const{OBJExporter:y}=await te(async()=>{const{OBJExporter:_}=await import("./OBJExporter-CXpOgj_P.js");return{OBJExporter:_}},__vite__mapDeps([27,1,2])),I=new y;s(I.parse(f),"model.obj")}),b.add(A),A=new C,A.setClass("option"),A.setTextContent("PLY"),A.onClick(async function(){const{PLYExporter:f}=await te(async()=>{const{PLYExporter:I}=await import("./PLYExporter-W488bFAd.js");return{PLYExporter:I}},__vite__mapDeps([28,1,2]));new f().parse(a.scene,function(I){t(I,"model.ply")})}),b.add(A),A=new C,A.setClass("option"),A.setTextContent("PLY (BINARY)"),A.onClick(async function(){const{PLYExporter:f}=await te(async()=>{const{PLYExporter:I}=await import("./PLYExporter-W488bFAd.js");return{PLYExporter:I}},__vite__mapDeps([28,1,2]));new f().parse(a.scene,function(I){t(I,"model-binary.ply")},{binary:!0})}),b.add(A),A=new C,A.setClass("option"),A.setTextContent("STL"),A.onClick(async function(){const{STLExporter:f}=await te(async()=>{const{STLExporter:I}=await import("./STLExporter-BK_7RAgV.js");return{STLExporter:I}},__vite__mapDeps([29,1,2])),y=new f;s(y.parse(a.scene),"model.stl")}),b.add(A),A=new C,A.setClass("option"),A.setTextContent("STL (BINARY)"),A.onClick(async function(){const{STLExporter:f}=await te(async()=>{const{STLExporter:I}=await import("./STLExporter-BK_7RAgV.js");return{STLExporter:I}},__vite__mapDeps([29,1,2])),y=new f;t(y.parse(a.scene,{binary:!0}),"model-binary.stl")}),b.add(A),A=new C,A.setClass("option"),A.setTextContent("USDZ"),A.onClick(async function(){const{USDZExporter:f}=await te(async()=>{const{USDZExporter:I}=await import("./USDZExporter-BLtaq93W.js");return{USDZExporter:I}},__vite__mapDeps([30,1,2])),y=new f;t(await y.parseAsync(a.scene),"model.usdz")}),b.add(A);function Q(f){const y=[];return f.traverse(function(I){y.push(...I.animations)}),y}return n}function kd(a){const e=a.signals,t=a.strings,s=new re;s.setClass("menu");const n=new re;n.setClass("title"),n.setTextContent(t.getKey("menubar/view")),s.add(n);const i=new re;i.setClass("options"),s.add(i);const r={gridHelper:!0,cameraHelpers:!0,lightHelpers:!0,skeletonHelpers:!0};let o=new C().addClass("option").addClass("toggle").setTextContent(t.getKey("menubar/view/gridHelper")).onClick(function(){r.gridHelper=!r.gridHelper,this.toggleClass("toggle-on",r.gridHelper),e.showHelpersChanged.dispatch(r)}).toggleClass("toggle-on",r.gridHelper);return i.add(o),o=new C().addClass("option").addClass("toggle").setTextContent(t.getKey("menubar/view/cameraHelpers")).onClick(function(){r.cameraHelpers=!r.cameraHelpers,this.toggleClass("toggle-on",r.cameraHelpers),e.showHelpersChanged.dispatch(r)}).toggleClass("toggle-on",r.cameraHelpers),i.add(o),o=new C().addClass("option").addClass("toggle").setTextContent(t.getKey("menubar/view/lightHelpers")).onClick(function(){r.lightHelpers=!r.lightHelpers,this.toggleClass("toggle-on",r.lightHelpers),e.showHelpersChanged.dispatch(r)}).toggleClass("toggle-on",r.lightHelpers),i.add(o),o=new C().addClass("option").addClass("toggle").setTextContent(t.getKey("menubar/view/skeletonHelpers")).onClick(function(){r.skeletonHelpers=!r.skeletonHelpers,this.toggleClass("toggle-on",r.skeletonHelpers),e.showHelpersChanged.dispatch(r)}).toggleClass("toggle-on",r.skeletonHelpers),i.add(o),e.helperAdded.add(function(){e.showHelpersChanged.dispatch(r)}),i.add(new Ts),o=new C,o.setClass("option"),o.setTextContent(t.getKey("menubar/view/fullscreen")),o.onClick(function(){document.fullscreenElement===null?document.documentElement.requestFullscreen():document.exitFullscreen&&document.exitFullscreen(),document.webkitFullscreenElement===null?document.documentElement.webkitRequestFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}),i.add(o),"xr"in navigator&&("offerSession"in navigator.xr?e.offerXR.dispatch("immersive-ar"):navigator.xr.isSessionSupported("immersive-ar").then(function(d){if(d){const A=new C;A.setClass("option"),A.setTextContent("AR"),A.onClick(function(){e.enterXR.dispatch("immersive-ar")}),i.add(A)}else navigator.xr.isSessionSupported("immersive-vr").then(function(A){if(A){const c=new C;c.setClass("option"),c.setTextContent("VR"),c.onClick(function(){e.enterXR.dispatch("immersive-vr")}),i.add(c)}})})),s}const Fd={Player:function(){let a;const e=new THREE.ObjectLoader;let t,s,n={};const i=document.createElement("div");this.dom=i,this.canvas=null,this.width=500,this.height=500,this.load=async function(h){const b=h.project;if(a!==void 0&&(a.dispose(),i.removeChild(a.domElement),this.canvas=null),b.renderer==="WebGPURenderer"){const{WebGPURenderer:_}=await te(async()=>{const{WebGPURenderer:L}=await import("./three-module-Bgl_dleh.js").then(S=>S.T);return{WebGPURenderer:L}},__vite__mapDeps([1,2]));a=new _({antialias:!0,logarithmicDepthBuffer:!0}),await a.init()}else a=new THREE.WebGLRenderer({antialias:!0,logarithmicDepthBuffer:!0});a.setPixelRatio(window.devicePixelRatio),b.shadows!==void 0&&(a.shadowMap.enabled=b.shadows),b.shadowType!==void 0&&(a.shadowMap.type=b.shadowType),b.toneMapping!==void 0&&(a.toneMapping=b.toneMapping),b.toneMappingExposure!==void 0&&(a.toneMappingExposure=b.toneMappingExposure),i.appendChild(a.domElement),this.canvas=a.domElement,this.setScene(e.parse(h.scene)),this.setCamera(e.parse(h.camera)),n={init:[],start:[],stop:[],keydown:[],keyup:[],pointerdown:[],pointerup:[],pointermove:[],update:[]};let Q="player,renderer,scene,camera";const f={};for(var y in n)Q+=","+y,f[y]=y;const I=JSON.stringify(f).replace(/\"/g,"");for(let _ in h.scripts){const L=s.getObjectByProperty("uuid",_,!0);if(L===void 0){console.warn("APP.Player: Script without object.",_);continue}const S=h.scripts[_];for(let M=0;M<S.length;M++){const E=S[M],G=new Function(Q,E.source+`
return `+I+";").bind(L)(this,a,s,t);for(let F in G)if(G[F]!==void 0){if(n[F]===void 0){console.warn("APP.Player: Event type not supported (",F,")");continue}n[F].push(G[F].bind(L))}}}r(n.init,arguments)},this.setCamera=function(h){t=h,t.aspect=this.width/this.height,t.updateProjectionMatrix()},this.setScene=function(h){s=h},this.setPixelRatio=function(h){a.setPixelRatio(h)},this.setClearColor=function(h){a.setClearColor(h)},this.setSize=function(h,b){this.width=h,this.height=b,t&&(t.aspect=this.width/this.height,t.updateProjectionMatrix()),a&&a.setSize(h,b)};function r(h,b){for(let Q=0,f=h.length;Q<f;Q++)h[Q](b)}let o,d,A;function c(){o=performance.now();try{r(n.update,{time:o-d,delta:o-A})}catch(h){console.error(h.message||h,h.stack||"")}a.render(s,t),A=o}this.play=function(){d=A=performance.now(),document.addEventListener("keydown",g),document.addEventListener("keyup",l),document.addEventListener("pointerdown",u),document.addEventListener("pointerup",m),document.addEventListener("pointermove",p),r(n.start,arguments),a.setAnimationLoop(c)},this.stop=function(){document.removeEventListener("keydown",g),document.removeEventListener("keyup",l),document.removeEventListener("pointerdown",u),document.removeEventListener("pointerup",m),document.removeEventListener("pointermove",p),r(n.stop,arguments),a.setAnimationLoop(null)},this.render=function(h){r(n.update,{time:h*1e3,delta:0}),a.render(s,t)},this.dispose=function(){a&&a.dispose(),t=void 0,s=void 0};function g(h){r(n.keydown,h)}function l(h){r(n.keyup,h)}function u(h){r(n.pointerdown,h)}function m(h){r(n.pointerup,h)}function p(h){r(n.pointermove,h)}}};function Vd(a){const e=a.strings,t=new re;t.setClass("menu");const s=new re;s.setClass("title"),s.setTextContent(e.getKey("menubar/render")),t.add(s);const n=new re;n.setClass("options"),t.add(n);let i=new C;i.setClass("option"),i.setTextContent(e.getKey("menubar/render/image")),i.onClick(function(){r()}),n.add(i),"VideoEncoder"in window&&(i=new C,i.setClass("option"),i.setTextContent(e.getKey("menubar/render/video")),i.onClick(function(){o()}),n.add(i));function r(){const d=new jd(a,e);document.body.appendChild(d.dom)}function o(){const d=new Pd(a,e);document.body.appendChild(d.dom)}return t}class jd{constructor(e,t){const s=document.createElement("div");s.className="Dialog",this.dom=s;const n=document.createElement("div");n.className="Dialog-background",n.addEventListener("click",()=>this.close()),s.appendChild(n);const i=document.createElement("div");i.className="Dialog-content",s.appendChild(i);const r=document.createElement("div");r.className="Dialog-title",r.textContent=t.getKey("menubar/render")+" "+t.getKey("menubar/render/image"),i.appendChild(r);const o=document.createElement("div");o.className="Dialog-body",i.appendChild(o);const d=new C;o.appendChild(d.dom),d.add(new B(t.getKey("sidebar/project/shading")).setClass("Label"));const A=new Ke().setOptions({solid:"SOLID",realistic:"REALISTIC"}).setWidth("170px").onChange(m).setValue("solid");d.add(A);const c=3,g=65536,l=new ie(16).setRange(c,g),u=new C;u.add(new B(t.getKey("sidebar/project/image/samples")).setClass("Label")),u.add(l),o.appendChild(u.dom);function m(){u.setHidden(A.getValue()!=="realistic")}m();const p=new C;o.appendChild(p.dom),p.add(new B(t.getKey("sidebar/project/resolution")).setClass("Label"));const h=new ie(1024).setTextAlign("center").setWidth("28px");p.add(h),p.add(new B("").setTextAlign("center").setFontSize("12px").setWidth("12px"));const b=new ie(1024).setTextAlign("center").setWidth("28px");p.add(b);const Q=document.createElement("div");Q.className="Dialog-buttons",o.appendChild(Q);const f=new le(t.getKey("sidebar/project/render"));f.setWidth("80px"),f.onClick(async()=>{if(A.getValue()==="realistic"){let H=!0;if(e.scene.traverseVisible(j=>{if(j.isMesh){const v=Array.isArray(j.material)?j.material:[j.material];for(let k=0;k<v.length;k++)if(!v[k].isMeshStandardMaterial){H=!1;return}}}),H===!1){alert(t.getKey("prompt/rendering/realistic/unsupportedMaterial"));return}}const I=e.toJSON(),_=I.project,L=new Ct,S=await L.parseAsync(I.camera);S.aspect=h.getValue()/b.getValue(),S.updateProjectionMatrix(),S.updateMatrixWorld();const M=await L.parseAsync(I.scene),E=new Mn({antialias:!0,logarithmicDepthBuffer:!0});E.setSize(h.getValue(),b.getValue()),E.setClearColor(e.viewportColor),_.shadows!==void 0&&(E.shadowMap.enabled=_.shadows),_.shadowType!==void 0&&(E.shadowMap.type=_.shadowType),_.toneMapping!==void 0&&(E.toneMapping=_.toneMapping),_.toneMappingExposure!==void 0&&(E.toneMappingExposure=_.toneMappingExposure);const G=h.getValue()/window.devicePixelRatio,F=b.getValue()/window.devicePixelRatio,$=(screen.width-G)/2,Y=(screen.height-F)/2,W=window.open("","_blank",`location=no,left=${$},top=${Y},width=${G},height=${F}`),N=document.createElement("meta");N.name="viewport",N.content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0",W.document.head.appendChild(N),W.document.body.style.background="#000",W.document.body.style.margin="0px",W.document.body.style.overflow="hidden";const O=E.domElement;switch(O.style.width=G+"px",O.style.height=F+"px",W.document.body.appendChild(O),A.getValue()){case"solid":E.render(M,S),E.dispose();break;case"realistic":let k=function(){if(W.closed===!0)return;const q=Math.floor(j.getSamples())+1;q<v&&requestAnimationFrame(k),j.update();const U=Math.floor(q/v*100);H.textContent=`${q} / ${v} ( ${U}% )`,U===100&&(H.textContent+=" ")};const H=document.createElement("div");H.style.position="absolute",H.style.top="10px",H.style.left="10px",H.style.color="white",H.style.fontFamily="system-ui",H.style.fontSize="12px",W.document.body.appendChild(H);const j=new xi(E);j.init(M,S),j.setSize(h.getValue(),b.getValue());const v=Math.max(c,Math.min(g,l.getValue()));k();break}this.close()}),Q.appendChild(f.dom);const y=new le(t.getKey("menubar/render/cancel"));y.setWidth("80px"),y.setMarginLeft("8px"),y.onClick(()=>this.close()),Q.appendChild(y.dom)}close(){this.dom.remove()}}class Pd{constructor(e,t){const s=document.createElement("div");s.className="Dialog",this.dom=s;const n=document.createElement("div");n.className="Dialog-background",n.addEventListener("click",()=>this.close()),s.appendChild(n);const i=document.createElement("div");i.className="Dialog-content",s.appendChild(i);const r=document.createElement("div");r.className="Dialog-title",r.textContent=t.getKey("menubar/render")+" "+t.getKey("menubar/render/video"),i.appendChild(r);const o=document.createElement("div");o.className="Dialog-body",i.appendChild(o);function d(){this.setValue(2*Math.floor(this.getValue()/2))}const A=new C;o.appendChild(A.dom),A.add(new B(t.getKey("sidebar/project/resolution")).setClass("Label"));const c=new ie(1024).setTextAlign("center").setWidth("28px").setStep(2).onChange(d);A.add(c),A.add(new B("").setTextAlign("center").setFontSize("12px").setWidth("12px"));const g=new ie(1024).setTextAlign("center").setWidth("28px").setStep(2).onChange(d);A.add(g);const l=new ie(30).setTextAlign("center").setWidth("20px");A.add(l),A.add(new B("fps").setFontSize("12px"));const u=new C;u.add(new B(t.getKey("sidebar/project/duration")).setClass("Label")),o.appendChild(u.dom);const m=new ie(10);u.add(m);const p=new C;p.add(new B(t.getKey("menubar/render/quality")).setClass("Label")),o.appendChild(p.dom);const h=new Ke().setOptions({low:"Low",medium:"Medium",high:"High",ultra:"Ultra"}).setWidth("170px").setValue("high");p.add(h);const b=document.createElement("div");b.className="Dialog-buttons",o.appendChild(b);const Q=new le(t.getKey("sidebar/project/render"));Q.setWidth("80px"),Q.onClick(async()=>{const y=new Fd.Player;await y.load(e.toJSON()),y.setPixelRatio(1),y.setSize(c.getValue(),g.getValue()),y.setClearColor(e.viewportColor);const I=c.getValue()/window.devicePixelRatio,_=g.getValue()/window.devicePixelRatio,L=y.canvas;L.style.width=I+"px",L.style.height=_+"px";const S=(screen.width-I)/2,M=(screen.height-_)/2,E=window.open("","_blank",`location=no,left=${S},top=${M},width=${I},height=${_}`),G=document.createElement("meta");G.name="viewport",G.content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0",E.document.head.appendChild(G),E.document.body.style.background="#000",E.document.body.style.margin="0px",E.document.body.style.overflow="hidden",E.document.body.appendChild(L);const F=document.createElement("div");F.style.position="absolute",F.style.top="10px",F.style.left="10px",F.style.color="white",F.style.fontFamily="system-ui",F.style.fontSize="12px",F.style.textShadow="0 0 2px black",E.document.body.appendChild(F);const $=document.createElement("video");$.width=I,$.height=_,$.controls=!0,$.loop=!0,$.hidden=!0,E.document.body.appendChild($),E.addEventListener("unload",function(){$.src.startsWith("blob:")&&URL.revokeObjectURL($.src)});const Y=l.getValue(),N=m.getValue()*Y,O=[];let H=null;const j=new VideoEncoder({output:(U,V)=>{var w;(w=V==null?void 0:V.decoderConfig)!=null&&w.description&&(H=new Uint8Array(V.decoderConfig.description));const P=new Uint8Array(U.byteLength);U.copyTo(P),O.push({data:P,timestamp:U.timestamp,type:U.type})},error:U=>console.error("VideoEncoder error:",U)}),v={low:2e6,medium:5e6,high:1e7,ultra:2e7};j.configure({codec:"avc1.640028",width:c.getValue(),height:g.getValue(),bitrate:v[h.getValue()],framerate:Y,avc:{format:"avc"}});let k=0,q=!1;for(let U=0;U<N;U++){if(E.closed){q=!0;break}y.render(k);const V=await createImageBitmap(L),P=new VideoFrame(V,{timestamp:U*(1e6/Y)});j.encode(P,{keyFrame:U%Y===0}),P.close(),V.close(),k+=1/Y;const w=Math.floor((U+1)/N*100);F.textContent=`${U+1} / ${N} ( ${w}% )`}if(!q){await j.flush(),j.close(),E.document.body.removeChild(L);const U=Kd(O,H,c.getValue(),g.getValue(),Y);F.textContent=`${N} / ${N} ( 100% ) ${Ud(U.byteLength)} `,$.src=URL.createObjectURL(new Blob([U],{type:"video/mp4"})),$.hidden=!1}y.dispose(),this.close()}),b.appendChild(Q.dom);const f=new le(t.getKey("menubar/render/cancel"));f.setWidth("80px"),f.setMarginLeft("8px"),f.onClick(()=>this.close()),b.appendChild(f.dom)}close(){this.dom.remove()}}function Kd(a,e,t,s,n){const r=9e4/n;function o(R){return new Uint8Array([R>>24&255,R>>16&255,R>>8&255,R&255])}function d(R){return new Uint8Array([R>>8&255,R&255])}function A(R){return new TextEncoder().encode(R)}function c(...R){const X=R.reduce((ee,se)=>ee+se.length,0),T=new Uint8Array(X);let z=0;for(const ee of R)T.set(ee,z),z+=ee.length;return T}function g(R,...X){const T=c(...X),z=T.length+8;return c(o(z),A(R),T)}function l(R,X,T,...z){return g(R,new Uint8Array([X,T>>16&255,T>>8&255,T&255]),...z)}const u=g("ftyp",A("isom"),o(512),A("isom"),A("iso2"),A("avc1"),A("mp41")),m=[],p=[];for(let R=0;R<a.length;R++)m.push(a[R].data.length),a[R].type==="key"&&p.push(R+1);let h=8;for(const R of a)h+=R.data.length;const b=g("avc1",new Uint8Array(6),d(1),new Uint8Array(16),d(t),d(s),o(4718592),o(4718592),o(0),d(1),new Uint8Array(32),d(24),new Uint8Array([255,255]),g("avcC",e)),Q=l("stsd",0,0,o(1),b),f=l("stts",0,0,o(1),o(a.length),o(r)),y=l("stsc",0,0,o(1),o(1),o(a.length),o(1)),I=[o(0),o(a.length)];for(const R of m)I.push(o(R));const _=l("stsz",0,0,...I),L=l("stco",0,0,o(1),o(0)),S=[o(p.length)];for(const R of p)S.push(o(R));const M=l("stss",0,0,...S),E=g("stbl",Q,f,y,_,L,M),G=l("dref",0,0,o(1),l("url ",0,1)),F=g("dinf",G),$=l("vmhd",0,1,new Uint8Array(8)),Y=g("minf",$,F,E),W=l("hdlr",0,0,o(0),A("vide"),new Uint8Array(12),A("VideoHandler"),new Uint8Array(1)),N=a.length*r,O=l("mdhd",0,0,o(0),o(0),o(9e4),o(N),d(21956),d(0)),H=g("mdia",O,W,Y),j=l("tkhd",0,3,o(0),o(0),o(1),o(0),o(N),new Uint8Array(8),d(0),d(0),d(0),d(0),o(65536),o(0),o(0),o(0),o(65536),o(0),o(0),o(0),o(1073741824),o(t<<16),o(s<<16)),v=g("trak",j,H),k=l("mvhd",0,0,o(0),o(0),o(9e4),o(N),o(65536),d(256),new Uint8Array(10),o(65536),o(0),o(0),o(0),o(65536),o(0),o(0),o(0),o(1073741824),new Uint8Array(24),o(2)),q=g("moov",k,v),U=u.length+q.length,V=new Uint8Array(q);for(let R=0;R<V.length-16;R++)if(V[R]===115&&V[R+1]===116&&V[R+2]===99&&V[R+3]===111){const X=U+8;V[R+12]=X>>24&255,V[R+13]=X>>16&255,V[R+14]=X>>8&255,V[R+15]=X&255;break}const P=o(h),w=new Uint8Array(u.length+V.length+h);let D=0;w.set(u,D),D+=u.length,w.set(V,D),D+=V.length,w.set(P,D),w.set(A("mdat"),D+4),D+=8;for(const R of a)w.set(R.data,D),D+=R.data.length;return w}function Ud(a,e=1024){if(a===0)return"0B";const t=[a,a/e,a/e/e].reverse(),s=["B","KB","MB"].reverse(),n=t.findIndex(i=>i>=1);return new Intl.NumberFormat("en-us",{useGrouping:!0,maximumFractionDigits:1}).format(t[n])+s[n]}function Od(a){const e=a.strings,t=new re;t.setClass("menu");const s=new re;s.setClass("title"),s.setTextContent(e.getKey("menubar/help")),t.add(s);const n=new re;n.setClass("options"),t.add(n);let i=new C;return i.setClass("option"),i.setTextContent(e.getKey("menubar/help/source_code")),i.onClick(function(){window.open("https://github.com/mrdoob/three.js/tree/master/editor","_blank")}),n.add(i),i=new C,i.setClass("option"),i.setTextContent(e.getKey("menubar/help/about")),i.onClick(function(){window.open("https://threejs.org","_blank")}),n.add(i),i=new C,i.setClass("option"),i.setTextContent(e.getKey("menubar/help/manual")),i.onClick(function(){window.open("https://github.com/mrdoob/three.js/wiki/Editor-Manual","_blank")}),n.add(i),t}const Hd=new Ja(-1,1,1,-1,0,1);class Jd extends Ut{constructor(){super(),this.setAttribute("position",new Ot([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Ot([0,2,0,0,2,0],2))}}const Yd=new Jd;class qd{constructor(e){this._mesh=new K(Yd,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,Hd)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}const Et=new Map;class Fa extends ct{constructor(e){super();const t=this,s=document.createElement("form"),n=document.createElement("input");n.type="file",n.addEventListener("change",function(o){r(o.target.files[0])}),s.appendChild(n);const i=document.createElement("canvas");i.width=32,i.height=16,i.style.cursor="pointer",i.style.marginRight="5px",i.style.border="1px solid #888",i.addEventListener("click",function(){n.click()}),i.addEventListener("drop",function(o){o.preventDefault(),o.stopPropagation(),r(o.dataTransfer.files[0])}),this.dom.appendChild(i);async function r(o){const d=o.name.split(".").pop().toLowerCase(),A=new FileReader,c=`${o.lastModified}_${o.size}_${o.name}`;if(Et.has(c)){const g=Et.get(c);t.setValue(g),t.onChangeCallback&&t.onChangeCallback(g)}else d==="hdr"||d==="pic"?(A.addEventListener("load",async function(g){const{HDRLoader:l}=await te(async()=>{const{HDRLoader:m}=await import("./HDRLoader-Bd45QZq3.js");return{HDRLoader:m}},__vite__mapDeps([31,1,2]));new l().load(g.target.result,function(m){m.sourceFile=o.name,Et.set(c,m),t.setValue(m),t.onChangeCallback&&t.onChangeCallback(m)})}),A.readAsDataURL(o)):d==="tga"?(A.addEventListener("load",async function(g){const{TGALoader:l}=await te(async()=>{const{TGALoader:m}=await Promise.resolve().then(()=>Gr);return{TGALoader:m}},void 0);new l().load(g.target.result,function(m){m.colorSpace=Ye,m.sourceFile=o.name,Et.set(c,m),t.setValue(m),t.onChangeCallback&&t.onChangeCallback(m)})},!1),A.readAsDataURL(o)):d==="ktx2"?(A.addEventListener("load",async function(g){const{KTX2Loader:l}=await te(async()=>{const{KTX2Loader:h}=await import("./KTX2Loader-CElKkN-S.js");return{KTX2Loader:h}},__vite__mapDeps([24,1,2])),u=g.target.result,m=URL.createObjectURL(new Blob([u])),p=new l;p.setTranscoderPath("../../examples/jsm/libs/basis/"),e.signals.rendererDetectKTX2Support.dispatch(p),p.load(m,function(h){h.colorSpace=Ye,h.sourceFile=o.name,h.needsUpdate=!0,Et.set(c,h),t.setValue(h),t.onChangeCallback&&t.onChangeCallback(h),p.dispose()})}),A.readAsArrayBuffer(o)):d==="exr"?(A.addEventListener("load",async function(g){const{EXRLoader:l}=await te(async()=>{const{EXRLoader:h}=await import("./EXRLoader-BhQuHtqe.js");return{EXRLoader:h}},__vite__mapDeps([3,1,2])),u=g.target.result,m=URL.createObjectURL(new Blob([u]));new l().load(m,function(h){h.sourceFile=o.name,h.needsUpdate=!0,Et.set(c,h),t.setValue(h),t.onChangeCallback&&t.onChangeCallback(h)})}),A.readAsArrayBuffer(o)):o.type.match("image.*")&&(A.addEventListener("load",function(g){const l=document.createElement("img");l.addEventListener("load",function(){const u=new hs(this);u.sourceFile=o.name,u.needsUpdate=!0,Et.set(c,u),t.setValue(u),t.onChangeCallback&&t.onChangeCallback(u)},!1),l.src=g.target.result},!1),A.readAsDataURL(o));s.reset()}this.texture=null,this.onChangeCallback=null}getValue(){return this.texture}setValue(e){const t=this.dom.children[0],s=t.getContext("2d");if(s&&s.clearRect(0,0,t.width,t.height),e!==null){const n=e.image;if(n!=null&&n.width>0){t.title=e.sourceFile;const i=t.width/n.width;if(e.isDataTexture||e.isCompressedTexture){const r=Wd(e);s.drawImage(r,0,0,n.width*i,n.height*i)}else s.drawImage(n,0,0,n.width*i,n.height*i)}else t.title=e.sourceFile+" (error)"}else t.title="empty";this.texture=e}setColorSpace(e){const t=this.getValue();return t!==null&&(t.colorSpace=e),this}onChange(e){return this.onChangeCallback=e,this}}class vi extends Ae{constructor(e){super(),this.dom.className="Outliner",this.dom.tabIndex=0;const t=this;this.scene=e.scene,this.dom.addEventListener("keydown",function(s){switch(s.code){case"ArrowUp":case"ArrowDown":s.preventDefault(),s.stopPropagation();break}}),this.dom.addEventListener("keyup",function(s){switch(s.code){case"ArrowUp":t.selectIndex(t.selectedIndex-1);break;case"ArrowDown":t.selectIndex(t.selectedIndex+1);break}}),this.editor=e,this.options=[],this.selectedIndex=-1,this.selectedValue=null}selectIndex(e){if(e>=0&&e<this.options.length){this.setValue(this.options[e].value);const t=new Event("change",{bubbles:!0,cancelable:!0});this.dom.dispatchEvent(t)}}setOptions(e){const t=this;for(;t.dom.children.length>0;)t.dom.removeChild(t.dom.firstChild);function s(){t.setValue(this.value);const g=new Event("change",{bubbles:!0,cancelable:!0});t.dom.dispatchEvent(g)}let n;function i(){n=this}function r(g){g.dataTransfer.setData("text","foo")}function o(g){if(this===n)return;const l=g.offsetY/this.clientHeight;l<.25?this.className="option dragTop":l>.75?this.className="option dragBottom":this.className="option drag"}function d(){this!==n&&(this.className="option")}function A(g){if(this===n||n===void 0)return;this.className="option";const l=t.scene,u=l.getObjectById(n.value),m=g.offsetY/this.clientHeight;if(m<.25){const p=l.getObjectById(this.value);c(u,p.parent,p)}else if(m>.75){let p,h;this.nextSibling!==null?(p=l.getObjectById(this.nextSibling.value),h=p.parent):(p=null,h=l.getObjectById(this.value).parent),c(u,h,p)}else{const p=l.getObjectById(this.value);c(u,p)}}function c(g,l,u){u===null&&(u=void 0);let m=!1;if(g.traverse(function(b){b===l&&(m=!0)}),m)return;const p=t.editor;p.execute(new mi(p,g,l,u));const h=new Event("change",{bubbles:!0,cancelable:!0});t.dom.dispatchEvent(h)}t.options=[];for(let g=0;g<e.length;g++){const l=e[g];l.className="option",t.dom.appendChild(l),t.options.push(l),l.addEventListener("click",s),l.draggable===!0&&(l.addEventListener("drag",i),l.addEventListener("dragstart",r),l.addEventListener("dragover",o),l.addEventListener("dragleave",d),l.addEventListener("drop",A))}return t}getValue(){return this.selectedValue}setValue(e){for(let t=0;t<this.options.length;t++){const s=this.options[t];if(s.value===e){s.classList.add("active");const n=s.offsetTop-this.dom.offsetTop,r=n+s.offsetHeight-this.dom.offsetHeight;this.dom.scrollTop>n?this.dom.scrollTop=n:this.dom.scrollTop<r&&(this.dom.scrollTop=r),this.selectedIndex=t}else s.classList.remove("active")}return this.selectedValue=e,this}}class Mi extends ct{constructor(){super(),this.dom.style.display="inline-block",this.pointsList=new Ae,this.add(this.pointsList),this.pointsUI=[],this.lastPointIdx=0,this.onChangeCallback=null,this.update=()=>{this.onChangeCallback!==null&&this.onChangeCallback()}}onChange(e){return this.onChangeCallback=e,this}clear(){for(let e=this.pointsUI.length-1;e>=0;--e)this.deletePointRow(e,!1);this.lastPointIdx=0}deletePointRow(e,t=!0){this.pointsUI[e]&&(this.pointsList.remove(this.pointsUI[e].row),this.pointsUI.splice(e,1),t===!0&&this.update(),this.lastPointIdx--)}}class zd extends Mi{constructor(){super();const e=new C;this.add(e);const t=new le("+");t.onClick(()=>{if(this.pointsUI.length===0)this.pointsList.add(this.createPointRow(0,0));else{const s=this.pointsUI[this.pointsUI.length-1];this.pointsList.add(this.createPointRow(s.x.getValue(),s.y.getValue()))}this.update()}),e.add(t)}getValue(){const e=[];let t=0;for(let s=0;s<this.pointsUI.length;s++){const n=this.pointsUI[s];n&&(e.push(new Je(n.x.getValue(),n.y.getValue())),++t,n.lbl.setValue(t))}return e}setValue(e,t=!0){this.clear();for(let s=0;s<e.length;s++){const n=e[s];this.pointsList.add(this.createPointRow(n.x,n.y))}return t===!0&&this.update(),this}createPointRow(e,t){const s=new Ae,n=new B(this.lastPointIdx+1).setWidth("20px"),i=new J(e).setWidth("30px").onChange(this.update),r=new J(t).setWidth("30px").onChange(this.update),o=this,d=new le("-").onClick(function(){if(o.isEditing)return;const A=o.pointsList.getIndexOfChild(s);o.deletePointRow(A)});return this.pointsUI.push({row:s,lbl:n,x:i,y:r}),++this.lastPointIdx,s.add(n,i,r,d),s}}class Xd extends Mi{constructor(){super();const e=new C;this.add(e);const t=new le("+");t.onClick(()=>{if(this.pointsUI.length===0)this.pointsList.add(this.createPointRow(0,0,0));else{const s=this.pointsUI[this.pointsUI.length-1];this.pointsList.add(this.createPointRow(s.x.getValue(),s.y.getValue(),s.z.getValue()))}this.update()}),e.add(t)}getValue(){const e=[];let t=0;for(let s=0;s<this.pointsUI.length;s++){const n=this.pointsUI[s];n&&(e.push(new Z(n.x.getValue(),n.y.getValue(),n.z.getValue())),++t,n.lbl.setValue(t))}return e}setValue(e,t=!0){this.clear();for(let s=0;s<e.length;s++){const n=e[s];this.pointsList.add(this.createPointRow(n.x,n.y,n.z))}return t===!0&&this.update(),this}createPointRow(e,t,s){const n=new Ae,i=new B(this.lastPointIdx+1).setWidth("20px"),r=new J(e).setWidth("30px").onChange(this.update),o=new J(t).setWidth("30px").onChange(this.update),d=new J(s).setWidth("30px").onChange(this.update),A=this,c=new le("-").onClick(function(){if(A.isEditing)return;const g=A.pointsList.getIndexOfChild(n);A.deletePointRow(g)});return this.pointsUI.push({row:n,lbl:i,x:r,y:o,z:d}),++this.lastPointIdx,n.add(i,r,o,d,c),n}}class Pa extends ct{constructor(e,t){super(),this.setMarginRight("4px"),this.checkbox=new ot(e),this.text=new B(t).setMarginLeft("3px"),this.add(this.checkbox),this.add(this.text)}getValue(){return this.checkbox.getValue()}setValue(e){return this.checkbox.setValue(e)}}let ia,xa;function Wd(a){ia===void 0&&(ia=new Mn),xa===void 0&&(xa=new qd(new Ge));const e=a.image;return ia.setSize(e.width,e.height,!1),xa.material.map=a,xa.render(ia),ia.domElement}function Zd(a){const e=a.strings,t=new re;t.setClass("menu right");const s=new Pa(a.config.getKey("autosave"),e.getKey("menubar/status/autosave"));s.text.setColor("#888"),s.onChange(function(){const i=this.getValue();a.config.setKey("autosave",i),i===!0&&a.signals.sceneGraphChanged.dispatch()}),t.add(s),a.signals.savingStarted.add(function(){s.text.setTextDecoration("underline")}),a.signals.savingFinished.add(function(){s.text.setTextDecoration("none")});const n=new B("r"+wr);return n.setClass("title"),n.setOpacity(.5),t.add(n),t}function bl(a){const e=new re;return e.setId("menubar"),e.add(new Gd(a)),e.add(new Nd(a)),e.add(new Td(a)),e.add(new kd(a)),e.add(new Vd(a)),e.add(new Od(a)),e.add(new Zd(a)),e}function fl(a){const e=a.signals,t=a.strings,s=new re;s.setId("toolbar");const n=document.createElement("img");n.title=t.getKey("toolbar/translate"),n.src="images/translate.svg";const i=new le;i.dom.className="Button selected",i.dom.appendChild(n),i.onClick(function(){e.transformModeChanged.dispatch("translate")}),s.add(i);const r=document.createElement("img");r.title=t.getKey("toolbar/rotate"),r.src="images/rotate.svg";const o=new le;o.dom.appendChild(r),o.onClick(function(){e.transformModeChanged.dispatch("rotate")}),s.add(o);const d=document.createElement("img");d.title=t.getKey("toolbar/scale"),d.src="images/scale.svg";const A=new le;return A.dom.appendChild(d),A.onClick(function(){e.transformModeChanged.dispatch("scale")}),s.add(A),e.transformModeChanged.add(function(c){switch(i.dom.classList.remove("selected"),o.dom.classList.remove("selected"),A.dom.classList.remove("selected"),c){case"translate":i.dom.classList.add("selected");break;case"rotate":o.dom.classList.add("selected");break;case"scale":A.dom.classList.add("selected");break}}),s}function $d(a){const e=a.signals,t=a.strings,s=new re;s.setBorderTop("0"),s.setPaddingTop("20px");const n=new WeakMap;function i(w,D){const R=document.createElement("div");if(R.draggable=D,R.innerHTML=A(w),R.value=w.id,n.has(w)){const X=n.get(w),T=document.createElement("span");T.classList.add("opener"),w.children.length>0&&T.classList.add(X?"open":"closed"),T.addEventListener("click",function(){n.set(w,n.get(w)===!1),V()}),R.insertBefore(T,R.firstChild)}return R}function r(w){if(Array.isArray(w)){const D=[];for(let R=0;R<w.length;R++)D.push(w[R].name);return D.join(",")}return w.name}function o(w){return w.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function d(w){return w.isScene?"Scene":w.isCamera?"Camera":w.isLight?"Light":w.isMesh?"Mesh":w.isLine?"Line":w.isPoints?"Points":"Object3D"}function A(w){let D=`<span class="type ${d(w)}"></span> ${o(w.name)}`;if(w.isMesh){const R=w.geometry,X=w.material;D+=` <span class="type Geometry"></span> ${o(R.name)}`,D+=` <span class="type Material"></span> ${o(r(X))}`}return D+=c(w.uuid),D}function c(w){return a.scripts[w]===void 0||a.scripts[w].length===0?"":' <span class="type Script"></span>'}let g=!1;const l=new vi(a);l.setId("outliner"),l.onChange(function(){g=!0,a.selectById(parseInt(l.getValue())),g=!1}),l.onDblClick(function(){a.focusById(parseInt(l.getValue()))}),s.add(l),s.add(new Te);const u=new C,m=new Ke().setOptions({Default:"Default",Color:"Color",Texture:"Texture",Equirectangular:"Equirect"}).setWidth("150px");m.setValue("Default"),m.onChange(function(){S(),M()}),u.add(new B(t.getKey("sidebar/scene/background")).setClass("Label")),u.add(m);const p=new ba().setValue("#000000").setMarginLeft("8px").onInput(S);u.add(p);const h=new Fa(a).setMarginLeft("8px").onChange(S);h.setDisplay("none"),u.add(h);const b=new Fa(a).setMarginLeft("8px").onChange(S);b.setDisplay("none"),u.add(b);const Q=new C;Q.setDisplay("none"),Q.setMarginLeft("120px");const f=new Ke().setOptions({[ts]:"No Color Space",[rt]:"srgb-linear",[Ye]:"srgb"}).setWidth("150px");f.setValue(ts),f.onChange(S),Q.add(f),s.add(u),s.add(Q);const y=new C;y.setDisplay("none"),y.setMarginLeft("120px");const I=new J(0).setWidth("40px").setRange(0,1).onChange(S);y.add(I);const _=new J(1).setWidth("40px").setRange(0,1/0).onChange(S);y.add(_);const L=new J(0).setWidth("40px").setRange(-180,180).setStep(10).setNudge(.1).setUnit("").onChange(S);y.add(L),s.add(y);function S(){e.sceneBackgroundChanged.dispatch(m.getValue(),p.getHexValue(),h.getValue(),b.getValue(),f.getValue(),I.getValue(),_.getValue(),L.getValue())}function M(){const w=m.getValue();m.setWidth(w==="Default"?"150px":"110px"),p.setDisplay(w==="Color"?"":"none"),h.setDisplay(w==="Texture"?"":"none"),b.setDisplay(w==="Equirectangular"?"":"none"),y.setDisplay(w==="Equirectangular"?"":"none"),w==="Texture"||w==="Equirectangular"?Q.setDisplay(""):Q.setDisplay("none")}const E=new C,G=new Ke().setOptions({Default:"Default",Equirectangular:"Equirect",None:"None"}).setWidth("150px");G.setValue("Default"),G.onChange(function(){$(),Y()}),E.add(new B(t.getKey("sidebar/scene/environment")).setClass("Label")),E.add(G);const F=new Fa(a).setMarginLeft("8px").onChange($);F.setDisplay("none"),E.add(F),s.add(E);function $(){e.sceneEnvironmentChanged.dispatch(G.getValue(),F.getValue())}function Y(){const w=G.getValue();G.setWidth(w!=="Equirectangular"?"150px":"110px"),F.setDisplay(w==="Equirectangular"?"":"none")}function W(){e.sceneFogChanged.dispatch(H.getValue(),v.getHexValue(),k.getValue(),q.getValue(),U.getValue())}function N(){e.sceneFogSettingsChanged.dispatch(H.getValue(),v.getHexValue(),k.getValue(),q.getValue(),U.getValue())}const O=new C,H=new Ke().setOptions({None:"None",Fog:"Linear",FogExp2:"Exponential"}).setWidth("150px");H.onChange(function(){W(),P()}),O.add(new B(t.getKey("sidebar/scene/fog")).setClass("Label")),O.add(H),s.add(O);const j=new C;j.setDisplay("none"),j.setMarginLeft("120px"),s.add(j);const v=new ba().setValue("#aaaaaa");v.onInput(N),j.add(v);const k=new J(.1).setWidth("40px").setRange(0,1/0).onChange(N);j.add(k);const q=new J(50).setWidth("40px").setRange(0,1/0).onChange(N);j.add(q);const U=new J(.05).setWidth("40px").setRange(0,.1).setStep(.001).setPrecision(3).onChange(N);j.add(U);function V(){const w=a.camera,D=a.scene,R=[];switch(R.push(i(w,!1)),R.push(i(D,!1)),(function X(T,z){for(let ee=0,se=T.length;ee<se;ee++){const fe=T[ee];n.has(fe)===!1&&n.set(fe,!1);const je=i(fe,!0);je.style.paddingLeft=z*18+"px",R.push(je),n.get(fe)===!0&&X(fe.children,z+1)}})(D.children,0),l.setOptions(R),a.selected!==null&&l.setValue(a.selected.id),m.setValue(a.backgroundType),a.backgroundType){case"Color":p.setHexValue(D.background.getHex());break;case"Texture":h.setValue(D.background),f.setValue(D.background.colorSpace);break;case"Equirectangular":b.setValue(D.background),I.setValue(D.backgroundBlurriness),_.setValue(D.backgroundIntensity),f.setValue(D.background.colorSpace);break;default:h.setValue(null),b.setValue(null),f.setValue(ts)}G.setValue(a.environmentType),a.environmentType==="Equirectangular"?F.setValue(D.environment):F.setValue(null),D.fog?(v.setHexValue(D.fog.color.getHex()),D.fog.isFog?(H.setValue("Fog"),k.setValue(D.fog.near),q.setValue(D.fog.far)):D.fog.isFogExp2&&(H.setValue("FogExp2"),U.setValue(D.fog.density))):H.setValue("None"),M(),Y(),P()}function P(){const w=H.getValue();j.setDisplay(w==="None"?"none":""),k.setDisplay(w==="Fog"?"":"none"),q.setDisplay(w==="Fog"?"":"none"),U.setDisplay(w==="FogExp2"?"":"none")}return V(),e.editorCleared.add(V),e.sceneGraphChanged.add(V),e.objectChanged.add(function(w){const D=l.options;for(let R=0;R<D.length;R++){const X=D[R];if(X.value===w.id){const T=X.querySelector(":scope > .opener"),z=T?T.outerHTML:"";X.innerHTML=z+A(w);return}}}),e.scriptAdded.add(function(){a.selected!==null&&e.objectChanged.dispatch(a.selected)}),e.scriptRemoved.add(function(){a.selected!==null&&e.objectChanged.dispatch(a.selected)}),e.objectSelected.add(function(w){if(g!==!0)if(w!==null&&w.parent!==null){let D=!1,R=w.parent;for(;R!==a.scene;)n.get(R)!==!0&&(n.set(R,!0),D=!0),R=R.parent;D&&V(),l.setValue(w.id)}else l.setValue(null)}),e.sceneBackgroundChanged.add(function(){G.getValue()==="Background"&&($(),Y())}),s}function eA(a){const e=a.strings,t=a.signals,s=a.mixer;function n(c){return c.isRunning()?e.getKey("sidebar/animations/stop"):e.getKey("sidebar/animations/play")}function i(c,g){const l=s.clipAction(c,g),u=new C,m=new B(c.name).setWidth("200px");u.add(m);const p=new le(n(l));return p.onClick(function(){l.isRunning()?l.stop():l.play(),p.setTextContent(n(l))}),u.add(p),u}t.objectSelected.add(function(c){if(c!==null&&c.animations.length>0){o.clear();const g=c.animations;for(const l of g)o.add(new i(l,c));r.setDisplay("")}else r.setDisplay("none")}),t.objectRemoved.add(function(c){c!==null&&c.animations.length>0&&s.uncacheRoot(c)});const r=new Ae;r.setMarginTop("20px"),r.setDisplay("none"),r.add(new B(e.getKey("sidebar/animations")).setTextTransform("uppercase")),r.add(new Te),r.add(new Te);const o=new Ae;r.add(o);const d=new C,A=new J(1).setWidth("60px").setRange(-10,10);return A.onChange(function(){s.timeScale=A.getValue()}),d.add(new B(e.getKey("sidebar/animations/timescale")).setClass("Label")),d.add(A),r.add(d),r}function tA(a){const e=a.strings,t=a.signals,s=new re;s.setBorderTop("0"),s.setPaddingTop("20px"),s.setDisplay("none");const n=new C,i=new B;n.add(new B(e.getKey("sidebar/object/type")).setClass("Label")),n.add(i),s.add(n);const r=new C,o=new ft().setWidth("102px").setFontSize("12px").setDisabled(!0),d=new le(e.getKey("sidebar/object/new")).setMarginLeft("7px").onClick(function(){o.setValue(ne.generateUUID()),a.execute(new _s(a,a.selected,o.getValue()))});r.add(new B(e.getKey("sidebar/object/uuid")).setClass("Label")),r.add(o),r.add(d),s.add(r);const A=new C,c=new ft().setWidth("150px").setFontSize("12px").onChange(function(){a.execute(new Ie(a,a.selected,"name",c.getValue()))});A.add(new B(e.getKey("sidebar/object/name")).setClass("Label")),A.add(c),s.add(A);const g=new C,l=new J().setPrecision(3).setWidth("50px").onChange(de),u=new J().setPrecision(3).setWidth("50px").onChange(de),m=new J().setPrecision(3).setWidth("50px").onChange(de);g.add(new B(e.getKey("sidebar/object/position")).setClass("Label")),g.add(l,u,m),s.add(g);const p=new C,h=new J().setStep(10).setNudge(.1).setUnit("").setWidth("50px").onChange(de),b=new J().setStep(10).setNudge(.1).setUnit("").setWidth("50px").onChange(de),Q=new J().setStep(10).setNudge(.1).setUnit("").setWidth("50px").onChange(de);p.add(new B(e.getKey("sidebar/object/rotation")).setClass("Label")),p.add(h,b,Q),s.add(p);const f=new C,y=new J(1).setPrecision(3).setWidth("50px").onChange(de),I=new J(1).setPrecision(3).setWidth("50px").onChange(de),_=new J(1).setPrecision(3).setWidth("50px").onChange(de);f.add(new B(e.getKey("sidebar/object/scale")).setClass("Label")),f.add(y,I,_),s.add(f);const L=new C,S=new J().onChange(de);L.add(new B(e.getKey("sidebar/object/fov")).setClass("Label")),L.add(S),s.add(L);const M=new C,E=new J().onChange(de);M.add(new B(e.getKey("sidebar/object/left")).setClass("Label")),M.add(E),s.add(M);const G=new C,F=new J().onChange(de);G.add(new B(e.getKey("sidebar/object/right")).setClass("Label")),G.add(F),s.add(G);const $=new C,Y=new J().onChange(de);$.add(new B(e.getKey("sidebar/object/top")).setClass("Label")),$.add(Y),s.add($);const W=new C,N=new J().onChange(de);W.add(new B(e.getKey("sidebar/object/bottom")).setClass("Label")),W.add(N),s.add(W);const O=new C,H=new J().onChange(de);O.add(new B(e.getKey("sidebar/object/near")).setClass("Label")),O.add(H),s.add(O);const j=new C,v=new J().onChange(de);j.add(new B(e.getKey("sidebar/object/far")).setClass("Label")),j.add(v),s.add(j);const k=new C,q=new J().onChange(de);k.add(new B(e.getKey("sidebar/object/intensity")).setClass("Label")),k.add(q),s.add(k);const U=new C,V=new ba().onInput(de);U.add(new B(e.getKey("sidebar/object/color")).setClass("Label")),U.add(V),s.add(U);const P=new C,w=new ba().onInput(de);P.add(new B(e.getKey("sidebar/object/groundcolor")).setClass("Label")),P.add(w),s.add(P);const D=new C,R=new J().setRange(0,1/0).onChange(de);D.add(new B(e.getKey("sidebar/object/distance")).setClass("Label")),D.add(R),s.add(D);const X=new C,T=new J().setPrecision(3).setRange(0,Math.PI/2).onChange(de);X.add(new B(e.getKey("sidebar/object/angle")).setClass("Label")),X.add(T),s.add(X);const z=new C,ee=new J().setRange(0,1).onChange(de);z.add(new B(e.getKey("sidebar/object/penumbra")).setClass("Label")),z.add(ee),s.add(z);const se=new C,fe=new J().setRange(0,1/0).onChange(de);se.add(new B(e.getKey("sidebar/object/decay")).setClass("Label")),se.add(fe),s.add(se);const je=new C;je.add(new B(e.getKey("sidebar/object/shadow")).setClass("Label"));const gt=new Pa(!1,e.getKey("sidebar/object/cast")).onChange(de);je.add(gt);const Ze=new Pa(!1,e.getKey("sidebar/object/receive")).onChange(de);je.add(Ze),s.add(je);const vt=new C;vt.add(new B(e.getKey("sidebar/object/shadowIntensity")).setClass("Label"));const Mt=new J(0).setRange(0,1).onChange(de);vt.add(Mt),s.add(vt);const Dt=new C;Dt.add(new B(e.getKey("sidebar/object/shadowBias")).setClass("Label"));const Rt=new J(0).setPrecision(5).setStep(1e-4).setNudge(1e-5).onChange(de);Dt.add(Rt),s.add(Dt);const _t=new C;_t.add(new B(e.getKey("sidebar/object/shadowNormalBias")).setClass("Label"));const Lt=new J(0).onChange(de);_t.add(Lt),s.add(_t);const Tt=new C;Tt.add(new B(e.getKey("sidebar/object/shadowRadius")).setClass("Label"));const Nt=new J(1).onChange(de);Tt.add(Nt),s.add(Tt);const Yt=new C,Gt=new ot().onChange(de);Yt.add(new B(e.getKey("sidebar/object/visible")).setClass("Label")),Yt.add(Gt),s.add(Yt);const qt=new C,kt=new ot().onChange(de);qt.add(new B(e.getKey("sidebar/object/frustumcull")).setClass("Label")),qt.add(kt),s.add(qt);const zt=new C,Ft=new ie().setWidth("50px").onChange(de);zt.add(new B(e.getKey("sidebar/object/renderorder")).setClass("Label")),zt.add(Ft),s.add(zt);const Xt=new C,Pe=new Ls().setWidth("150px").setHeight("40px").setFontSize("12px").onChange(de);Pe.onKeyUp(function(){try{JSON.parse(Pe.getValue()),Pe.dom.classList.add("success"),Pe.dom.classList.remove("fail")}catch{Pe.dom.classList.remove("success"),Pe.dom.classList.add("fail")}}),Xt.add(new B(e.getKey("sidebar/object/userdata")).setClass("Label")),Xt.add(Pe),s.add(Xt);const Wt=new le(e.getKey("sidebar/object/export"));Wt.setMarginLeft("120px"),Wt.onClick(function(){let De=a.selected.toJSON();try{De=JSON.stringify(De,null,"	"),De=De.replace(/[\n\t]+([\d\.e\-\[\]]+)/g,"$1")}catch{De=JSON.stringify(De)}a.utils.save(new Blob([De]),`${c.getValue()||"object"}.json`)}),s.add(Wt),s.add(new eA(a));function de(){const x=a.selected;if(x!==null){const De=new Z(l.getValue(),u.getValue(),m.getValue());x.position.distanceTo(De)>=.01&&a.execute(new za(a,x,De));const qe=new at(h.getValue()*ne.DEG2RAD,b.getValue()*ne.DEG2RAD,Q.getValue()*ne.DEG2RAD);new Z().setFromEuler(x.rotation).distanceTo(new Z().setFromEuler(qe))>=.01&&a.execute(new Vs(a,x,qe));const Se=new Z(y.getValue(),I.getValue(),_.getValue());x.scale.distanceTo(Se)>=.01&&a.execute(new js(a,x,Se)),x.fov!==void 0&&Math.abs(x.fov-S.getValue())>=.01&&(a.execute(new Ie(a,x,"fov",S.getValue())),x.updateProjectionMatrix()),x.left!==void 0&&Math.abs(x.left-E.getValue())>=.01&&(a.execute(new Ie(a,x,"left",E.getValue())),x.updateProjectionMatrix()),x.right!==void 0&&Math.abs(x.right-F.getValue())>=.01&&(a.execute(new Ie(a,x,"right",F.getValue())),x.updateProjectionMatrix()),x.top!==void 0&&Math.abs(x.top-Y.getValue())>=.01&&(a.execute(new Ie(a,x,"top",Y.getValue())),x.updateProjectionMatrix()),x.bottom!==void 0&&Math.abs(x.bottom-N.getValue())>=.01&&(a.execute(new Ie(a,x,"bottom",N.getValue())),x.updateProjectionMatrix()),x.near!==void 0&&Math.abs(x.near-H.getValue())>=.01&&(a.execute(new Ie(a,x,"near",H.getValue())),x.isOrthographicCamera&&x.updateProjectionMatrix()),x.far!==void 0&&Math.abs(x.far-v.getValue())>=.01&&(a.execute(new Ie(a,x,"far",v.getValue())),x.isOrthographicCamera&&x.updateProjectionMatrix()),x.intensity!==void 0&&Math.abs(x.intensity-q.getValue())>=.01&&a.execute(new Ie(a,x,"intensity",q.getValue())),x.color!==void 0&&x.color.getHex()!==V.getHexValue()&&a.execute(new ws(a,x,"color",V.getHexValue())),x.groundColor!==void 0&&x.groundColor.getHex()!==w.getHexValue()&&a.execute(new ws(a,x,"groundColor",w.getHexValue())),x.distance!==void 0&&Math.abs(x.distance-R.getValue())>=.01&&a.execute(new Ie(a,x,"distance",R.getValue())),x.angle!==void 0&&Math.abs(x.angle-T.getValue())>=.01&&a.execute(new Ie(a,x,"angle",T.getValue())),x.penumbra!==void 0&&Math.abs(x.penumbra-ee.getValue())>=.01&&a.execute(new Ie(a,x,"penumbra",ee.getValue())),x.decay!==void 0&&Math.abs(x.decay-fe.getValue())>=.01&&a.execute(new Ie(a,x,"decay",fe.getValue())),x.visible!==Gt.getValue()&&a.execute(new Ie(a,x,"visible",Gt.getValue())),x.frustumCulled!==kt.getValue()&&a.execute(new Ie(a,x,"frustumCulled",kt.getValue())),x.renderOrder!==Ft.getValue()&&a.execute(new Ie(a,x,"renderOrder",Ft.getValue())),x.castShadow!==void 0&&x.castShadow!==gt.getValue()&&a.execute(new Ie(a,x,"castShadow",gt.getValue())),x.receiveShadow!==Ze.getValue()&&(x.material!==void 0&&(x.material.needsUpdate=!0),a.execute(new Ie(a,x,"receiveShadow",Ze.getValue()))),x.shadow!==void 0&&(x.shadow.intensity!==Mt.getValue()&&a.execute(new la(a,x,"intensity",Mt.getValue())),x.shadow.bias!==Rt.getValue()&&a.execute(new la(a,x,"bias",Rt.getValue())),x.shadow.normalBias!==Lt.getValue()&&a.execute(new la(a,x,"normalBias",Lt.getValue())),x.shadow.radius!==Nt.getValue()&&a.execute(new la(a,x,"radius",Nt.getValue())));try{const Oe=JSON.parse(Pe.getValue());JSON.stringify(x.userData)!=JSON.stringify(Oe)&&a.execute(new Ie(a,x,"userData",Oe))}catch(Oe){console.warn(Oe)}}}function Xa(x){const De={fov:L,left:M,right:G,top:$,bottom:W,near:O,far:j,intensity:k,color:U,groundColor:P,distance:D,angle:X,penumbra:z,decay:se,castShadow:je,receiveShadow:Ze,shadow:[vt,Dt,_t,Tt]};for(const qe in De){const Se=De[qe];if(Array.isArray(Se)===!0)for(let Oe=0;Oe<Se.length;Oe++)Se[Oe].setDisplay(x[qe]!==void 0?"":"none");else Se.setDisplay(x[qe]!==void 0?"":"none")}x.isLight&&Ze.setDisplay("none"),(x.isAmbientLight||x.isHemisphereLight)&&je.setDisplay("none")}function Wa(x){x.isLight?(p.setDisplay("none"),f.setDisplay("none")):(p.setDisplay(""),f.setDisplay(""))}t.objectSelected.add(function(x){x!==null?(s.setDisplay("block"),Xa(x),Zt(x)):s.setDisplay("none")}),t.objectChanged.add(function(x){x===a.selected&&Zt(x)}),t.refreshSidebarObject3D.add(function(x){x===a.selected&&Zt(x)});function Zt(x){i.setValue(x.type),o.setValue(x.uuid),c.setValue(x.name),l.setValue(x.position.x),u.setValue(x.position.y),m.setValue(x.position.z),h.setValue(x.rotation.x*ne.RAD2DEG),b.setValue(x.rotation.y*ne.RAD2DEG),Q.setValue(x.rotation.z*ne.RAD2DEG),y.setValue(x.scale.x),I.setValue(x.scale.y),_.setValue(x.scale.z),x.fov!==void 0&&S.setValue(x.fov),x.left!==void 0&&E.setValue(x.left),x.right!==void 0&&F.setValue(x.right),x.top!==void 0&&Y.setValue(x.top),x.bottom!==void 0&&N.setValue(x.bottom),x.near!==void 0&&H.setValue(x.near),x.far!==void 0&&v.setValue(x.far),x.intensity!==void 0&&q.setValue(x.intensity),x.color!==void 0&&V.setHexValue(x.color.getHexString()),x.groundColor!==void 0&&w.setHexValue(x.groundColor.getHexString()),x.distance!==void 0&&R.setValue(x.distance),x.angle!==void 0&&T.setValue(x.angle),x.penumbra!==void 0&&ee.setValue(x.penumbra),x.decay!==void 0&&fe.setValue(x.decay),x.castShadow!==void 0&&gt.setValue(x.castShadow),x.receiveShadow!==void 0&&Ze.setValue(x.receiveShadow),x.shadow!==void 0&&(Mt.setValue(x.shadow.intensity),Rt.setValue(x.shadow.bias),Lt.setValue(x.shadow.normalBias),Nt.setValue(x.shadow.radius)),Gt.setValue(x.visible),kt.setValue(x.frustumCulled),Ft.setValue(x.renderOrder);try{Pe.setValue(JSON.stringify(x.userData,null,"  "))}catch(De){console.log(De)}Pe.setBorderColor("transparent"),Pe.setBackgroundColor(""),Wa(x)}return s}const aA=(a,e,t)=>{const s=a[e];return s?typeof s=="function"?s():Promise.resolve(s):new Promise((n,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==t?". Note that variables only represent file names one level deep.":""))))})};function Di(a){const e=a.strings,t=a.signals,s=new C;function n(i){if(i===null||i===void 0)return;const r=i.geometry;if(r){s.clear(),s.setDisplay("block");const o=new C,d=new B(e.getKey("sidebar/geometry/buffer_geometry/attributes")).setClass("Label");o.add(d);const A=new ct().setDisplay("inline-block").setVerticalAlign("middle").setWidth("160px");o.add(A);const c=r.index;c!==null&&(A.add(new B(e.getKey("sidebar/geometry/buffer_geometry/index")).setWidth("70px")),A.add(new B(a.utils.formatNumber(c.count)).setFontSize("12px")),A.add(new Te));const g=r.attributes;for(const m in g){const p=g[m];A.add(new B(m).setWidth("70px"));let h=a.utils.formatNumber(p.count)+" ("+p.itemSize+")";p.isInterleavedBufferAttribute&&(h+=" ("+p.data.stride+")"),A.add(new B(h).setFontSize("12px")),A.add(new Te)}s.add(o);const l=r.morphAttributes;if(Object.keys(l).length>0===!0){const m=new C,p=new B(e.getKey("sidebar/geometry/buffer_geometry/morphAttributes")).setClass("Label");m.add(p);const h=new ct().setDisplay("inline-block").setVerticalAlign("middle").setWidth("160px");m.add(h);for(const y in l){const I=l[y];h.add(new B(y).setWidth("70px")),h.add(new B(a.utils.formatNumber(I.length)).setFontSize("12px")),h.add(new Te)}s.add(m);const b=new C,Q=new B(e.getKey("sidebar/geometry/buffer_geometry/morphRelative")).setClass("Label");b.add(Q);const f=new ot().setValue(r.morphTargetsRelative).setDisabled(!0);b.add(f),s.add(b)}}else s.setDisplay("none")}return t.objectSelected.add(n),t.geometryChanged.add(n),s}const sA=Object.freeze(Object.defineProperty({__proto__:null,SidebarGeometryBufferGeometry:Di},Symbol.toStringTag,{value:"Module"})),nA=typeof TextDecoder>"u"?(0,module.require)("util").TextDecoder:TextDecoder;let Ri=new nA("utf-8",{ignoreBOM:!0,fatal:!0});Ri.decode();let va=null;function iA(){return(va===null||va.buffer!==Fe.memory.buffer)&&(va=new Uint8Array(Fe.memory.buffer)),va}function rA(a,e){return Ri.decode(iA().subarray(a,a+e))}const At=new Array(32).fill(void 0);At.push(void 0,null,!0,!1);let ha=At.length;function oA(a){ha===At.length&&At.push(At.length+1);const e=ha;return ha=At[e],At[e]=a,e}function dA(a){return At[a]}function AA(a){a<36||(At[a]=ha,ha=a)}function lA(a){const e=dA(a);return AA(a),e}let Ma=null;function _i(){return(Ma===null||Ma.buffer!==Fe.memory.buffer)&&(Ma=new Float32Array(Fe.memory.buffer)),Ma}let Va=0;function cs(a,e){const t=e(a.length*4);return _i().set(a,t/4),Va=a.length,t}let Da=null;function Sn(){return(Da===null||Da.buffer!==Fe.memory.buffer)&&(Da=new Int32Array(Fe.memory.buffer)),Da}function cA(a,e){return _i().subarray(a/4,a/4+e)}function gA(a,e,t){try{const l=Fe.__wbindgen_add_to_stack_pointer(-16);var s=cs(a,Fe.__wbindgen_malloc),n=Va,i=cs(e,Fe.__wbindgen_malloc),r=Va,o=cs(t,Fe.__wbindgen_malloc),d=Va;Fe.generateTangents(l,s,n,i,r,o,d);var A=Sn()[l/4+0],c=Sn()[l/4+1],g=cA(A,c).slice();return Fe.__wbindgen_free(A,c*4),g}finally{Fe.__wbindgen_add_to_stack_pointer(16)}}const Li=function(a,e){var t=rA(a,e);return oA(t)},Ti=function(a){throw lA(a)},uA="data:application/octet-stream;base64,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TQ0WIARBAnRqIgQgBCgCAEEBajYCACACQQRqIQIgA0F/aiIDDQALCyABQdgFaigCACABKALgBUUNFUEAIQJBADYCAEEBIQQDQCABQfgCaiABQdgFahBjIAEoAvwCIgMgBEF/aiIHTQ0UIAEoAvgCIAJqKAIAIQMgAUHwAmogAUHoBWoQYyABKAL0AiINIAdNDRMgASgC8AIgAmooAgAhByABQdgFaigCACENIAEoAuAFIhEgBE0NEiACIA1qQQRqIAMgB2o2AgAgAkEEaiECIARBAWoiBEGAEEcNAAsgCEEJTwRAQQAhBCABQZgGakEAQQRBCCAGGyALG2ohCCAFIQMDQCABQegCaiADKAIAEGEgAUGYBmogACABKALoAiABKALsAhAxIDAgLiAIKgIAEDwhAiABQeACaiABQdgFahBjIAEoAuQCIgYgAk0NEiABQcgFaigCACABKALQBSINIAJBAnQiBiABKALgAmooAgAiC00NESABQdgCaiABQfgFahBjIAEoAtwCIg0gAk0NECALQQJ0aiABKALYAiAGaigCAEECdGogBDYCACABQfgFaigCACELIAEoAoAGIgcgAk0NDyAGIAtqIgIgAigCAEEBajYCACADQQRqIQMgCiAEQQFqIgRHDQALCyABQdACaiABQegFahBjIAEoAtQCRQ0MIAEoAtACKAIAIQNBBCECQQEhBANAIAFByAJqIAFB6AVqEGMgASgCzAIiCiAETQ0MIAMgASgCyAIgAmooAgBJBEAgAUHAAmogAUHoBWoQYyABKALEAiIDIARNDQwgASgCwAIgAmooAgAhAwsgAkEEaiECIARBAWoiBEGAEEcNAAsgAUHgA2oiAkIANwIAIAJBCGpCADcCACABQaAGaiABQegDaikDADcDACABIAEpA+ADNwOYBiABQYgGaiABQZgGaiADEEEgASgCiAYhCiABKAKQBiELQQAhBgNAIAFBuAJqIAFB2AVqEGMgASgCvAIiAyAGTQ0KIAFByAVqKAIAIQIgASgC0AUiBCAGQQJ0IgggASgCuAJqKAIAIgNNDQkgAUGwAmogAUHoBWoQYyABKAK0AiIEIAZNDQggASgCsAIgCGooAgAiCEECTwRAIAIgA0ECdGohBEEAIQMgCiECA0AgAUGoAmogBSAEKAIAIgdBAnRqKAIAEGEgAUGYBmogACABKAKoAiABKAKsAhAxIAMgC0YNCSACIAEoApgGNgIAIAJBBGogASgCnAY2AgAgASgCoAYhDSACQQxqIAc2AgAgAkEIaiANNgIAIARBBGohBCACQRBqIQIgCCADQQFqIgNHDQALIAUgCiAAQQAgCEF/ahAECyAGQQFqIgZBgBBHDQALIBNBASATQQFLGyEFIA5BPGohAyABQYgGahBSIAFB+AVqKAIAGiABQfgFahBWIAFB6AVqKAIAGiABQegFahBWIAFB2AVqKAIAGiABQdgFahBWIAFByAVqKAIAGiABQcgFahBWQQAhAkEAIQRBACEGQQAhBwNAIAFBoAJqIAFBwANqEGMgASgCpAIiCiAETQ0GIAEoAqACIAJqKAIAIQogAUGYAmogAUHAA2oQYyABKAKcAiILIARBAWpNDQUgASgCmAIgAmpBBGooAgAhCyABQZACaiABQcADahBjIAEoApQCIgggBEECak0NBCABKAKQAiACakEIaigCACEIIAFBiAJqIAoQYSABQYgGaiAAIAEoAogCIAEoAowCEDEgAUGAAmogCxBhIAFB4ANqIAAgASgCgAIgASgChAIQMSABQfgBaiAIEGEgAUGYBmogACABKAL4ASABKAL8ARAxAkACQCABQYgGaiABQeADahALDQAgAUGIBmogAUGYBmoQCw0AIAFB4ANqIAFBmAZqEAtFDQELIAwgBk0NBCADIAMoAgBBAXI2AgAgB0EBaiEHCyACQQxqIQIgBEEDaiEEIANByABqIQMgBSAGQQFqIgZHDQALIA4gAUHAA2ooAgAgEyAHayIKIBMQECABQcADaigCACELAkACQCAKRQRAQX8hBgwBC0EAIQYDQCAOIAZByABsaiIDQn83AgAgA0EIakF/NgIAIANBDGpCADcCACADQRRqQQA2AgAgA0E8aiADQRhqIQIgAygCPCEEQQMhAwNAIAJCADcCACACQRhqQgA3AgAgAkEQakIANwIAIAJBCGpCADcCACAEQQRyIQQgA0F/aiIDDQALIAQ2AgAgBkEBaiIGIApHDQALIAFBpAZqIQYgAUHsA2ohDEEAIQUDQCABQfABaiALIAVBDGxqIgMoAgAQYSABQagFaiAAIAEoAvABIAEoAvQBEDEgAUHoAWogA0EEaiICKAIAEGEgAUG4BWogACABKALoASABKALsARAxIAFB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AkAgASgCRBAxIAEpA4gGISsgASgCkAYhFyABQThqIAIQYSABQYgGaiAAIAEoAjggASgCPBAxIAEoAogGIQIgASgCjAYhECABKAKQBiESIAFBMGogHRBhIAFBiAZqIAAgASgCMCABKAI0EDEgASkDiAYhLCABKAKQBiEdIAEgFzYCgAYgASArNwP4BSABIBI2ApAGIAEgEDYCjAYgASACNgKIBiABQcgFaiABQfgFaiABQYgGahAVIAEgHTYCgAYgASAsNwP4BSABIBI2ApAGIAEgEDYCjAYgASACNgKIBiABQdgFaiABQfgFaiABQYgGahAVIBYgAUHQBWoiECgCADYCACABIAEpA8gFNwP4BSABQbgFaiABQcgFahARITUgBCAYKAIANgIAIAEgASkDuAU3A4gGIAFBKGogAUGIBmogGRBoIAEoAigiAiABKAIsIhJHBEADQCACIDUgAioCAJQ4AgAgEiACQQRqIgJHDQALCyABQcgFaiABQfgFaiABQYgGahAVIAQgECgCADYCACABIAEpA8gFNwOIBiABQYgGahBRBEAgBCAQKAIANgIAIAEgASkDyAU3A4gGIAFByAVqIAFBiAZqECMLIBYgAUHgBWoiECgCADYCACABIAEpA9gFNwP4BSABQbgFaiABQdgFahARITUgBCAYKAIANgIAIAEgASkDuAU3A4gGIAFBIGogAUGIBmogGRBoIAEoAiAiAiABKAIkIhJHBEADQCACIDUgAioCAJQ4AgAgEiACQQRqIgJHDQALCyABQdgFaiABQfgFaiABQYgGahAVIAQgECgCADYCACABIAEpA9gFNwOIBiABQYgGahBRBEAgBCAQKAIANgIAIAEgASkD2AU3A4gGIAFB2AVqIAFBiAZqECMLQwAAgD8gAUHIBWogAUHYBWoQESI1QwAAgL+XIDVDAACAP14buxAOIA8qAjQhNSAPKgIwITcgFiADKAIANgIAIAEgASkDmAY3A/gFIAEgMjgCkAYgASAvOAKMBiABIDM4AogGIAFBGGogAUGIBmogGRBotiEvIAEoAhgiAiABKAIcIg9HBEADQCACIAIqAgAgL5Q4AgAgDyACQQRqIgJHDQALCyABQZgGaiABQfgFaiABQYgGahAWIBYgFUEIaiIPKAIANgIAIAEgFSkCADcD+AUgASAxOAKQBiABIDA4AowGIAEgNDgCiAYgAUEQaiABQYgGaiAZEGggASgCECICIAEoAhQiEEcEQANAIAIgAioCACAvlDgCACAQIAJBBGoiAkcNAAsLIAFB6AVqIAFB+AVqIAFBiAZqEBYgDyABQfAFaigCADYCACAVIAEpA+gFNwIAIAEgNyAvlCABKgKkBpI4AqQGIAEgNSAvlCABKgK0BpI4ArQGIC4gL5IhLgsgCSAHQQFqIgdHDQALDAQLIAkgD0HcgsAAED8ACyAFIAJB7ILAABA/AAsgDCACQfyCwAAQPwALIAwgB0GMg8AAED8ACyAEIAMoAgA2AgAgASABKQOYBjcDiAYgAUGIBmoQUQRAIAQgAygCADYCACABIAEpA5gGNwOIBiABQZgGaiABQYgGahAjCyAEIBVBCGoiAigCADYCACABIBUpAgA3A4gGIAFBiAZqEFEEQCAEIAIoAgA2AgAgASAVKQIANwOIBiABQfgFaiABQYgGahAjIAIgAUGABmooAgA2AgAgFSABKQP4BTcCAAsgLkMAAAAAXkEBc0UEQCABIAEqAqQGIC6VOAKkBiABIAEqArQGIC6VOAK0BgsgASgC4AQiAiAMTQ0DIAEoAtgEIAxBKGxqIAFBmAZqQSgQTiAMQQFqIQwLICAEQCAIKAJAIAggKGpBxABqLQAAaiICICJPDQICfyAUIAJBKGxqIgIoAiBBAUcEQCABKALgBCIEIAVNDQYgAiABKALYBCAFQShsakEoEDsaQQEMAQsgASgC4AQiBCAFTQ0GIAFBmAZqIAIgASgC2AQgBUEobGoQBSACIAFBmAZqQSgQTkECCyEFIAJBIGogBTYCACACICYtAAA6ACQgESgCABogERBWIB9BAWoiHyANKAIASA0BDAYLC0F/QQRBrIPAABA/AAsgAiAiQbyDwAAQPwALIAwgAkGcg8AAED8ACyAFIARBzIPAABA/AAsgBSAEQdyDwAAQPwALICNBAWoiIyAGRw0ACyABQfgEaigCABogAUH4BGoQViABQegEahBJIAFB6ARqEFIgAUHYBGoQVCABKALIBCEUIAEoAtADIQsLIAFBwANqKAIAIQUgCiATSARAIBtBAUghCSAKIQMDQCALIANByABsaiIELQA8QQJxRQRAIANBA2whDCAEQUBrIQhBACEGA0ACQCAJDQAgBSAGIAxqQQJ0aigCACEOQQAhAgNAAkAgAiAOIAUgAkECdGooAgAiB0ciDWohAiAHIA5GDQAgAiAbSA0BCwsgDQ0AIBQgCCgCACAEIAZqQcQAai0AAGpBKGxqIBQgCyACQQNuIg5ByABsaiIHKAJAIAcgAiAOQQNsa2pBxABqLQAAakEobGpBKBA7GgsgBkEBaiIGQQNHDQALCyADICVGIANBAWohA0UNAAsLIApBAU4EQCALQcQAaiEEQQAhBQNAAkAgCyAFQcgAbGoiAy0APEECcUUNACABQQA2AugDIAFCADcD4AMgAUEIaiADKAI4IgYCf0EBQQEgA0HFAGotAABBH3F0QQEgAy0AREEfcXRyQQEgA0HGAGotAABBH3F0ciICQQJxRQ0AGkECIAJBBHFFDQAaQQBBAyACQQhxGwsiDhBmEGEgAUGYBmogACABKAIIIAEoAgwQMSABQegDaiABQaAGaigCADYCACABIAEpA5gGNwPgAyADQUBrIQNBACECA0AgASAGIAIgBGotAAAiCRBmEGEgAUGYBmogACABKAIAIAEoAgQQMSABQZgGaiABQeADahALBEAgFCADKAIAIgMgDmpBKGxqIBQgAyAJakEobGpBKBA7GgwCCyACQQFqIgJBA0cNAAsLIARByABqIQQgBUEBaiIFIApHDQALCyABKALQBCEFQQAhBkEAIQkDQEEAIAUgCWsiAyADIAVLGyEKIBQgCUEobGohDkEAIQNBACEEA0AgBCAKRg0DIAMgDmoiAikCACErIAEgAkEIaigCADYC6AMgASArNwLgAyAAIAFB4ANqIAJBDGoqAgAgAkEcaioCACACQSRqLQAAEB8gBEEBaiEEIANBKGoiA0H4AEcNAAsgBCAJaiEJIAZBAWoiBiATRw0ACyABQcgEahBUIAFBuARqKAIAGiABQbgEahBWIAFBqARqEFIgAUHQA2oQUyABQcADaigCABogAUHAA2oQVkEBIQILIAFB4AZqJAAgAg8LIAQgCWogBUHMgsAAED8ACyAGIAxBvILAABA/AAsgBEECaiAIQayCwAAQPwALIARBAWogC0GcgsAAED8ACyAEIApBjILAABA/AAsgCyALQdyFwAAQPwALIAYgBEHMhcAAED8ACyADIARBvIXAABA/AAsgBiADQayFwAAQPwALIAQgA0GchcAAED8ACyAEIApBjIXAABA/AAtBAEEA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AiALIANBEGogAiABIANBIGoQLSADQRhqKAIAIQEgAygCFCECIAMoAhBBAUYNASAAIAI2AgAgACABQShuNgIECyADQTBqJAAPCyADQQhqIAIgARBoIAMoAgghASADKAIMDAELIAMgAkEAEGggAygCACEBIAMoAgQLIgAEQCABIAAQcAALEGsAC6cCAgN/AX4jAEEwayIDJAACfwJAAkAgACgCBCIEIAFrIAJJBEAgASACaiICIAFJDQJBBCEBAkAgBEEBdCIFIAIgBSACSxsiAkEEIAJBBEsbrUIMfiIGQiCIp0UEQCAGpyECDAELIAAoAgQhBEEAIQELAkAgBARAIAAoAgAhBSADQShqQQQ2AgAgAyAEQQxsNgIkIAMgBTYCIAwBCyADQQA2AiALIANBEGogAiABIANBIGoQLSADQRhqKAIAIQEgAygCFCECIAMoAhBBAUYNASAAIAI2AgAgACABQQxuNgIECyADQTBqJAAPCyADQQhqIAIgARBoIAMoAgghASADKAIMDAELIAMgAkEAEGggAygCACEBIAMoAgQLIgAEQCABIAAQcAALEGsAC6gCAQN/IwBBMGsiAyQAAn8CQAJAIAAoAgQiBCABayACSQRAIAEgAmoiAiABSQ0CQQQhAQJAIARBAXQiBSACIAUgAksbIgJBBCACQQRLGyICQf////8DcSACRgRAIAJBAnQhAgwBCyAAKAIEIQRBACEBCwJAIAQEQCAAKAIAIQUgA0EoakEENgIAIAMgBEECdDYCJCADIAU2AiAMAQsgA0EANgIgCyADQRBqIAIgASADQSBqEC0gA0EYaigCACEBIAMoAhQhAiADKAIQQQFGDQEgACACNgIAIAAgAUECdjYCBAsgA0EwaiQADwsgA0EIaiACIAEQaCADKAIIIQEgAygCDAwBCyADIAJBABBoIAMoAgAhASADKAIECyIABEAgASAAEHAACxBrAAuoAgEDfyMAQTBrIgMkAAJ/AkACQCAAKAIEIgQgAWsgAkkEQCABIAJqIgIgAUkNAkEEIQECQCAEQQF0IgUgAiAFIAJLGyICQQQgAkEESxsiAkH/////AHEgAkYEQCACQQR0IQIMAQsgACgCBCEEQQAhAQsCQCAEBEAgACgCACEFIANBKGpBBDYCACADIARBBHQ2AiQgAyAFNgIgDAELIANBADYCIAsgA0EQ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aiEDIAUoAggiBiAFKAIMIgdJBEAgByAGayEIA0AgAikCACEJIANBCGogAkEIaikCADcCACADIAk3AgAgA0EQaiEDIAhBf2oiCA0ACyAEIAdqIAZrIQQLIAAgAQR/IAIpAgAhCSADQQhqIAJBCGopAgA3AgAgAyAJNwIAIARBAWoFIAQLNgIIIAVBEGokAAuqAQMBfwN+An0jAEEgayICJAAgAkEYaiABKAIAEGEgACACKAIYIAIoAhwQPSEDIAJBEGogASgCBBBhIAAgAigCECACKAIUED0hBCACQQhqIAEoAggQYSAAIAIoAgggAigCDBA9IQUgAkEgaiQAIASnviADp74iBpMgBUIgiKe+IANCIIinviIHk5QgBEIgiKe+IAeTIAWnviAGk5STIgaMIAYgBkMAAAAAXRsLsQEBBX8jAEEQayIDJAACQCAAKAIEIgIgAU8EQAJAIAIEQCACQQJ0IQIgACgCACEEAkAgAUECdCIFRQRAQQQhBiACRQ0BIAQgAkEEEGoMAQsgBCACQQQgBRBiIgZFDQILIAAgBjYCACAAIAFB/////wNxNgIECyADQRBqJAAPCyADQQhqIAVBBBBoIAMoAgwiAEUNASADKAIIIAAQcAALQcWIwABBJEHsiMAAEEgACxBrAAu2AQEBfyMAQRBrIgMkAAJAIABFDQAgAyAANgIEIAFFDQACQCACQQRLDQAgAUEDakECdkF/aiIAQf8BSw0AIANBoJXAADYCCCADIABBAnRBpJXAAGoiACgCADYCDCADQQRqIANBDGogA0EIakGUicAAEBMgACADKAIMNgIADAELIANBoJXAACgCADYCDCADQQRqIANBDGpB/IjAAEH8iMAAEBNBoJXAACADKAIMNgIACyADQRBqJAALmQEBBn8jAEEQayIFJAAgACAAKAIIIAEQGCAAKAIAIAAoAgghAyAFQQhqQQEgARBoIANByABsaiEEIAUoAggiBiAFKAIMIgdJBEAgByAGayEIA0AgBCACQcgAEDtByABqIQQgCEF/aiIIDQALIAMgB2ogBmshAwsgACABBH8gBCACQcgAEDsaIANBAWoFIAMLNgIIIAVBEGokAAuVAQEGfyMAQRBrIgUkACAAIAAoAgggARAZIAAoAgAgACgCCCEDIAVBCGpBASABEGggA0EobGohBCAFKAIIIgYgBSgC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AWoiAiABIAJLG0GHgARqIgFBEHZAACICQX9GBEBBACEDQQEMAQsgAkEQdCIDQgA3AwAgA0EANgIIIAMgAyABQYCAfHFqQQJyNgIAQQALIQIgACADNgIEIAAgAjYCAAtvAQF/AkAgASAATwRAIAJFDQEgACEDA0AgAyABLQAAOgAAIAFBAWohASADQQFqIQMgAkF/aiICDQALDAELIAJFDQAgAUF/aiEBIABBf2ohAwNAIAIgA2ogASACai0AADoAACACQX9qIgINAAsLIAALbwECfwJ/IAIgAJMgASAAk5VDAAAARZQiAEMAAADPYCIDQQFzIABD////Tl9FckUEQCAAqAwBC0H/////B0GAgICAeCADGyIEIARBACAAQ////05fGyADGwsiA0EAIANBAEobIgNB/w8gA0H/D0gbC2YBAX8CQCAAQSBqKAIAIgMgAUEGbCACQQF0aiIBSwRAIAMgAUEBciICTQ0BIAAoAhgiACACQQJ0ajUCAEIghiAAIAFBAnRqNQIAhA8LIAEgA0HsgMAAED8ACyACIANB/IDAABA/AAtrAQJ/IwBBEGsiBiQAAkAgACABIAIgAyAEEAoiBQ0AIAZBCGogAyAAIAEgBCgCDBEFAEEAIQUgBigCCA0AIAYoAgwiBSACKAIANgIIIAIgBTYCACAAIAEgAiADIAQQCiEFCyAGQRBqJAAgBQtsAQF/IwBBMGsiAyQAIAMgATYCBCADIAA2AgAgA0EcakECNgIAIANBLGpBHTYCACADQgI3AgwgA0G0kMAANgIIIANBHTYCJCADIANBIGo2AhggAyADNgIoIAMgA0EEajYCICADQQhqIAIQWQALVAEBfyMAQSBrIgIkACACIAAoAgA2AgQgAkEYaiABQRBqKQIANwMAIAJBEGogAUEIaikCADcDACACIAEpAgA3AwggAkEEaiACQQhqEAggAkEgaiQAC1kCAX8BfiMAQSBrIgMkACADQQhqIAIQNyADKQMIIQQgAEEANgIIIAAgBDcCACADQRhqIAFBCGopAgA3AwAgAyABKQIANwMQIAAgAiADQRBqECcgA0EgaiQAC1kCAX8BfiMAQSBrIgMkACADQQhqIAIQNCADKQMIIQQgAEEANgIIIAAgBDcCACADQRhqIAFBCGooAgA2AgAgAyABKQIANwMQIAAgAiADQRBqECYgA0EgaiQAC1kCAX8BfiMAQSBrIgMkACADQQhqIAIQNyADKQMIIQQgAEEANgIIIAAgBDcCACADQRhqIAFBCGopAgA3AwAgAyABKQIANwMQIAAgAiADQRBqECAgA0EgaiQAC1QBAn8gASgCACECIAFBADYCAAJAIAIEQCABKAIEIQNBCEEEEGciAUUNASABIAM2AgQgASACNgIAIABByI3AADYCBCAAIAE2AgAPCwALQQhBBBBwAAtKAgF/AX4jAEHQAGsiAyQAIAMgAhA2IAMpAwAhBCAAQQA2AgggACAENwIAIANBCGogAUHIABBOIAAgAiADQQhqECsgA0HQAGokAAtHAgF/AX4jAEEwayIDJAAgAyACEDUgAykDACEEIABBADYCCCAAIAQ3AgAgA0EIaiABQSgQTiAAIAIgA0EIahAsIANBMGokAAtKAAJ/IAFBgIDEAEcEQEEBIAAoAhggASAAQRxqKAIAKAIQEQIADQEaCyACRQRAQQAPCyAAKAIYIAJBACAAQRxqKAIAKAIMEQQACwtHAQF/IwBBIGsiAyQAIANBFGpBADYCACADQfCPwAA2AhAgA0IBNwIEIAMgATYCHCADIAA2AhggAyADQRhqNgIAIAMgAhBZAAs8AQF/IAAoAggiAQRAIAFBBHQhASAAKAIAQQRqIQADQCAAKAIAGiAAEFYgAEEQaiEAIAFBcGoiAQ0ACwsLOAAgAEIANwIAIABBCGpBADYCACAAQSRqQQA6AAAgAEEcakIANwIAIABBFGpCADcCACAAQgA3AgwLRAECfyABKAIEIQIgASgCACEDQQhBBBBnIgFFBEBBCEEEEHAACyABIAI2AgQgASADNgIAIABBoI/AADYCBCAAIAE2AgALPQAgAEIANwIgIAAgASkCADcCACAAIAIpAgA3AhAgAEEIaiABQQhqKQIANwIAIABBGGogAkEIaikCADcCAAtbAQN/IwBBEGsiASQAIAAoAgwiAkUEQEGAjsAAQStByI7AABBIAAsgACgCCCIDRQRAQYCOwABBK0HYjsAAEEgACyABIAI2AgggASAANgIEIAEgAzYCACABEFgACysAIAIEQANAIAAgAS0AADoAACABQQFqIQEgAEEBaiEAIAJBf2oiAg0ACwsLKQEBfyADIAIQLiIEBEAgBCAAIAMgASABIANLGxBOIAAgASACECoLIAQLLAACQCAAQXxNBEAgAEUEQEEEIQAMAgsgACAAQX1JQQJ0EGciAA0BCwALIAALNwEBf0EBIQECQCAAKgIAi0MAAIAAXg0AIAAqAgSLQwAAgABeDQAgACoCCItDAACAAF4hAQsgAQsmAQF/AkAgACgCBCIBRQ0AIAAoAgAgAUEEdCIBRQ0AIAFBBBBqCwsnAQF/AkAgACgCBCIBRQ0AIAAoAgAgAUHIAGwiAUUNACABQQQQagsLJgEBfwJAIAAoAgQiAUUNACAAKAIAIAFBKGwiAUUNACABQQQQagsLJgEBfwJAIAAoAgQiAUUNACAAKAIAIAFBDGwiAUUNACABQQQQagsLJgEBfwJAIAAoAgQiAUUNACAAKAIAIAFBAnQiAUUNACABQQQQagsLLAEBfyMAQRBrIgEkACABQQhqIABBCGooAgA2AgAgASAAKQIANwMAIAEQWwALLAEBfyMAQRBrIgEkACABQQhqIABBCGooAgA2AgAgASAAKQIANwMAIAEQMwALNAEBfyMAQRBrIgIkACACIAE2AgwgAiAANgIIIAJB8I/AADYCBCACQfCPwAA2AgAgAhBNAAspAQF/IAEEQCAAIQIDQCACQQA6AAAgAkEBaiECIAFBf2oiAQ0ACwsgAAsrAQF/IwBBEGsiASQAIAEgACkCADcDCCABQQhqQbSNwABBACAAKAIIECUACycBAX8jAEEQayICJAAgAiABNgIIIAJBHTYCBCACIAA2AgAgAhBXAAsmAQF/AkAgACgCACIBRQ0AIABBBGooAgAiAEUNACABIABBARBqCwsmAQF/AkAgACgCBCIBRQ0AIABBCGooAgAiAEUNACABIABBARBqCwshACAAQQM2AgwgACABNgIEIAAgATYCACAAIAFBDGo2AggLHQAgASgCAEUEQAALIABByI3AADYCBCAAIAE2AgALFgAgACABQQNxNgIEIAAgAUECdjYCAAsMACAAIAEgAiADEE8LFgAgACABKAIINgIEIAAgASgCADYCAAsPACABBEAgACABQQQQagsLEgAgACgCACABIAEgAmoQIkEACw0AIAFBA3EgAEECdHILCAAgACABEC4LEAAgACACNgIEIAAgATYCAAsTACAAQaCPwAA2AgQgACABNgIACwoAIAAgASACECoLEQBBzI/AAEERQeCPwAAQSAALDgAgACgCABoDQAwACwALCwAgADUCACABEBQLCwAgACMAaiQAIwALCwAgAItDAACAAF4LGQAgACABQcSdwAAoAgAiAEEPIAAbEQEAAAsFAEGABAsEAEEBCwQAIAELBABBAAsNAEL0+Z7m7qOq+f4ACw0AQve47vqqzNXu5QALDABC6dCi28yi6rtGCwMAAQsDAAELC6QVAgBBgIDAAAvBCnNyYy9saWIucnMAAAAAEAAKAAAANgAAAA0AAAAAABAACgAAADcAAAANAAAAAAAQAAoAAAA4AAAADQAAAAAAEAAKAAAAPgAAAA0AAAAAABAACgAAAD8AAAANAAAAAAAQAAoAAABAAAAADQAAAAAAEAAKAAAARgAAAA0AAAAAABAACgAAAEcAAAANAAAARmFpbGVkIHRvIGdlbmVyYXRlIHRhbmdlbnRzLi9Vc2Vycy9kb25tY2N1cmR5Ly5jYXJnby9yZWdpc3RyeS9zcmMvZ2l0aHViLmNvbS0xZWNjNjI5OWRiOWVjODIzL21pa2t0c3BhY2UtMC4yLjAvc3JjL2dlbmVyYXRlZC5ycwCoABAAYwAAANcAAAASAAAAqAAQAGMAAADYAAAAEgAAAKgAEABjAAAA2QAAABIAAACoABAAYwAAAN4AAAANAAAAqAAQAGMAAAAjAQAAOAAAAKgAEABjAAAA/QEAABUAAACoABAAYwAAAA8CAABAAAAAqAAQAGMAAAAVAgAAEQAAAKgAEABjAAAAFgIAABEAAACoABAAYwAAABgCAAARAAAAqAAQAGMAAAAjAgAAGQAAAKgAEABjAAAAJAIAADIAAACoABAAYwAAACoCAAAcAAAAqAAQAGMAAAAmAgAANAAAAKgAEABjAAAAvQUAAAkAAACoABAAYwAAAMAFAAAFAAAAqAAQAGMAAADDBQAAHAAAAKgAEABjAAAAwwUAADMAAACoABAAYwAAAMMFAAAJAAAAqAAQAGMAAADTBQAAIwAAAKgAEABjAAAA0wUAABcAAACoABAAYwAAANQFAAAYAAAAqAAQAGMAAADVBQAACQAAAKgAEABjAAAA3AUAABEAAACoABAAYwAAAN8FAAAYAAAAqAAQAGMAAADgBQAAGQAAAKgAEABjAAAA6AUAAC0AAACoABAAYwAAAOgFAAAhAAAAqAAQAGMAAADpBQAAGAAAAKgAEABjAAAA8gUAABEAAACoABAAYwAAAKcGAAANAAAAqAAQAGMAAACuBgAAEQAAAKgAEABjAAAArwYAABEAAACoABAAYwAAALAGAAARAAAAqAAQAGMAAAD9BgAACQAAAE1hdHJpeCBzbGljaW5nIG91dCBvZiBib3VuZHMuL1VzZXJzL2Rvbm1jY3VyZHkvLmNhcmdvL3JlZ2lzdHJ5L3NyYy9naXRodWIuY29tLTFlY2M2Mjk5ZGI5ZWM4MjMvbmFsZ2VicmEtMC4xOS4wL3NyYy9iYXNlL21hdHJpeF9zbGljZS5ycwBZAxAAagAAAOMAAAAJAAAAL1VzZXJzL2Rvbm1jY3VyZHkvLnJ1c3R1cC90b29sY2hhaW5zL3N0YWJsZS14ODZfNjQtYXBwbGUtZGFyd2luL2xpYi9ydXN0bGliL3NyYy9ydXN0L2xpYnJhcnkvYWxsb2Mvc3JjL3Jhd192ZWMucnNUcmllZCB0byBzaHJpbmsgdG8gYSBsYXJnZXIgY2FwYWNpdHkAAADUAxAAcQAAAMUBAAAJAAAAAQAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAQAAAAEAAAABgAAAAcAAAAIAAAACQAAAAAAAAABAAAAAgAAAAMAAAAEAAAAL1VzZXJzL2Rvbm1jY3VyZHkvLnJ1c3R1cC90b29sY2hhaW5zL3N0YWJsZS14ODZfNjQtYXBwbGUtZGFyd2luL2xpYi9ydXN0bGliL3NyYy9ydXN0L2xpYnJhcnkvY29yZS9zcmMvbnVtL21vZC5yc8QEEABwAAAAnQIAAAUAQdCKwAAL0AphdHRlbXB0IHRvIGNhbGN1bGF0ZSB0aGUgcmVtYWluZGVyIHdpdGggYSBkaXZpc29yIG9mIHplcm9NYXRyaXggc2xpY2luZyBvdXQgb2YgYm91bmRzLi9Vc2Vycy9kb25tY2N1cmR5Ly5jYXJnby9yZWdpc3RyeS9zcmMvZ2l0aHViLmNvbS0xZWNjNjI5OWRiOWVjODIzL25hbGdlYnJhLTAuMTkuMC9zcmMvYmFzZS9tYXRyaXhfc2xpY2UucnOmBRAAagAAAOMAAAAJAAAAL1VzZXJzL2Rvbm1jY3VyZHkvLmNhcmdvL3JlZ2lzdHJ5L3NyYy9naXRodWIuY29tLTFlY2M2Mjk5ZGI5ZWM4MjMvbWlra3RzcGFjZS0wLjIuMC9zcmMvZ2VuZXJhdGVkLnJzACAGEABjAAAA2wIAABkAAAAgBhAAYwAAANsCAAAyAAAAIAYQAGMAAAB+AwAACAAAAAoAAAAIAAAABAAAAAsAAAAMAAAADQAAAAgAAAAEAAAADgAAABAAAAAEAAAABAAAABEAAAASAAAAEwAAABAAAAAAAAAAAQAAABQAAABjYWxsZWQgYE9wdGlvbjo6dW53cmFwKClgIG9uIGEgYE5vbmVgIHZhbHVlbGlicmFyeS9zdGQvc3JjL3Bhbmlja2luZy5ycwArBxAAHAAAAO0BAAAfAAAAKwcQABwAAADuAQAAHgAAABUAAAAQAAAABAAAABYAAAAXAAAAEAAAAAgAAAAEAAAAGAAAABkAAAAaAAAADAAAAAQAAAAbAAAAEAAAAAgAAAAEAAAAHAAAAGxpYnJhcnkvYWxsb2Mvc3JjL3Jhd192ZWMucnNjYXBhY2l0eSBvdmVyZmxvdwAAALAHEAAcAAAAHgIAAAUAAAAfAAAAAAAAAAEAAAAgAAAAaW5kZXggb3V0IG9mIGJvdW5kczogdGhlIGxlbiBpcyAgYnV0IHRoZSBpbmRleCBpcyAAAAAIEAAgAAAAIAgQABIAAAAwMDAxMDIwMzA0MDUwNjA3MDgwOTEwMTExMjEzMTQxNTE2MTcxODE5MjAyMTIyMjMyNDI1MjYyNzI4MjkzMDMxMzIzMzM0MzUzNjM3MzgzOTQwNDE0MjQzNDQ0NTQ2NDc0ODQ5NTA1MTUyNTM1NDU1NTY1NzU4NTk2MDYxNjI2MzY0NjU2NjY3Njg2OTcwNzE3MjczNzQ3NTc2Nzc3ODc5ODA4MTgyODM4NDg1ODY4Nzg4ODk5MDkxOTI5Mzk0OTU5Njk3OTg5OWxpYnJhcnkvY29yZS9zcmMvZm10L21vZC5ycwAMCRAAGwAAAFUEAAARAAAADAkQABsAAABfBAAAJAAAAAMAAAAEAAAABAAAAAYAAACD+aIARE5uAPwpFQDRVycA3TT1AGLbwAA8mZUAQZBDAGNR/gC73qsAt2HFADpuJADSTUIASQbgAAnqLgAcktEA6x3+ACmxHADoPqcA9TWCAES7LgCc6YQAtCZwAEF+XwDWkTkAU4M5AJz0OQCLX4QAKPm9APgfOwDe/5cAD5gFABEv7wAKWosAbR9tAM9+NgAJyycARk+3AJ5mPwAt6l8Auid1AOXrxwA9e/EA9zkHAJJSigD7a+oAH7FfAAhdjQAwA1YAe/xGAPCrawAgvM8ANvSaAOOpHQBeYZEACBvmAIWZZQCgFF8AjUBoAIDY/wAnc00ABgYxAMpWFQDJqHMAe+JgAGuMwAAAAABA+yH5PwAAAAAtRHQ+AAAAgJhG+DwAAABgUcx4OwAAAICDG/A5AAAAQCAlejgAAACAIoLjNgAAAAAd82k1AHsJcHJvZHVjZXJzAghsYW5ndWFnZQEEUnVzdAAMcHJvY2Vzc2VkLWJ5AwVydXN0Yx0xLjQ5LjAgKGUxODg0YThlMyAyMDIwLTEyLTI5KQZ3YWxydXMGMC4xOC4wDHdhc20tYmluZGdlbhIwLjIuNzMgKDNjZWZlMmM4Mik=";let Fe,Ni=!1;const Gi=fetch(uA).then(a=>a.arrayBuffer()).then(a=>WebAssembly.instantiate(a,{"./mikktspace_module_bg.js":{__wbindgen_string_new:Li,__wbindgen_rethrow:Ti}})).then(a=>{Fe=a.instance.exports,Ni=!0}),mA=Object.freeze(Object.defineProperty({__proto__:null,__wbindgen_rethrow:Ti,__wbindgen_string_new:Li,generateTangents:gA,get isReady(){return Ni},ready:Gi,get wasm(){return Fe}},Symbol.toStringTag,{value:"Module"}));function ki(a,e){const t=a.strings,s=a.signals,n=new Ae().setMarginLeft("120px"),i=e.geometry,r=new le(t.getKey("sidebar/geometry/compute_vertex_normals"));r.onClick(function(){i.computeVertexNormals(),s.geometryChanged.dispatch(e)});const o=new C;if(o.add(r),n.add(o),i.hasAttribute("position")&&i.hasAttribute("normal")&&i.hasAttribute("uv")){const c=new le(t.getKey("sidebar/geometry/compute_vertex_tangents"));c.onClick(async function(){await Gi,ko(i,mA),s.geometryChanged.dispatch(e)});const g=new C;g.add(c),n.add(g)}const d=new le(t.getKey("sidebar/geometry/center"));d.onClick(function(){i.center(),s.geometryChanged.dispatch(e)});const A=new C;return A.add(d),n.add(A),n}const hA=Object.freeze(Object.defineProperty({__proto__:null,SidebarGeometryModifiers:ki},Symbol.toStringTag,{value:"Module"})),ra=new Z,oa=new Z,xn=new _n;class vn extends jn{constructor(e,t=1,s=16711680){const n=new Ut,i=e.geometry.attributes.normal.count,r=new Ot(i*2*3,3);n.setAttribute("position",r),super(n,new Ua({color:s,toneMapped:!1})),this.object=e,this.size=t,this.type="VertexNormalsHelper",this.matrixAutoUpdate=!1,this.isVertexNormalsHelper=!0,this.update()}update(){this.object.updateMatrixWorld(!0),xn.getNormalMatrix(this.object.matrixWorld);const e=this.object.matrixWorld,t=this.geometry.attributes.position,s=this.object.geometry;if(s){const n=s.attributes.position,i=s.attributes.normal;let r=0;for(let o=0,d=n.count;o<d;o++)ra.fromBufferAttribute(n,o).applyMatrix4(e),oa.fromBufferAttribute(i,o),oa.applyMatrix3(xn).normalize().multiplyScalar(this.size).add(ra),t.setXYZ(r,ra.x,ra.y,ra.z),r=r+1,t.setXYZ(r,oa.x,oa.y,oa.z),r=r+1}t.needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function pA(a){const e=a.strings,t=a.signals,s=new re;s.setBorderTop("0"),s.setDisplay("none"),s.setPaddingTop("20px");let n=null;const i=new C,r=new B;i.add(new B(e.getKey("sidebar/geometry/type")).setClass("Label")),i.add(r),s.add(i);const o=new C,d=new ft().setWidth("102px").setFontSize("12px").setDisabled(!0),A=new le(e.getKey("sidebar/geometry/new")).setMarginLeft("7px").onClick(function(){d.setValue(ne.generateUUID()),a.execute(new Na(a,a.selected,"uuid",d.getValue()))});o.add(new B(e.getKey("sidebar/geometry/uuid")).setClass("Label")),o.add(d),o.add(A),s.add(o);const c=new C,g=new ft().setWidth("150px").setFontSize("12px").onChange(function(){a.execute(new Na(a,a.selected,"name",g.getValue()))});c.add(new B(e.getKey("sidebar/geometry/name")).setClass("Label")),c.add(g),s.add(c);const l=new ct;s.add(l),s.add(new Di(a));const u=new B().setFontSize("12px"),m=new C;m.add(new B(e.getKey("sidebar/geometry/bounds")).setClass("Label")),m.add(u),s.add(m);const p=new C,h=new Ls().setValue("{}").setWidth("150px").setHeight("40px").setFontSize("12px").onChange(function(){try{const E=JSON.parse(h.getValue());JSON.stringify(a.selected.geometry.userData)!=JSON.stringify(E)&&(a.execute(new Na(a,a.selected,"userData",E)),_())}catch(E){console.warn(E)}});h.onKeyUp(function(){try{JSON.parse(h.getValue()),h.dom.classList.add("success"),h.dom.classList.remove("fail")}catch{h.dom.classList.remove("success"),h.dom.classList.add("fail")}}),p.add(new B(e.getKey("sidebar/geometry/userdata")).setClass("Label")),p.add(h),s.add(p);const b=new C().setMarginLeft("120px");s.add(b);const Q=new le(e.getKey("sidebar/geometry/show_vertex_normals"));Q.onClick(function(){const E=a.selected;a.helpers[E.id]===void 0?a.addHelper(E,new vn(E)):a.removeHelper(E),t.sceneGraphChanged.dispatch()}),b.add(Q);const f=new le(e.getKey("sidebar/geometry/export"));f.setMarginLeft("120px"),f.onClick(function(){let F=a.selected.geometry.toJSON();try{F=JSON.stringify(F,null,"	"),F=F.replace(/[\n\t]+([\d\.e\-\[\]]+)/g,"$1")}catch{F=JSON.stringify(F)}a.utils.save(new Blob([F]),`${g.getValue()||"geometry"}.json`)}),s.add(f);const y=new Ae;y.setMarginTop("20px"),y.setDisplay("none"),s.add(y),y.add(new B(e.getKey("sidebar/geometry/morph")).setTextTransform("uppercase")),y.add(new Te),y.add(new Te);const I=new Ae;y.add(I);async function _(){const E=a.selected;if(E&&E.geometry){const G=E.geometry;if(s.setDisplay("block"),r.setValue(G.type),d.setValue(G.uuid),g.setValue(G.name),n!==G.type){if(l.clear(),G.type==="BufferGeometry"||G.type==="InstancedBufferGeometry")l.add(new ki(a,E));else{const{GeometryParametersPanel:O}=await aA(Object.assign({"./Sidebar.Geometry.BoxGeometry.js":()=>te(()=>Promise.resolve().then(()=>_A),void 0),"./Sidebar.Geometry.BufferGeometry.js":()=>te(()=>Promise.resolve().then(()=>sA),void 0),"./Sidebar.Geometry.CapsuleGeometry.js":()=>te(()=>Promise.resolve().then(()=>TA),void 0),"./Sidebar.Geometry.CircleGeometry.js":()=>te(()=>Promise.resolve().then(()=>GA),void 0),"./Sidebar.Geometry.CylinderGeometry.js":()=>te(()=>Promise.resolve().then(()=>FA),void 0),"./Sidebar.Geometry.DodecahedronGeometry.js":()=>te(()=>Promise.resolve().then(()=>jA),void 0),"./Sidebar.Geometry.ExtrudeGeometry.js":()=>te(()=>Promise.resolve().then(()=>KA),void 0),"./Sidebar.Geometry.IcosahedronGeometry.js":()=>te(()=>Promise.resolve().then(()=>OA),void 0),"./Sidebar.Geometry.LatheGeometry.js":()=>te(()=>Promise.resolve().then(()=>JA),void 0),"./Sidebar.Geometry.Modifiers.js":()=>te(()=>Promise.resolve().then(()=>hA),void 0),"./Sidebar.Geometry.OctahedronGeometry.js":()=>te(()=>Promise.resolve().then(()=>qA),void 0),"./Sidebar.Geometry.PlaneGeometry.js":()=>te(()=>Promise.resolve().then(()=>XA),void 0),"./Sidebar.Geometry.RingGeometry.js":()=>te(()=>Promise.resolve().then(()=>ZA),void 0),"./Sidebar.Geometry.ShapeGeometry.js":()=>te(()=>Promise.resolve().then(()=>el),void 0),"./Sidebar.Geometry.SphereGeometry.js":()=>te(()=>Promise.resolve().then(()=>al),void 0),"./Sidebar.Geometry.TetrahedronGeometry.js":()=>te(()=>Promise.resolve().then(()=>nl),void 0),"./Sidebar.Geometry.TorusGeometry.js":()=>te(()=>Promise.resolve().then(()=>rl),void 0),"./Sidebar.Geometry.TorusKnotGeometry.js":()=>te(()=>Promise.resolve().then(()=>dl),void 0),"./Sidebar.Geometry.TubeGeometry.js":()=>te(()=>Promise.resolve().then(()=>ll),void 0)}),`./Sidebar.Geometry.${G.type}.js`,2);l.add(new O(a,E))}n=G.type}G.boundingBox===null&&G.computeBoundingBox();const F=G.boundingBox,$=Math.floor((F.max.x-F.min.x)*1e3)/1e3,Y=Math.floor((F.max.y-F.min.y)*1e3)/1e3,W=Math.floor((F.max.z-F.min.z)*1e3)/1e3;u.setInnerHTML(`${$}<br/>${Y}<br/>${W}`),b.setDisplay(G.hasAttribute("normal")?"":"none"),h.setValue(JSON.stringify(G.userData,null,"  "));const N=a.helpers[E.id];if(N!==void 0&&N.isVertexNormalsHelper===!0&&(a.removeHelper(E),a.addHelper(E,new vn(E))),L.length=0,I.clear(),E.morphTargetInfluences){const O=E.morphTargetDictionary,H=E.morphTargetInfluences,j=Object.keys(O);for(let v=0;v<j.length;v++){const k=j[v];I.add(new S(v,k,H))}y.setDisplay("")}else y.setDisplay("none")}}const L=[];function S(E,G,F){const $=new C,Y=new B(G).setWidth("200px");$.add(Y);const W=new J().setWidth("60px").setRange(0,1).onChange(function(){F[E]=W.getValue(),t.objectChanged.dispatch(a.selected)});return W.setValue(F[E]),$.add(W),L.push(W),$}function M(){const E=a.selected;if(E!==null&&E.morphTargetInfluences)for(let G=0;G<L.length;G++)L[G].setValue(E.morphTargetInfluences[G])}return t.objectSelected.add(function(){n=null,_()}),t.geometryChanged.add(_),t.morphTargetsUpdated.add(M),s}function pt(a,e,t){const s=a.signals,n=new C;n.add(new B(t).setClass("Label"));const i=new ot().setLeft("100px").onChange(A);n.add(i);let r=null,o=null,d=null;function A(){d[e]!==i.getValue()&&a.execute(new it(a,r,e,i.getValue(),o))}function c(g,l=0){r=g,o=l,r!==null&&r.material!==void 0&&(d=a.getObjectMaterial(r,o),e in d?(i.setValue(d[e]),n.setDisplay("")):n.setDisplay("none"))}return s.objectSelected.add(c),s.materialChanged.add(c),n}function da(a,e,t){const s=a.signals,n=new C;n.add(new B(t).setClass("Label"));const i=new ba().onInput(c);n.add(i);let r;e==="emissive"&&(r=new J(1).setWidth("30px").setRange(0,1/0).onChange(c),n.add(r));let o=null,d=null,A=null;function c(){A[e].getHex()!==i.getHexValue()&&a.execute(new pi(a,o,e,i.getHexValue(),d)),r!==void 0&&A[`${e}Intensity`]!==r.getValue()&&a.execute(new it(a,o,`${e}Intensity`,r.getValue(),d))}function g(l,u=0){o=l,d=u,o!==null&&o.material!==void 0&&(A=a.getObjectMaterial(o,d),e in A?(i.setHexValue(A[e].getHexString()),r!==void 0&&r.setValue(A[`${e}Intensity`]),n.setDisplay("")):n.setDisplay("none"))}return s.objectSelected.add(g),s.materialChanged.add(g),n}function gs(a,e,t,s){const n=a.signals,i=new C;i.add(new B(t).setClass("Label"));const r=new Ke().setOptions(s).onChange(c);i.add(r);let o=null,d=null,A=null;function c(){const l=parseInt(r.getValue());A[e]!==l&&a.execute(new it(a,o,e,l,d))}function g(l,u=0){o=l,d=u,o!==null&&o.material!==void 0&&(A=a.getObjectMaterial(o,d),e in A?(r.setValue(A[e]),i.setDisplay("")):i.setDisplay("none"))}return n.objectSelected.add(g),n.materialChanged.add(g),i}function ye(a,e,t){const s=a.signals,n=new C;n.add(new B(t).setClass("Label"));const i=new ot(!1).setMarginRight("8px").onChange(Q);n.add(i);const r=new Fa(a).onChange(f);n.add(r);const o=e.replace("Map",""),d=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"];let A;e==="aoMap"&&(A=new J(1).setWidth("30px").setRange(0,1).onChange(y),n.add(A));let c;(e==="bumpMap"||e==="displacementMap")&&(c=new J().setWidth("30px").onChange(I),n.add(c));let g,l;(e==="normalMap"||e==="clearcoatNormalMap")&&(g=new J().setWidth("30px").onChange(_),n.add(g),l=new J().setWidth("30px").onChange(_),n.add(l));let u,m;if(e==="iridescenceThicknessMap"){const M=new Ae().setMarginLeft("3px");n.add(M);const E=new C().setMarginBottom("0px").setStyle("min-height","0px");M.add(E),E.add(new B("min:").setWidth("35px")),u=new J().setWidth("40px").onChange(L),E.add(u);const G=new C().setMarginBottom("6px").setStyle("min-height","0px");M.add(G),G.add(new B("max:").setWidth("35px")),m=new J().setWidth("40px").onChange(L),G.add(m),u.setPrecision(0).setRange(0,1/0).setNudge(1).setStep(10).setUnit("nm"),m.setPrecision(0).setRange(0,1/0).setNudge(1).setStep(10).setUnit("nm")}let p=null,h=null,b=null;function Q(){const M=i.getValue()?r.getValue():null;if(b[e]!==M){if(M!==null){const E=p.geometry;E.hasAttribute("uv")===!1&&console.warn("Geometry doesn't have uvs:",E),e==="envMap"&&(M.mapping=La)}a.execute(new fi(a,p,e,M,h))}}function f(M){M!==null&&d.includes(e)&&M.isDataTexture!==!0&&M.colorSpace!==Ye&&(M.colorSpace=Ye,b.needsUpdate=!0),i.setDisabled(!1),Q()}function y(){b[`${e}Intensity`]!==A.getValue()&&a.execute(new it(a,p,`${e}Intensity`,A.getValue(),h))}function I(){b[`${o}Scale`]!==c.getValue()&&a.execute(new it(a,p,`${o}Scale`,c.getValue(),h))}function _(){const M=[g.getValue(),l.getValue()];(b[`${o}Scale`].x!==M[0]||b[`${o}Scale`].y!==M[1])&&a.execute(new yi(a,p,`${o}Scale`,M,h))}function L(){const M=[u.getValue(),m.getValue()];(b[`${o}Range`][0]!==M[0]||b[`${o}Range`][1]!==M[1])&&a.execute(new Fs(a,p,`${o}Range`,M[0],M[1],h))}function S(M,E=0){p=M,h=E,p!==null&&p.material!==void 0&&(b=a.getObjectMaterial(p,h),e in b?(b[e]!==null&&r.setValue(b[e]),i.setValue(b[e]!==null),i.setDisabled(r.getValue()===null),A!==void 0&&A.setValue(b[`${e}Intensity`]),c!==void 0&&c.setValue(b[`${o}Scale`]),g!==void 0&&(g.setValue(b[`${o}Scale`].x),l.setValue(b[`${o}Scale`].y)),u!==void 0&&(u.setValue(b[`${o}Range`][0]),m.setValue(b[`${o}Range`][1])),n.setDisplay("")):n.setDisplay("none"))}return s.objectSelected.add(function(M){r.setValue(null),S(M)}),s.materialChanged.add(S),n}function xe(a,e,t,s=[-1/0,1/0],n=2){const i=a.signals,r=new C;r.add(new B(t).setClass("Label"));const o=new J().setWidth("60px").setRange(s[0],s[1]).setPrecision(n).onChange(g);r.add(o);let d=null,A=null,c=null;function g(){c[e]!==o.getValue()&&a.execute(new it(a,d,e,o.getValue(),A))}function l(u,m=0){d=u,A=m,d!==null&&d.material!==void 0&&(c=a.getObjectMaterial(d,A),e in c?(o.setValue(c[e]),r.setDisplay("")):r.setDisplay("none"))}return i.objectSelected.add(l),i.materialChanged.add(l),r}function bA(a,e,t,s,n=[-1/0,1/0],i=2,r=1,o=.01,d=""){const A=a.signals,c=new C;c.add(new B(t).setClass("Label"));const g=new J().setWidth("60px").setRange(n[0],n[1]).setPrecision(i).setStep(r).setNudge(o).setUnit(d).onChange(p);c.add(g);let l=null,u=null,m=null;function p(){if(m[e][s?0:1]!==g.getValue()){const b=s?g.getValue():m[e][0],Q=s?m[e][1]:g.getValue();a.execute(new Fs(a,l,e,b,Q,u))}}function h(b,Q=0){l=b,u=Q,l!==null&&l.material!==void 0&&(m=a.getObjectMaterial(l,u),e in m?(g.setValue(m[e][s?0:1]),c.setDisplay("")):c.setDisplay("none"))}return A.objectSelected.add(h),A.materialChanged.add(h),c}function fA(a,e){const t=a.signals,s=a.strings;let n=null,i=null,r=null;const o=new C;o.add(new B(s.getKey("sidebar/material/program")).setClass("Label"));const d=new le(s.getKey("sidebar/material/info"));d.setMarginRight("4px"),d.onClick(function(){t.editScript.dispatch(n,"programInfo")}),o.add(d);const A=new le(s.getKey("sidebar/material/vertex"));A.setMarginRight("4px"),A.onClick(function(){t.editScript.dispatch(n,"vertexShader")}),o.add(A);const c=new le(s.getKey("sidebar/material/fragment"));c.setMarginRight("4px"),c.onClick(function(){t.editScript.dispatch(n,"fragmentShader")}),o.add(c);function g(l,u=0){n=l,i=u,n!==null&&n.material!==void 0&&(r=a.getObjectMaterial(n,i),e in r?o.setDisplay(""):o.setDisplay("none"))}return t.objectSelected.add(g),t.materialChanged.add(g),o}function yA(a){const e=a.signals,t=a.strings;let s,n=0;const i=new re;i.setBorderTop("0"),i.setDisplay("none"),i.setPaddingTop("20px");const r=new C;r.add(new B(t.getKey("sidebar/material/slot")).setClass("Label"));const o=new Ke().setWidth("170px").setFontSize("12px").onChange(Ia);o.setOptions({0:""}).setValue(0),r.add(o),i.add(r);const d=new C,A=new Ke().setWidth("150px").setFontSize("12px").onChange(Ia);d.add(new B(t.getKey("sidebar/material/type")).setClass("Label")),d.add(A),i.add(d);const c=new C,g=new ft().setWidth("102px").setFontSize("12px").setDisabled(!0),l=new le(t.getKey("sidebar/material/new")).setMarginLeft("7px");l.onClick(function(){g.setValue(ne.generateUUID()),Ia()}),c.add(new B(t.getKey("sidebar/material/uuid")).setClass("Label")),c.add(g),c.add(l),i.add(c);const u=new C,m=new ft().setWidth("150px").setFontSize("12px").onChange(function(){a.execute(new it(a,a.selected,"name",m.getValue(),n))});u.add(new B(t.getKey("sidebar/material/name")).setClass("Label")),u.add(m),i.add(u);const p=new fA(a,"vertexShader");i.add(p);const h=new da(a,"color",t.getKey("sidebar/material/color"));i.add(h);const b=new da(a,"specular",t.getKey("sidebar/material/specular"));i.add(b);const Q=new xe(a,"shininess",t.getKey("sidebar/material/shininess"));i.add(Q);const f=new da(a,"emissive",t.getKey("sidebar/material/emissive"));i.add(f);const y=new xe(a,"reflectivity",t.getKey("sidebar/material/reflectivity"));i.add(y);const I=new xe(a,"ior",t.getKey("sidebar/material/ior"),[1,2.333],3);i.add(I);const _=new xe(a,"roughness",t.getKey("sidebar/material/roughness"),[0,1]);i.add(_);const L=new xe(a,"metalness",t.getKey("sidebar/material/metalness"),[0,1]);i.add(L);const S=new xe(a,"clearcoat",t.getKey("sidebar/material/clearcoat"),[0,1]);i.add(S);const M=new xe(a,"clearcoatRoughness",t.getKey("sidebar/material/clearcoatroughness"),[0,1]);i.add(M);const E=new xe(a,"dispersion",t.getKey("sidebar/material/dispersion"),[0,10]);i.add(E);const G=new xe(a,"iridescence",t.getKey("sidebar/material/iridescence"),[0,1]);i.add(G);const F=new xe(a,"iridescenceIOR",t.getKey("sidebar/material/iridescenceIOR"),[1,5]);i.add(F);const $=new bA(a,"iridescenceThicknessRange",t.getKey("sidebar/material/iridescenceThicknessMax"),!1,[0,1/0],0,10,1,"nm");i.add($);const Y=new xe(a,"sheen",t.getKey("sidebar/material/sheen"),[0,1]);i.add(Y);const W=new xe(a,"sheenRoughness",t.getKey("sidebar/material/sheenroughness"),[0,1]);i.add(W);const N=new da(a,"sheenColor",t.getKey("sidebar/material/sheencolor"));i.add(N);const O=new xe(a,"transmission",t.getKey("sidebar/material/transmission"),[0,1]);i.add(O);const H=new xe(a,"attenuationDistance",t.getKey("sidebar/material/attenuationDistance"));i.add(H);const j=new da(a,"attenuationColor",t.getKey("sidebar/material/attenuationColor"));i.add(j);const v=new xe(a,"thickness",t.getKey("sidebar/material/thickness"));i.add(v);const k=new pt(a,"vertexColors",t.getKey("sidebar/material/vertexcolors"));i.add(k);const q={[_r]:"Basic",[Rr]:"RGBA"},U=new gs(a,"depthPacking",t.getKey("sidebar/material/depthPacking"),q);i.add(U);const V=new ye(a,"map",t.getKey("sidebar/material/map"));i.add(V);const P=new ye(a,"specularMap",t.getKey("sidebar/material/specularmap"));i.add(P);const w=new ye(a,"emissiveMap",t.getKey("sidebar/material/emissivemap"));i.add(w);const D=new ye(a,"matcap",t.getKey("sidebar/material/matcap"));i.add(D);const R=new ye(a,"alphaMap",t.getKey("sidebar/material/alphamap"));i.add(R);const X=new ye(a,"bumpMap",t.getKey("sidebar/material/bumpmap"));i.add(X);const T=new ye(a,"normalMap",t.getKey("sidebar/material/normalmap"));i.add(T);const z=new ye(a,"clearcoatMap",t.getKey("sidebar/material/clearcoatmap"));i.add(z);const ee=new ye(a,"clearcoatNormalMap",t.getKey("sidebar/material/clearcoatnormalmap"));i.add(ee);const se=new ye(a,"clearcoatRoughnessMap",t.getKey("sidebar/material/clearcoatroughnessmap"));i.add(se);const fe=new ye(a,"displacementMap",t.getKey("sidebar/material/displacementmap"));i.add(fe);const je=new ye(a,"roughnessMap",t.getKey("sidebar/material/roughnessmap"));i.add(je);const gt=new ye(a,"metalnessMap",t.getKey("sidebar/material/metalnessmap"));i.add(gt);const Ze=new ye(a,"iridescenceMap",t.getKey("sidebar/material/iridescencemap"));i.add(Ze);const vt=new ye(a,"sheenColorMap",t.getKey("sidebar/material/sheencolormap"));i.add(vt);const Mt=new ye(a,"sheenRoughnessMap",t.getKey("sidebar/material/sheenroughnessmap"));i.add(Mt);const Dt=new ye(a,"iridescenceThicknessMap",t.getKey("sidebar/material/iridescencethicknessmap"));i.add(Dt);const Rt=new ye(a,"envMap",t.getKey("sidebar/material/envmap"));i.add(Rt);const _t=new ye(a,"lightMap",t.getKey("sidebar/material/lightmap"));i.add(_t);const Lt=new ye(a,"aoMap",t.getKey("sidebar/material/aomap"));i.add(Lt);const Tt=new ye(a,"gradientMap",t.getKey("sidebar/material/gradientmap"));i.add(Tt);const Nt=new ye(a,"transmissionMap",t.getKey("sidebar/material/transmissionmap"));i.add(Nt);const Yt=new ye(a,"thicknessMap",t.getKey("sidebar/material/thicknessmap"));i.add(Yt);const Gt={0:"Front",1:"Back",2:"Double"},qt=new gs(a,"side",t.getKey("sidebar/material/side"),Gt);i.add(qt);const kt=new xe(a,"size",t.getKey("sidebar/material/size"),[0,1/0]);i.add(kt);const zt=new pt(a,"sizeAttenuation",t.getKey("sidebar/material/sizeAttenuation"));i.add(zt);const Ft=new pt(a,"flatShading",t.getKey("sidebar/material/flatShading"));i.add(Ft);const Xt={0:"No",1:"Normal",2:"Additive",3:"Subtractive",4:"Multiply",5:"Custom"},Pe=new gs(a,"blending",t.getKey("sidebar/material/blending"),Xt);i.add(Pe);const Wt=new xe(a,"opacity",t.getKey("sidebar/material/opacity"),[0,1]);i.add(Wt);const de=new pt(a,"transparent",t.getKey("sidebar/material/transparent"));i.add(de);const Xa=new pt(a,"forceSinglePass",t.getKey("sidebar/material/forcesinglepass"));i.add(Xa);const Wa=new xe(a,"alphaTest",t.getKey("sidebar/material/alphatest"),[0,1]);i.add(Wa);const Zt=new pt(a,"depthTest",t.getKey("sidebar/material/depthtest"));i.add(Zt);const x=new pt(a,"depthWrite",t.getKey("sidebar/material/depthwrite"));i.add(x);const De=new pt(a,"wireframe",t.getKey("sidebar/material/wireframe"));i.add(De);const qe=new C,Se=new Ls().setWidth("150px").setHeight("40px").setFontSize("12px").onChange(Ia);Se.onKeyUp(function(){try{JSON.parse(Se.getValue()),Se.dom.classList.add("success"),Se.dom.classList.remove("fail")}catch{Se.dom.classList.remove("success"),Se.dom.classList.add("fail")}}),qe.add(new B(t.getKey("sidebar/material/userdata")).setClass("Label")),qe.add(Se),i.add(qe);const Oe=new le(t.getKey("sidebar/material/export"));Oe.setMarginLeft("120px"),Oe.onClick(function(){const ge=a.selected;let pe=(Array.isArray(ge.material)?ge.material[n]:ge.material).toJSON();try{pe=JSON.stringify(pe,null,"	"),pe=pe.replace(/[\n\t]+([\d\.e\-\[\]]+)/g,"$1")}catch{pe=JSON.stringify(pe)}a.utils.save(new Blob([pe]),`${m.getValue()||"material"}.json`)}),i.add(Oe);function Ia(){const ge=n;n=parseInt(o.getValue()),n!==ge&&a.signals.materialChanged.dispatch(s,n);let he=a.getObjectMaterial(s,n);if(he){if(he.uuid!==void 0&&he.uuid!==g.getValue()&&a.execute(new it(a,s,"uuid",g.getValue(),n)),he.type!==A.getValue()){he=new CA[A.getValue()],he.type==="RawShaderMaterial"&&(he.vertexShader=IA+he.vertexShader);const pe=s.material;if(he.type==="MeshPhysicalMaterial"&&pe.type==="MeshStandardMaterial"){const Ks=["color","emissive","roughness","metalness","map","emissiveMap","alphaMap","bumpMap","normalMap","normalScale","displacementMap","roughnessMap","metalnessMap","envMap","lightMap","aoMap","side"];for(const $a of Ks){const wa=pe[$a];wa!==null&&(wa.clone!==void 0?he[$a]=wa.clone():he[$a]=wa)}}Array.isArray(pe)?a.removeMaterial(pe[n]):a.removeMaterial(pe),a.execute(new bi(a,s,he,n),t.getKey("command/SetMaterial")+": "+A.getValue()),a.addMaterial(he)}try{const pe=JSON.parse(Se.getValue());JSON.stringify(he.userData)!=JSON.stringify(pe)&&a.execute(new it(a,s,"userData",pe,n))}catch(pe){console.warn(pe)}Za()}}function Fi(){const ge=s.material;Array.isArray(ge)?r.setDisplay(""):r.setDisplay("none")}function Za(){if(!s)return;let ge=s.material;if(Array.isArray(ge)){const he={};n=Math.max(0,Math.min(ge.length,n));for(let pe=0;pe<ge.length;pe++)he[pe]=String(pe+1)+": "+ge[pe].name;o.setOptions(he).setValue(n)}ge=a.getObjectMaterial(s,n),ge.uuid!==void 0&&g.setValue(ge.uuid),ge.name!==void 0&&m.setValue(ge.name),s.isMesh?A.setOptions(wA):s.isSprite?A.setOptions(BA):s.isPoints?A.setOptions(QA):s.isLine&&A.setOptions(EA),A.setValue(ge.type),Fi();try{Se.setValue(JSON.stringify(ge.userData,null,"  "))}catch(he){console.log(he)}Se.setBorderColor("transparent"),Se.setBackgroundColor("")}return e.objectSelected.add(function(ge){let he=!1;ge&&ge.material&&(he=!0,Array.isArray(ge.material)&&ge.material.length===0&&(he=!1)),he?(s=ge,Za(),i.setDisplay("")):(s=null,i.setDisplay("none"))}),e.materialChanged.add(Za),i}const CA={LineBasicMaterial:Ua,LineDashedMaterial:Dr,MeshBasicMaterial:Ge,MeshDepthMaterial:Mr,MeshNormalMaterial:On,MeshLambertMaterial:Un,MeshMatcapMaterial:vr,MeshPhongMaterial:xr,MeshToonMaterial:Sr,MeshStandardMaterial:ue,MeshPhysicalMaterial:We,RawShaderMaterial:Qr,ShaderMaterial:Br,ShadowMaterial:Er,SpriteMaterial:Ms,PointsMaterial:ua},IA=["uniform mat4 projectionMatrix;",`uniform mat4 modelViewMatrix;
`,`attribute vec3 position;

`].join(`
`),wA={MeshBasicMaterial:"MeshBasicMaterial",MeshDepthMaterial:"MeshDepthMaterial",MeshNormalMaterial:"MeshNormalMaterial",MeshLambertMaterial:"MeshLambertMaterial",MeshMatcapMaterial:"MeshMatcapMaterial",MeshPhongMaterial:"MeshPhongMaterial",MeshToonMaterial:"MeshToonMaterial",MeshStandardMaterial:"MeshStandardMaterial",MeshPhysicalMaterial:"MeshPhysicalMaterial",RawShaderMaterial:"RawShaderMaterial",ShaderMaterial:"ShaderMaterial",ShadowMaterial:"ShadowMaterial"},EA={LineBasicMaterial:"LineBasicMaterial",LineDashedMaterial:"LineDashedMaterial",RawShaderMaterial:"RawShaderMaterial",ShaderMaterial:"ShaderMaterial"},BA={SpriteMaterial:"SpriteMaterial",RawShaderMaterial:"RawShaderMaterial",ShaderMaterial:"ShaderMaterial"},QA={PointsMaterial:"PointsMaterial",RawShaderMaterial:"RawShaderMaterial",ShaderMaterial:"ShaderMaterial"};function SA(a){const e=a.strings,t=a.signals,s=new re;s.setBorderTop("0"),s.setPaddingTop("20px"),s.setDisplay("none");const n=new C;s.add(n);const i=new le(e.getKey("sidebar/script/new"));i.onClick(function(){const o={name:"",source:"function update( event ) {}"};a.execute(new ui(a,a.selected,o))}),s.add(i);function r(){n.clear(),n.setDisplay("none");const o=a.selected;if(o===null)return;const d=a.scripts[o.uuid];if(d!==void 0&&d.length>0){n.setDisplay("block");for(let A=0;A<d.length;A++)(function(c,g){const l=new ft(g.name).setWidth("130px").setFontSize("12px");l.onChange(function(){a.execute(new Ci(a,a.selected,g,"name",this.getValue()))}),n.add(l);const u=new le(e.getKey("sidebar/script/edit"));u.setMarginLeft("4px"),u.onClick(function(){t.editScript.dispatch(c,g)}),n.add(u);const m=new le(e.getKey("sidebar/script/remove"));m.setMarginLeft("4px"),m.onClick(function(){confirm(e.getKey("prompt/script/remove"))&&a.execute(new hi(a,a.selected,g))}),n.add(m),n.add(new Te)})(o,d[A])}}return t.objectSelected.add(function(o){o!==null&&a.camera!==o?(s.setDisplay("block"),r()):s.setDisplay("none")}),t.scriptAdded.add(r),t.scriptRemoved.add(r),t.scriptChanged.add(r),s}function xA(a){const e=a.strings,t=new si;t.setId("properties"),t.addTab("objectTab",e.getKey("sidebar/properties/object"),new tA(a)),t.addTab("geometryTab",e.getKey("sidebar/properties/geometry"),new pA(a)),t.addTab("materialTab",e.getKey("sidebar/properties/material"),new yA(a)),t.addTab("scriptTab",e.getKey("sidebar/properties/script"),new SA(a)),t.select("objectTab");function s(d,A){return d.find(function(c){return c.dom.id===A})}const n=s(t.tabs,"geometryTab"),i=s(t.tabs,"materialTab"),r=s(t.tabs,"scriptTab");function o(d){t.setHidden(d===null),d!==null&&(n.setHidden(!d.geometry),i.setHidden(!d.material),r.setHidden(d===a.camera),t.selected==="geometryTab"?t.select(n.isHidden()?"objectTab":"geometryTab"):t.selected==="materialTab"?t.select(i.isHidden()?"objectTab":"materialTab"):t.selected==="scriptTab"&&t.select(r.isHidden()?"objectTab":"scriptTab"))}return a.signals.objectSelected.add(o),o(a.selected),t}function vA(a){const e=a.strings,t=navigator.platform.toUpperCase().indexOf("MAC")>=0;function s(c){return c.match(/^[A-Za-z0-9]$/i)}const n=a.config,i=a.signals,r=new re,o=new C;o.add(new B(e.getKey("sidebar/settings/shortcuts").toUpperCase())),r.add(o);const d=["translate","rotate","scale","undo","focus"];function A(c){const g="settings/shortcuts/"+c,l=new C,u=new ft().setWidth("15px").setFontSize("12px");u.setTextAlign("center"),u.setTextTransform("lowercase"),u.onChange(function(){const m=u.getValue().toLowerCase();s(m)&&n.setKey(g,m)}),u.dom.addEventListener("click",function(){u.dom.select()}),u.dom.addEventListener("blur",function(){s(u.getValue())||u.setValue(n.getKey(g))}),u.dom.addEventListener("keyup",function(m){s(m.key)&&u.dom.blur()}),n.getKey(g)!==void 0&&u.setValue(n.getKey(g)),u.dom.maxLength=1,l.add(new B(e.getKey("sidebar/settings/shortcuts/"+c)).setTextTransform("capitalize").setClass("Label")),l.add(u),r.add(l)}for(let c=0;c<d.length;c++)A(d[c]);return document.addEventListener("keydown",function(c){switch(c.key.toLowerCase()){case"backspace":c.preventDefault();case"delete":const g=a.selected;if(g===null)return;g.parent!==null&&a.execute(new ks(a,g));break;case n.getKey("settings/shortcuts/translate"):i.transformModeChanged.dispatch("translate");break;case n.getKey("settings/shortcuts/rotate"):i.transformModeChanged.dispatch("rotate");break;case n.getKey("settings/shortcuts/scale"):i.transformModeChanged.dispatch("scale");break;case n.getKey("settings/shortcuts/undo"):(t?c.metaKey:c.ctrlKey)&&(c.preventDefault(),c.shiftKey?a.redo():a.undo());break;case n.getKey("settings/shortcuts/focus"):a.selected!==null&&a.focus(a.selected);break}}),r}function MA(a){const e=a.strings,t=a.signals,s=a.config,n=a.history,i=new re;i.add(new B(e.getKey("sidebar/history").toUpperCase()));const r=new Pa(s.getKey("settings/history"),e.getKey("sidebar/history/persistent"));r.setPosition("absolute").setRight("8px"),r.onChange(function(){const g=this.getValue();if(s.setKey("settings/history",g),g){alert(e.getKey("prompt/history/preserve"));const l=n.undos[n.undos.length-1],u=l!==void 0?l.id:0;a.history.enableSerialization(u)}else t.historyChanged.dispatch()}),i.add(r),i.add(new Te,new Te);let o=!1;const d=new vi(a);d.onChange(function(){o=!0,a.history.goToState(parseInt(d.getValue())),o=!1}),i.add(d),i.add(new Te);const A=new le(e.getKey("sidebar/history/clear"));A.onClick(function(){confirm(e.getKey("prompt/history/clear"))&&a.history.clear()}),i.add(A);const c=function(){const g=[];function l(u){const m=document.createElement("div");return m.value=u.id,m}(function(m){for(let p=0,h=m.length;p<h;p++){const b=m[p],Q=l(b);Q.innerHTML="&nbsp;"+b.name,g.push(Q)}})(n.undos),(function(m){for(let p=m.length-1;p>=0;p--){const h=m[p],b=l(h);b.innerHTML="&nbsp;"+h.name,b.style.opacity=.3,g.push(b)}})(n.redos),d.setOptions(g)};return c(),t.editorCleared.add(c),t.historyChanged.add(c),t.historyChanged.add(function(g){o!==!0&&d.setValue(g!==void 0?g.id:null)}),i}function DA(a){const e=a.config,t=a.strings,s=new ct,n=new re;n.setBorderTop("0"),n.setPaddingTop("20px"),s.add(n);const i=Object.fromEntries(["en","fr","zh","ja","ko","fa"].map(d=>[d,new Intl.DisplayNames(d,{type:"language"}).of(d)])),r=new C,o=new Ke().setWidth("150px");return o.setOptions(i),e.getKey("language")!==void 0&&o.setValue(e.getKey("language")),o.onChange(function(){const d=this.getValue();a.config.setKey("language",d)}),r.add(new B(t.getKey("sidebar/settings/language")).setClass("Label")),r.add(o),n.add(r),s.add(new vA(a)),s.add(new MA(a)),s}function yl(a){const e=a.strings,t=new si;t.setId("sidebar");const s=new xA(a),n=new ct().add(new $d(a),s),i=new Ld,r=new DA(a);return t.addTab("scene",e.getKey("sidebar/scene"),n),t.addTab("project",e.getKey("sidebar/project"),i),t.addTab("settings",e.getKey("sidebar/settings"),r),t.select("scene"),new ResizeObserver(function(){s.tabsDiv.setWidth(getComputedStyle(t.dom).width)}).observe(t.tabsDiv.dom),t}function Cl(a){const e=a.signals,t=document.createElement("div");t.id="resizer";function s(r){r.isPrimary!==!1&&(t.ownerDocument.addEventListener("pointermove",i),t.ownerDocument.addEventListener("pointerup",n))}function n(r){r.isPrimary!==!1&&(t.ownerDocument.removeEventListener("pointermove",i),t.ownerDocument.removeEventListener("pointerup",n))}function i(r){if(r.isPrimary===!1)return;const o=document.body.offsetWidth,d=r.clientX,A=d<0?0:d>o?o:d,c=Math.max(335,o-A);t.style.right=c+"px",document.getElementById("sidebar").style.width=c+"px",document.getElementById("player").style.right=c+"px",document.getElementById("script").style.right=c+"px",document.getElementById("viewport").style.right=c+"px",e.windowResize.dispatch()}return t.addEventListener("pointerdown",s),new Me(t)}function RA(a,e){const t=a.strings,s=a.signals,n=new Ae,r=e.geometry.parameters,o=new C,d=new J().setPrecision(3).setValue(r.width).onChange(y);o.add(new B(t.getKey("sidebar/geometry/box_geometry/width")).setClass("Label")),o.add(d),n.add(o);const A=new C,c=new J().setPrecision(3).setValue(r.height).onChange(y);A.add(new B(t.getKey("sidebar/geometry/box_geometry/height")).setClass("Label")),A.add(c),n.add(A);const g=new C,l=new J().setPrecision(3).setValue(r.depth).onChange(y);g.add(new B(t.getKey("sidebar/geometry/box_geometry/depth")).setClass("Label")),g.add(l),n.add(g);const u=new C,m=new ie(r.widthSegments).setRange(1,1/0).onChange(y);u.add(new B(t.getKey("sidebar/geometry/box_geometry/widthseg")).setClass("Label")),u.add(m),n.add(u);const p=new C,h=new ie(r.heightSegments).setRange(1,1/0).onChange(y);p.add(new B(t.getKey("sidebar/geometry/box_geometry/heightseg")).setClass("Label")),p.add(h),n.add(p);const b=new C,Q=new ie(r.depthSegments).setRange(1,1/0).onChange(y);b.add(new B(t.getKey("sidebar/geometry/box_geometry/depthseg")).setClass("Label")),b.add(Q),n.add(b);function f(){const I=e.geometry.parameters;d.setValue(I.width),c.setValue(I.height),l.setValue(I.depth),m.setValue(I.widthSegments),h.setValue(I.heightSegments),Q.setValue(I.depthSegments)}s.geometryChanged.add(function(I){I===e&&f()});function y(){a.execute(new Qe(a,e,new ve(d.getValue(),c.getValue(),l.getValue(),m.getValue(),h.getValue(),Q.getValue())))}return n}const _A=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:RA},Symbol.toStringTag,{value:"Module"}));function LA(a,e){const t=a.strings,s=a.signals,n=new Ae,r=e.geometry.parameters,o=new C,d=new J(r.radius).onChange(Q);o.add(new B(t.getKey("sidebar/geometry/capsule_geometry/radius")).setClass("Label")),o.add(d),n.add(o);const A=new C,c=new J(r.height).onChange(Q);A.add(new B(t.getKey("sidebar/geometry/capsule_geometry/height")).setClass("Label")),A.add(c),n.add(A);const g=new C,l=new ie(r.capSegments).setRange(1,1/0).onChange(Q);g.add(new B(t.getKey("sidebar/geometry/capsule_geometry/capseg")).setClass("Label")),g.add(l),n.add(g);const u=new C,m=new ie(r.radialSegments).setRange(1,1/0).onChange(Q);u.add(new B(t.getKey("sidebar/geometry/capsule_geometry/radialseg")).setClass("Label")),u.add(m),n.add(u);const p=new C,h=new ie(r.heightSegments).setRange(1,1/0).onChange(Q);p.add(new B(t.getKey("sidebar/geometry/capsule_geometry/heightseg")).setClass("Label")),p.add(h),n.add(p);function b(){const f=e.geometry.parameters;d.setValue(f.radius),c.setValue(f.height),l.setValue(f.capSegments),m.setValue(f.radialSegments),h.setValue(f.heightSegments)}s.geometryChanged.add(function(f){f===e&&b()});function Q(){a.execute(new Qe(a,e,new Hn(d.getValue(),c.getValue(),l.getValue(),m.getValue(),h.getValue())))}return n}const TA=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:LA},Symbol.toStringTag,{value:"Module"}));function NA(a,e){const t=a.strings,s=a.signals,n=new Ae,r=e.geometry.parameters,o=new C,d=new J(r.radius).onChange(h);o.add(new B(t.getKey("sidebar/geometry/circle_geometry/radius")).setClass("Label")),o.add(d),n.add(o);const A=new C,c=new ie(r.segments).setRange(3,1/0).onChange(h);A.add(new B(t.getKey("sidebar/geometry/circle_geometry/segments")).setClass("Label")),A.add(c),n.add(A);const g=new C,l=new J(r.thetaStart*ne.RAD2DEG).setUnit("").setStep(10).onChange(h);g.add(new B(t.getKey("sidebar/geometry/circle_geometry/thetastart")).setClass("Label")),g.add(l),n.add(g);const u=new C,m=new J(r.thetaLength*ne.RAD2DEG).setUnit("").setStep(10).onChange(h);u.add(new B(t.getKey("sidebar/geometry/circle_geometry/thetalength")).setClass("Label")),u.add(m),n.add(u);function p(){const b=e.geometry.parameters;d.setValue(b.radius),c.setValue(b.segments),l.setValue(b.thetaStart*ne.RAD2DEG),m.setValue(b.thetaLength*ne.RAD2DEG)}s.geometryChanged.add(function(b){b===e&&p()});function h(){a.execute(new Qe(a,e,new Jn(d.getValue(),c.getValue(),l.getValue()*ne.DEG2RAD,m.getValue()*ne.DEG2RAD)))}return n}const GA=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:NA},Symbol.toStringTag,{value:"Module"}));function kA(a,e){const t=a.strings,s=a.signals,n=new Ae,r=e.geometry.parameters,o=new C,d=new J(r.radiusTop).onChange(y);o.add(new B(t.getKey("sidebar/geometry/cylinder_geometry/radiustop")).setClass("Label")),o.add(d),n.add(o);const A=new C,c=new J(r.radiusBottom).onChange(y);A.add(new B(t.getKey("sidebar/geometry/cylinder_geometry/radiusbottom")).setClass("Label")),A.add(c),n.add(A);const g=new C,l=new J(r.height).onChange(y);g.add(new B(t.getKey("sidebar/geometry/cylinder_geometry/height")).setClass("Label")),g.add(l),n.add(g);const u=new C,m=new ie(r.radialSegments).setRange(1,1/0).onChange(y);u.add(new B(t.getKey("sidebar/geometry/cylinder_geometry/radialsegments")).setClass("Label")),u.add(m),n.add(u);const p=new C,h=new ie(r.heightSegments).setRange(1,1/0).onChange(y);p.add(new B(t.getKey("sidebar/geometry/cylinder_geometry/heightsegments")).setClass("Label")),p.add(h),n.add(p);const b=new C,Q=new ot(r.openEnded).onChange(y);b.add(new B(t.getKey("sidebar/geometry/cylinder_geometry/openended")).setClass("Label")),b.add(Q),n.add(b);function f(){const I=e.geometry.parameters;d.setValue(I.radiusTop),c.setValue(I.radiusBottom),l.setValue(I.height),m.setValue(I.radialSegments),h.setValue(I.heightSegments),Q.setValue(I.openEnded)}s.geometryChanged.add(function(I){I===e&&f()});function y(){a.execute(new Qe(a,e,new Re(d.getValue(),c.getValue(),l.getValue(),m.getValue(),h.getValue(),Q.getValue())))}return n}const FA=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:kA},Symbol.toStringTag,{value:"Module"}));function VA(a,e){const t=a.strings,s=a.signals,n=new Ae,r=e.geometry.parameters,o=new C,d=new J(r.radius).onChange(l);o.add(new B(t.getKey("sidebar/geometry/dodecahedron_geometry/radius")).setClass("Label")),o.add(d),n.add(o);const A=new C,c=new ie(r.detail).setRange(0,1/0).onChange(l);A.add(new B(t.getKey("sidebar/geometry/dodecahedron_geometry/detail")).setClass("Label")),A.add(c),n.add(A);function g(){const u=e.geometry.parameters;d.setValue(u.radius),c.setValue(u.detail)}s.geometryChanged.add(function(u){u===e&&g()});function l(){a.execute(new Qe(a,e,new Yn(d.getValue(),c.getValue())))}return n}const jA=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:VA},Symbol.toStringTag,{value:"Module"}));function PA(a,e){const t=a.strings,s=a.signals,n=new Ae,r=e.geometry.parameters,o=r.options;o.curveSegments=o.curveSegments!=null?o.curveSegments:12,o.steps=o.steps!=null?o.steps:1,o.depth=o.depth!=null?o.depth:1;const d=o.bevelThickness!==void 0?o.bevelThickness:.2;o.bevelThickness=d,o.bevelSize=o.bevelSize!==void 0?o.bevelSize:d-.1,o.bevelOffset=o.bevelOffset!==void 0?o.bevelOffset:0,o.bevelSegments=o.bevelSegments!==void 0?o.bevelSegments:3;const A=new C,c=new ie(o.curveSegments).onChange(F).setRange(1,1/0);A.add(new B(t.getKey("sidebar/geometry/extrude_geometry/curveSegments")).setClass("Label")),A.add(c),n.add(A);const g=new C,l=new ie(o.steps).onChange(F).setRange(1,1/0);g.add(new B(t.getKey("sidebar/geometry/extrude_geometry/steps")).setClass("Label")),g.add(l),n.add(g);const u=new C,m=new J(o.depth).onChange(F).setRange(1,1/0);u.add(new B(t.getKey("sidebar/geometry/extrude_geometry/depth")).setClass("Label")),u.add(m),n.add(u);const p=new C,h=new ot(o.bevelEnabled).onChange(F);p.add(new B(t.getKey("sidebar/geometry/extrude_geometry/bevelEnabled")).setClass("Label")),p.add(h),n.add(p);const b=new C,Q=new J(o.bevelThickness).onChange(F);b.add(new B(t.getKey("sidebar/geometry/extrude_geometry/bevelThickness")).setClass("Label")),b.add(Q),n.add(b);const f=new C,y=new J(o.bevelSize).onChange(F);f.add(new B(t.getKey("sidebar/geometry/extrude_geometry/bevelSize")).setClass("Label")),f.add(y),n.add(f);const I=new C,_=new J(o.bevelOffset).onChange(F);I.add(new B(t.getKey("sidebar/geometry/extrude_geometry/bevelOffset")).setClass("Label")),I.add(_),n.add(I);const L=new C,S=new ie(o.bevelSegments).onChange(F).setRange(0,1/0);L.add(new B(t.getKey("sidebar/geometry/extrude_geometry/bevelSegments")).setClass("Label")),L.add(S),n.add(L),E(o.bevelEnabled);const M=new le(t.getKey("sidebar/geometry/extrude_geometry/shape")).onClick($).setClass("Label").setMarginLeft("120px");n.add(M);function E(Y){Y===!0?(b.setDisplay(""),f.setDisplay(""),I.setDisplay(""),L.setDisplay("")):(b.setDisplay("none"),f.setDisplay("none"),I.setDisplay("none"),L.setDisplay("none"))}function G(){const Y=e.geometry.parameters.options;c.setValue(Y.curveSegments),l.setValue(Y.steps),m.setValue(Y.depth),h.setValue(Y.bevelEnabled),Q.setValue(Y.bevelThickness),y.setValue(Y.bevelSize),_.setValue(Y.bevelOffset),S.setValue(Y.bevelSegments),E(Y.bevelEnabled)}s.geometryChanged.add(function(Y){Y===e&&G()});function F(){E(h.getValue()),a.execute(new Qe(a,e,new ti(r.shapes,{curveSegments:c.getValue(),steps:l.getValue(),depth:m.getValue(),bevelEnabled:h.getValue(),bevelThickness:Q!==void 0?Q.getValue():o.bevelThickness,bevelSize:y!==void 0?y.getValue():o.bevelSize,bevelOffset:_!==void 0?_.getValue():o.bevelOffset,bevelSegments:S!==void 0?S.getValue():o.bevelSegments})))}function $(){a.execute(new Qe(a,e,new xs(r.shapes,o.curveSegments)))}return n}const KA=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:PA},Symbol.toStringTag,{value:"Module"}));function UA(a,e){const t=a.strings,s=a.signals,n=new Ae,r=e.geometry.parameters,o=new C,d=new J(r.radius).onChange(l);o.add(new B(t.getKey("sidebar/geometry/icosahedron_geometry/radius")).setClass("Label")),o.add(d),n.add(o);const A=new C,c=new ie(r.detail).setRange(0,1/0).onChange(l);A.add(new B(t.getKey("sidebar/geometry/icosahedron_geometry/detail")).setClass("Label")),A.add(c),n.add(A);function g(){const u=e.geometry.parameters;d.setValue(u.radius),c.setValue(u.detail)}s.geometryChanged.add(function(u){u===e&&g()});function l(){a.execute(new Qe(a,e,new qn(d.getValue(),c.getValue())))}return n}const OA=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:UA},Symbol.toStringTag,{value:"Module"}));function HA(a,e){const t=a.strings,s=a.signals,n=new Ae,r=e.geometry.parameters,o=new C,d=new ie(r.segments).onChange(h);o.add(new B(t.getKey("sidebar/geometry/lathe_geometry/segments")).setClass("Label")),o.add(d),n.add(o);const A=new C,c=new J(r.phiStart*ne.RAD2DEG).onChange(h);A.add(new B(t.getKey("sidebar/geometry/lathe_geometry/phistart")).setClass("Label")),A.add(c),n.add(A);const g=new C,l=new J(r.phiLength*ne.RAD2DEG).onChange(h);g.add(new B(t.getKey("sidebar/geometry/lathe_geometry/philength")).setClass("Label")),g.add(l),n.add(g);const u=new C;u.add(new B(t.getKey("sidebar/geometry/lathe_geometry/points")).setClass("Label"));const m=new zd().setValue(r.points).onChange(h);u.add(m),n.add(u);function p(){const b=e.geometry.parameters;m.setValue(b.points,!1),d.setValue(b.segments),c.setValue(b.phiStart*ne.RAD2DEG),l.setValue(b.phiLength*ne.RAD2DEG)}s.geometryChanged.add(function(b){b===e&&p()});function h(){a.execute(new Qe(a,e,new zn(m.getValue(),d.getValue(),c.getValue()*ne.DEG2RAD,l.getValue()*ne.DEG2RAD)))}return n}const JA=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:HA},Symbol.toStringTag,{value:"Module"}));function YA(a,e){const t=a.strings,s=a.signals,n=new Ae,r=e.geometry.parameters,o=new C,d=new J(r.radius).onChange(l);o.add(new B(t.getKey("sidebar/geometry/octahedron_geometry/radius")).setClass("Label")),o.add(d),n.add(o);const A=new C,c=new ie(r.detail).setRange(0,1/0).onChange(l);A.add(new B(t.getKey("sidebar/geometry/octahedron_geometry/detail")).setClass("Label")),A.add(c),n.add(A);function g(){const u=e.geometry.parameters;d.setValue(u.radius),c.setValue(u.detail)}s.geometryChanged.add(function(u){u===e&&g()});function l(){a.execute(new Qe(a,e,new Pt(d.getValue(),c.getValue())))}return n}const qA=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:YA},Symbol.toStringTag,{value:"Module"}));function zA(a,e){const t=a.strings,s=a.signals,n=new Ae,r=e.geometry.parameters,o=new C,d=new J(r.width).onChange(h);o.add(new B(t.getKey("sidebar/geometry/plane_geometry/width")).setClass("Label")),o.add(d),n.add(o);const A=new C,c=new J(r.height).onChange(h);A.add(new B(t.getKey("sidebar/geometry/plane_geometry/height")).setClass("Label")),A.add(c),n.add(A);const g=new C,l=new ie(r.widthSegments).setRange(1,1/0).onChange(h);g.add(new B(t.getKey("sidebar/geometry/plane_geometry/widthsegments")).setClass("Label")),g.add(l),n.add(g);const u=new C,m=new ie(r.heightSegments).setRange(1,1/0).onChange(h);u.add(new B(t.getKey("sidebar/geometry/plane_geometry/heightsegments")).setClass("Label")),u.add(m),n.add(u);function p(){const b=e.geometry.parameters;d.setValue(b.width),c.setValue(b.height),l.setValue(b.widthSegments),m.setValue(b.heightSegments)}s.geometryChanged.add(function(b){b===e&&p()});function h(){a.execute(new Qe(a,e,new Oa(d.getValue(),c.getValue(),l.getValue(),m.getValue())))}return n}const XA=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:zA},Symbol.toStringTag,{value:"Module"}));function WA(a,e){const t=a.strings,s=a.signals,n=new Ae,r=e.geometry.parameters,o=new C,d=new J(r.innerRadius).onChange(y);o.add(new B(t.getKey("sidebar/geometry/ring_geometry/innerRadius")).setClass("Label")),o.add(d),n.add(o);const A=new C,c=new J(r.outerRadius).onChange(y);A.add(new B(t.getKey("sidebar/geometry/ring_geometry/outerRadius")).setClass("Label")),A.add(c),n.add(A);const g=new C,l=new ie(r.thetaSegments).setRange(3,1/0).onChange(y);g.add(new B(t.getKey("sidebar/geometry/ring_geometry/thetaSegments")).setClass("Label")),g.add(l),n.add(g);const u=new C,m=new ie(r.phiSegments).setRange(3,1/0).onChange(y);u.add(new B(t.getKey("sidebar/geometry/ring_geometry/phiSegments")).setClass("Label")),u.add(m),n.add(u);const p=new C,h=new J(r.thetaStart*ne.RAD2DEG).setUnit("").setStep(10).onChange(y);p.add(new B(t.getKey("sidebar/geometry/ring_geometry/thetastart")).setClass("Label")),p.add(h),n.add(p);const b=new C,Q=new J(r.thetaLength*ne.RAD2DEG).setUnit("").setStep(10).onChange(y);b.add(new B(t.getKey("sidebar/geometry/ring_geometry/thetalength")).setClass("Label")),b.add(Q),n.add(b);function f(){const I=e.geometry.parameters;d.setValue(I.innerRadius),c.setValue(I.outerRadius),l.setValue(I.thetaSegments),m.setValue(I.phiSegments),h.setValue(I.thetaStart*ne.RAD2DEG),Q.setValue(I.thetaLength*ne.RAD2DEG)}s.geometryChanged.add(function(I){I===e&&f()});function y(){a.execute(new Qe(a,e,new Xn(d.getValue(),c.getValue(),l.getValue(),m.getValue(),h.getValue()*ne.DEG2RAD,Q.getValue()*ne.DEG2RAD)))}return n}const ZA=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:WA},Symbol.toStringTag,{value:"Module"}));function $A(a,e){const t=a.strings,s=a.signals,n=new Ae,r=e.geometry.parameters,o=new C,d=new ie(r.curveSegments||12).onChange(g).setRange(1,1/0);o.add(new B(t.getKey("sidebar/geometry/shape_geometry/curveSegments")).setClass("Label")),o.add(d),n.add(o);const A=new le(t.getKey("sidebar/geometry/shape_geometry/extrude")).onClick(l).setClass("Label").setMarginLeft("120px");n.add(A);function c(){const u=e.geometry.parameters;d.setValue(u.curveSegments)}s.geometryChanged.add(function(u){u===e&&c()});function g(){a.execute(new Qe(a,e,new xs(r.shapes,d.getValue())))}function l(){a.execute(new Qe(a,e,new ti(r.shapes,{curveSegments:d.getValue()})))}return n}const el=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:$A},Symbol.toStringTag,{value:"Module"}));function tl(a,e){const t=a.strings,s=a.signals,n=new Ae,r=e.geometry.parameters,o=new C,d=new J(r.radius).onChange(_);o.add(new B(t.getKey("sidebar/geometry/sphere_geometry/radius")).setClass("Label")),o.add(d),n.add(o);const A=new C,c=new ie(r.widthSegments).setRange(1,1/0).onChange(_);A.add(new B(t.getKey("sidebar/geometry/sphere_geometry/widthsegments")).setClass("Label")),A.add(c),n.add(A);const g=new C,l=new ie(r.heightSegments).setRange(1,1/0).onChange(_);g.add(new B(t.getKey("sidebar/geometry/sphere_geometry/heightsegments")).setClass("Label")),g.add(l),n.add(g);const u=new C,m=new J(r.phiStart*ne.RAD2DEG).setUnit("").setStep(10).onChange(_);u.add(new B(t.getKey("sidebar/geometry/sphere_geometry/phistart")).setClass("Label")),u.add(m),n.add(u);const p=new C,h=new J(r.phiLength*ne.RAD2DEG).setUnit("").setStep(10).onChange(_);p.add(new B(t.getKey("sidebar/geometry/sphere_geometry/philength")).setClass("Label")),p.add(h),n.add(p);const b=new C,Q=new J(r.thetaStart*ne.RAD2DEG).setUnit("").setStep(10).onChange(_);b.add(new B(t.getKey("sidebar/geometry/sphere_geometry/thetastart")).setClass("Label")),b.add(Q),n.add(b);const f=new C,y=new J(r.thetaLength*ne.RAD2DEG).setUnit("").setStep(10).onChange(_);f.add(new B(t.getKey("sidebar/geometry/sphere_geometry/thetalength")).setClass("Label")),f.add(y),n.add(f);function I(){const L=e.geometry.parameters;d.setValue(L.radius),c.setValue(L.widthSegments),l.setValue(L.heightSegments),m.setValue(L.phiStart*ne.RAD2DEG),h.setValue(L.phiLength*ne.RAD2DEG),Q.setValue(L.thetaStart*ne.RAD2DEG),y.setValue(L.thetaLength*ne.RAD2DEG)}s.geometryChanged.add(function(L){L===e&&I()});function _(){a.execute(new Qe(a,e,new Jt(d.getValue(),c.getValue(),l.getValue(),m.getValue()*ne.DEG2RAD,h.getValue()*ne.DEG2RAD,Q.getValue()*ne.DEG2RAD,y.getValue()*ne.DEG2RAD)))}return n}const al=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:tl},Symbol.toStringTag,{value:"Module"}));function sl(a,e){const t=a.strings,s=a.signals,n=new Ae,r=e.geometry.parameters,o=new C,d=new J(r.radius).onChange(l);o.add(new B(t.getKey("sidebar/geometry/tetrahedron_geometry/radius")).setClass("Label")),o.add(d),n.add(o);const A=new C,c=new ie(r.detail).setRange(0,1/0).onChange(l);A.add(new B(t.getKey("sidebar/geometry/tetrahedron_geometry/detail")).setClass("Label")),A.add(c),n.add(A);function g(){const u=e.geometry.parameters;d.setValue(u.radius),c.setValue(u.detail)}s.geometryChanged.add(function(u){u===e&&g()});function l(){a.execute(new Qe(a,e,new Wn(d.getValue(),c.getValue())))}return n}const nl=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:sl},Symbol.toStringTag,{value:"Module"}));function il(a,e){const t=a.strings,s=a.signals,n=new Ae,r=e.geometry.parameters,o=new C,d=new J(r.radius).onChange(Q);o.add(new B(t.getKey("sidebar/geometry/torus_geometry/radius")).setClass("Label")),o.add(d),n.add(o);const A=new C,c=new J(r.tube).onChange(Q);A.add(new B(t.getKey("sidebar/geometry/torus_geometry/tube")).setClass("Label")),A.add(c),n.add(A);const g=new C,l=new ie(r.radialSegments).setRange(1,1/0).onChange(Q);g.add(new B(t.getKey("sidebar/geometry/torus_geometry/radialsegments")).setClass("Label")),g.add(l),n.add(g);const u=new C,m=new ie(r.tubularSegments).setRange(1,1/0).onChange(Q);u.add(new B(t.getKey("sidebar/geometry/torus_geometry/tubularsegments")).setClass("Label")),u.add(m),n.add(u);const p=new C,h=new J(r.arc*ne.RAD2DEG).setUnit("").setStep(10).onChange(Q);p.add(new B(t.getKey("sidebar/geometry/torus_geometry/arc")).setClass("Label")),p.add(h),n.add(p);function b(){const f=e.geometry.parameters;d.setValue(f.radius),c.setValue(f.tube),l.setValue(f.radialSegments),m.setValue(f.tubularSegments),h.setValue(f.arc*ne.RAD2DEG)}s.geometryChanged.add(function(f){f===e&&b()});function Q(){a.execute(new Qe(a,e,new St(d.getValue(),c.getValue(),l.getValue(),m.getValue(),h.getValue()*ne.DEG2RAD)))}return n}const rl=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:il},Symbol.toStringTag,{value:"Module"}));function ol(a,e){const t=a.strings,s=a.signals,n=new Ae,r=e.geometry.parameters,o=new C,d=new J(r.radius).onChange(y);o.add(new B(t.getKey("sidebar/geometry/torusKnot_geometry/radius")).setClass("Label")),o.add(d),n.add(o);const A=new C,c=new J(r.tube).onChange(y);A.add(new B(t.getKey("sidebar/geometry/torusKnot_geometry/tube")).setClass("Label")),A.add(c),n.add(A);const g=new C,l=new ie(r.tubularSegments).setRange(1,1/0).onChange(y);g.add(new B(t.getKey("sidebar/geometry/torusKnot_geometry/tubularsegments")).setClass("Label")),g.add(l),n.add(g);const u=new C,m=new ie(r.radialSegments).setRange(1,1/0).onChange(y);u.add(new B(t.getKey("sidebar/geometry/torusKnot_geometry/radialsegments")).setClass("Label")),u.add(m),n.add(u);const p=new C,h=new ie(r.p).onChange(y);p.add(new B(t.getKey("sidebar/geometry/torusKnot_geometry/p")).setClass("Label")),p.add(h),n.add(p);const b=new C,Q=new ie(r.q).onChange(y);b.add(new B(t.getKey("sidebar/geometry/torusKnot_geometry/q")).setClass("Label")),b.add(Q),n.add(b);function f(){const I=e.geometry.parameters;d.setValue(I.radius),c.setValue(I.tube),l.setValue(I.tubularSegments),m.setValue(I.radialSegments),h.setValue(I.p),Q.setValue(I.q)}s.geometryChanged.add(function(I){I===e&&f()});function y(){a.execute(new Qe(a,e,new Zn(d.getValue(),c.getValue(),l.getValue(),m.getValue(),h.getValue(),Q.getValue())))}return n}const dl=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:ol},Symbol.toStringTag,{value:"Module"}));function Al(a,e){const t=a.strings,s=a.signals,n=new Ae,r=e.geometry.parameters,o=new C;o.add(new B(t.getKey("sidebar/geometry/tube_geometry/path")).setClass("Label"));const d=new Xd().setValue(r.path.points).onChange(_);o.add(d),n.add(o);const A=new C,c=new J(r.radius).onChange(_);A.add(new B(t.getKey("sidebar/geometry/tube_geometry/radius")).setClass("Label")),A.add(c),n.add(A);const g=new C,l=new ie(r.tubularSegments).onChange(_);g.add(new B(t.getKey("sidebar/geometry/tube_geometry/tubularsegments")).setClass("Label")),g.add(l),n.add(g);const u=new C,m=new ie(r.radialSegments).onChange(_);u.add(new B(t.getKey("sidebar/geometry/tube_geometry/radialsegments")).setClass("Label")),u.add(m),n.add(u);const p=new C,h=new ot(r.closed).onChange(_);p.add(new B(t.getKey("sidebar/geometry/tube_geometry/closed")).setClass("Label")),p.add(h),n.add(p);const b=new C,Q=new Ke().setOptions({centripetal:"centripetal",chordal:"chordal",catmullrom:"catmullrom"}).setValue(r.path.curveType).onChange(_);b.add(new B(t.getKey("sidebar/geometry/tube_geometry/curvetype")).setClass("Label"),Q),n.add(b);const f=new C().setDisplay(Q.getValue()=="catmullrom"?"":"none"),y=new J(r.path.tension).setStep(.01).onChange(_);f.add(new B(t.getKey("sidebar/geometry/tube_geometry/tension")).setClass("Label"),y),n.add(f);function I(){const L=e.geometry.parameters;l.setValue(L.tubularSegments),c.setValue(L.radius),m.setValue(L.radialSegments),h.setValue(L.closed),d.setValue(L.path.points,!1),Q.setValue(L.path.curveType),y.setValue(L.path.tension),f.setDisplay(Q.getValue()=="catmullrom"?"":"none")}s.geometryChanged.add(function(L){L===e&&I()});function _(){f.setDisplay(Q.getValue()=="catmullrom"?"":"none"),a.execute(new Qe(a,e,new ei(new $n(d.getValue(),h.getValue(),Q.getValue(),y.getValue()),l.getValue(),c.getValue(),m.getValue(),h.getValue())))}return n}const ll=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:Al},Symbol.toStringTag,{value:"Module"}));export{mo as E,bl as M,Cl as R,yl as S,fl as T,pl as V,ul as a,ai as b,sn as s,ro as u,ml as z};
