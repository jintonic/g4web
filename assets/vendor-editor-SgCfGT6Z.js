const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/3DMLoader-B1ceBlNa.js","assets/vendor-three-cPJTOjbb.js","assets/EXRLoader-D9GqRU5M.js","assets/vendor-libs-B2226kbd.js","assets/TDSLoader-ChzRbWQE.js","assets/3MFLoader-C2edpmrZ.js","assets/AMFLoader-BctJQ4Nn.js","assets/ColladaLoader-BJ_FaUbm.js","assets/DRACOLoader-CkoqUL4W.js","assets/FBXLoader-7Z4FKHY4.js","assets/KMZLoader-CkG2JlDR.js","assets/LDrawLoader-CTitx5oD.js","assets/MD2Loader-DFcb_rHq.js","assets/OBJLoader-bPQ9D9rd.js","assets/PCDLoader-CAZ2LPqj.js","assets/PLYLoader-BaGhiWod.js","assets/STLLoader-DlMSllge.js","assets/SVGLoader-Jt6MOU0Y.js","assets/USDLoader-CoQdYDGn.js","assets/VOXLoader-Dg0eAi8N.js","assets/VTKLoader-C94jbhu-.js","assets/VRMLLoader-CoroAkZ7.js","assets/XYZLoader-BBgSYL5b.js","assets/MTLLoader-D8MPiIFQ.js","assets/KTX2Loader-6uHWZIm4.js","assets/HDRLoader-BrXVc7LT.js","assets/DRACOExporter-Bd64kHRS.js","assets/GLTFExporter-BD1MNiz6.js","assets/OBJExporter-DlPNUV8f.js","assets/PLYExporter-DcVfkFOQ.js","assets/STLExporter-CcLL0skj.js","assets/USDZExporter-Be9iwlrc.js"])))=>i.map(i=>d[i]);
import{D as Fi,L as Ds,O as Ct,a as ps,P as ua,b as _a,M as ue,c as U,G as ft,d as Ge,S as Rs,A as _n,B as Ki,V as Z,E as st,e as Je,R as Ht,f as Oa,g as Jt,C as Pi,h as Ui,i as vt,j as Oi,k as Hi,H as Ji,l as qs,m as Ka,n as Ln,o as Fe,p as Yi,Q as je,q as ct,r as Ha,s as Re,t as Me,u as pa,F as Pa,v as Pt,w as tt,T as St,x as Ja,y as _s,z as qi,I as Ya,J as Tn,K as Nn,N as zi,U as Ls,W as Bt,X as Xi,Y as Gn,Z as Ye,_ as Ts,$ as ba,a0 as Wi,a1 as bs,a2 as kn,a3 as La,a4 as Zi,a5 as ma,a6 as qa,a7 as Ze,a8 as ot,a9 as jn,aa as Ns,ab as Vn,ac as Fn,ad as $i,ae as er,af as tr,ag as ar,ah as sr,ai as nr,aj as ir,ak as Kn,al as fs,am as rr,an as or,ao as as,ap as dr,aq as Ar,ar as Pn,as as lr,at as ne,au as cr,av as gr,aw as ur,ax as mr,ay as Un,az as hr,aA as ys,aB as zs,aC as Xs,aD as Ws,aE as Zs,aF as pr,aG as br,aH as On,aI as Hn,aJ as $s,aK as fr,aL as en,aM as Ta,aN as yr,aO as Cr,aP as Jn,aQ as Ir,aR as ss,aS as wr,aT as Er,aU as Br,aV as Qr,aW as Sr,aX as xr,aY as vr,aZ as Mr,a_ as Dr,a$ as Rr,b0 as _r,b1 as Lr,b2 as Tr,b3 as Yn,b4 as qn,b5 as zn,b6 as Xn,b7 as Wn,b8 as Zn,b9 as $n,ba as ei,bb as ti,bc as ai,bd as Nr,be as Gr,bf as si}from"./vendor-three-cPJTOjbb.js";import{W as kr,F as jr}from"./vendor-libs-B2226kbd.js";function Vr(){const a="threejs-editor",e=navigator.language.split("-")[0],s={language:["fr","ja","zh","ko","fa"].includes(e)?e:"en",autosave:!0,"project/title":"","project/editable":!1,"project/vr":!1,"project/renderer/type":"WebGLRenderer","project/renderer/antialias":!0,"project/renderer/shadows":!0,"project/renderer/shadowType":1,"project/renderer/toneMapping":7,"project/renderer/toneMappingExposure":1,"settings/history":!1,"settings/shortcuts/translate":"w","settings/shortcuts/rotate":"e","settings/shortcuts/scale":"r","settings/shortcuts/undo":"z","settings/shortcuts/focus":"f"};if(window.localStorage[a]===void 0)window.localStorage[a]=JSON.stringify(s);else{const n=JSON.parse(window.localStorage[a]);for(const i in n)s[i]=n[i]}return{getKey:function(n){return s[n]},setKey:function(){for(let n=0,i=arguments.length;n<i;n+=2)s[arguments[n]]=arguments[n+1];window.localStorage[a]=JSON.stringify(s),console.log("["+/\d\d\:\d\d\:\d\d/.exec(new Date)[0]+"]","Saved config to LocalStorage.")},clear:function(){delete window.localStorage[a]}}}const Fr="modulepreload",Kr=function(a){return"/g4web/"+a},tn={},te=function(e,t,s){let n=Promise.resolve();if(t&&t.length>0){let r=function(A){return Promise.all(A.map(c=>Promise.resolve(c).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),d=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=r(t.map(A=>{if(A=Kr(A),A in tn)return;tn[A]=!0;const c=A.endsWith(".css"),g=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${g}`))return;const l=document.createElement("link");if(l.rel=c?"stylesheet":Fr,c||(l.as="script"),l.crossOrigin="",l.href=A,d&&l.setAttribute("nonce",d),document.head.appendChild(l),c)return new Promise((u,m)=>{l.addEventListener("load",u),l.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${A}`)))})}))}function i(r){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=r,window.dispatchEvent(o),!o.defaultPrevented)throw r}return n.then(r=>{for(const o of r||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};class ni extends Fi{constructor(e){super(e)}parse(e){function t(N){switch(N.image_type){case l:case p:if(N.colormap_length>256||N.colormap_size!==24||N.colormap_type!==1)throw new Error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case u:case m:case h:case b:if(N.colormap_type)throw new Error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case g:throw new Error("THREE.TGALoader: No data.");default:throw new Error("THREE.TGALoader: Invalid type "+N.image_type)}if(N.width<=0||N.height<=0)throw new Error("THREE.TGALoader: Invalid image size.");if(N.pixel_size!==8&&N.pixel_size!==16&&N.pixel_size!==24&&N.pixel_size!==32)throw new Error("THREE.TGALoader: Invalid pixel size "+N.pixel_size)}function s(N,O,H,F,D){let k,q;const P=H.pixel_size>>3,V=H.width*H.height*P;if(O&&(q=D.subarray(F,F+=H.colormap_length*(H.colormap_size>>3))),N){k=new Uint8Array(V);let K,Q,R,L=0;const X=new Uint8Array(P);for(;L<V;)if(K=D[F++],Q=(K&127)+1,K&128){for(R=0;R<P;++R)X[R]=D[F++];for(R=0;R<Q;++R)k.set(X,L+R*P);L+=P*Q}else{for(Q*=P,R=0;R<Q;++R)k[L+R]=D[F++];L+=Q}}else k=D.subarray(F,F+=O?H.width*H.height:V);return{pixel_data:k,palettes:q}}function n(N,O,H,F,D,k,q,P,V){const K=V;let Q,R=0,L,X;const T=B.width;for(X=O;X!==F;X+=H)for(L=D;L!==q;L+=k,R++)Q=P[R],N[(L+T*X)*4+3]=255,N[(L+T*X)*4+2]=K[Q*3+0],N[(L+T*X)*4+1]=K[Q*3+1],N[(L+T*X)*4+0]=K[Q*3+2];return N}function i(N,O,H,F,D,k,q,P){let V,K=0,Q,R;const L=B.width;for(R=O;R!==F;R+=H)for(Q=D;Q!==q;Q+=k,K+=2)V=P[K+0]+(P[K+1]<<8),N[(Q+L*R)*4+0]=(V&31744)>>7,N[(Q+L*R)*4+1]=(V&992)>>2,N[(Q+L*R)*4+2]=(V&31)<<3,N[(Q+L*R)*4+3]=V&32768?0:255;return N}function r(N,O,H,F,D,k,q,P){let V=0,K,Q;const R=B.width;for(Q=O;Q!==F;Q+=H)for(K=D;K!==q;K+=k,V+=3)N[(K+R*Q)*4+3]=255,N[(K+R*Q)*4+2]=P[V+0],N[(K+R*Q)*4+1]=P[V+1],N[(K+R*Q)*4+0]=P[V+2];return N}function o(N,O,H,F,D,k,q,P){let V=0,K,Q;const R=B.width;for(Q=O;Q!==F;Q+=H)for(K=D;K!==q;K+=k,V+=4)N[(K+R*Q)*4+2]=P[V+0],N[(K+R*Q)*4+1]=P[V+1],N[(K+R*Q)*4+0]=P[V+2],N[(K+R*Q)*4+3]=P[V+3];return N}function d(N,O,H,F,D,k,q,P){let V,K=0,Q,R;const L=B.width;for(R=O;R!==F;R+=H)for(Q=D;Q!==q;Q+=k,K++)V=P[K],N[(Q+L*R)*4+0]=V,N[(Q+L*R)*4+1]=V,N[(Q+L*R)*4+2]=V,N[(Q+L*R)*4+3]=255;return N}function A(N,O,H,F,D,k,q,P){let V=0,K,Q;const R=B.width;for(Q=O;Q!==F;Q+=H)for(K=D;K!==q;K+=k,V+=2)N[(K+R*Q)*4+0]=P[V+0],N[(K+R*Q)*4+1]=P[V+0],N[(K+R*Q)*4+2]=P[V+0],N[(K+R*Q)*4+3]=P[V+1];return N}function c(N,O,H,F,D){let k,q,P,V,K,Q;switch((B.flags&E)>>f){default:case M:k=0,P=1,K=O,q=0,V=1,Q=H;break;case y:k=0,P=1,K=O,q=H-1,V=-1,Q=-1;break;case _:k=O-1,P=-1,K=-1,q=0,V=1,Q=H;break;case C:k=O-1,P=-1,K=-1,q=H-1,V=-1,Q=-1;break}if($)switch(B.pixel_size){case 8:d(N,q,V,Q,k,P,K,F);break;case 16:A(N,q,V,Q,k,P,K,F);break;default:throw new Error("THREE.TGALoader: Format not supported.")}else switch(B.pixel_size){case 8:n(N,q,V,Q,k,P,K,F,D);break;case 16:i(N,q,V,Q,k,P,K,F);break;case 24:r(N,q,V,Q,k,P,K,F);break;case 32:o(N,q,V,Q,k,P,K,F);break;default:throw new Error("THREE.TGALoader: Format not supported.")}return N}const g=0,l=1,u=2,m=3,p=9,h=10,b=11,E=48,f=4,y=0,C=1,M=2,_=3;if(e.length<19)throw new Error("THREE.TGALoader: Not enough data to contain header.");let S=0;const v=new Uint8Array(e),B={id_length:v[S++],colormap_type:v[S++],image_type:v[S++],colormap_index:v[S++]|v[S++]<<8,colormap_length:v[S++]|v[S++]<<8,colormap_size:v[S++],origin:[v[S++]|v[S++]<<8,v[S++]|v[S++]<<8],width:v[S++]|v[S++]<<8,height:v[S++]|v[S++]<<8,pixel_size:v[S++],flags:v[S++]};if(t(B),B.id_length+S>e.length)throw new Error("THREE.TGALoader: No data.");S+=B.id_length;let G=!1,j=!1,$=!1;switch(B.image_type){case p:G=!0,j=!0;break;case l:j=!0;break;case h:G=!0;break;case u:break;case b:G=!0,$=!0;break;case m:$=!0;break}const Y=new Uint8Array(B.width*B.height*4),W=s(G,j,B,S,v);return c(Y,B.width,B.height,W.pixel_data,W.palettes),{data:Y,width:B.width,height:B.height,flipY:!0,generateMipmaps:!0,minFilter:Ds}}}const Pr=Object.freeze(Object.defineProperty({__proto__:null,TGALoader:ni},Symbol.toStringTag,{value:"Module"}));class Ce{constructor(e){this.id=-1,this.inMemory=!1,this.updatable=!1,this.type="",this.name="",this.editor=e}toJSON(){const e={};return e.type=this.type,e.id=this.id,e.name=this.name,e}fromJSON(e){this.inMemory=!0,this.type=e.type,this.id=e.id,this.name=e.name}}class ae extends Ce{constructor(e,t=null){super(e),this.type="AddObjectCommand",this.object=t,t!==null&&(this.name=e.strings.getKey("command/AddObject")+": "+t.name)}execute(){this.editor.addObject(this.object),this.editor.select(this.object)}undo(){this.editor.removeObject(this.object),this.editor.deselect()}toJSON(){const e=super.toJSON(this);return e.object=this.object.toJSON(),e}fromJSON(e){if(super.fromJSON(e),this.object=this.editor.objectByUuid(e.object.object.uuid),this.object===void 0){const t=new Ct;this.object=t.parse(e.object)}}}class Gs extends Ce{constructor(e,t=null,s=null){super(e),this.type="SetUuidCommand",this.name=e.strings.getKey("command/SetUuid"),this.object=t,this.oldUuid=t!==null?t.uuid:null,this.newUuid=s}execute(){this.object.uuid=this.newUuid,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.sceneGraphChanged.dispatch()}undo(){this.object.uuid=this.oldUuid,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.sceneGraphChanged.dispatch()}toJSON(){const e=super.toJSON(this);return e.oldUuid=this.oldUuid,e.newUuid=this.newUuid,e}fromJSON(e){super.fromJSON(e),this.oldUuid=e.oldUuid,this.newUuid=e.newUuid,this.object=this.editor.objectByUuid(e.oldUuid),this.object===void 0&&(this.object=this.editor.objectByUuid(e.newUuid))}}class Ie extends Ce{constructor(e,t=null,s="",n=null){super(e),this.type="SetValueCommand",this.name=e.strings.getKey("command/SetValue")+": "+s,this.updatable=!0,this.object=t,this.attributeName=s,this.oldValue=t!==null?t[s]:null,this.newValue=n}execute(){this.object[this.attributeName]=this.newValue,this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.object[this.attributeName]=this.oldValue,this.editor.signals.objectChanged.dispatch(this.object)}update(e){this.newValue=e.newValue}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.attributeName=this.attributeName,e.oldValue=this.oldValue,e.newValue=this.newValue,e}fromJSON(e){super.fromJSON(e),this.attributeName=e.attributeName,this.oldValue=e.oldValue,this.newValue=e.newValue,this.object=this.editor.objectByUuid(e.objectUuid)}}class Aa extends Ce{constructor(e,t=null){if(super(e),this.type="SetSceneCommand",this.name=e.strings.getKey("command/SetScene"),this.cmdArray=[],t!==null)for(this.cmdArray.push(new Gs(this.editor,this.editor.scene,t.uuid)),this.cmdArray.push(new Ie(this.editor,this.editor.scene,"name",t.name)),this.cmdArray.push(new Ie(this.editor,this.editor.scene,"userData",JSON.parse(JSON.stringify(t.userData))));t.children.length>0;){const s=t.children.pop();this.cmdArray.push(new ae(this.editor,s))}}execute(){this.editor.signals.sceneGraphChanged.active=!1;for(let e=0;e<this.cmdArray.length;e++)this.cmdArray[e].execute();this.editor.signals.sceneGraphChanged.active=!0,this.editor.signals.sceneGraphChanged.dispatch()}undo(){this.editor.signals.sceneGraphChanged.active=!1;for(let e=this.cmdArray.length-1;e>=0;e--)this.cmdArray[e].undo();this.editor.signals.sceneGraphChanged.active=!0,this.editor.signals.sceneGraphChanged.dispatch()}toJSON(){const e=super.toJSON(this),t=[];for(let s=0;s<this.cmdArray.length;s++)t.push(this.cmdArray[s].toJSON());return e.cmds=t,e}fromJSON(e){super.fromJSON(e);const t=e.cmds;for(let s=0;s<t.length;s++){const n=new window[t[s].type];n.fromJSON(t[s]),this.cmdArray.push(n)}}}const an={createFilesMap:function(a){const e={};for(let t=0;t<a.length;t++){const s=a[t];e[s.name]=s}return e},getFilesFromItemList:function(a,e){let t=0,s=0;const n=[],i={};function r(){t++,t===s&&e(n,i)}function o(d){d.isDirectory?d.createReader().readEntries(function(c){for(let g=0;g<c.length;g++)o(c[g]);r()}):d.isFile&&d.file(function(A){n.push(A),i[d.fullPath.slice(1)]=A,r()}),s++}for(let d=0;d<a.length;d++){const A=a[d];A.kind==="file"&&o(A.webkitGetAsEntry())}}};class xe{constructor(e){this.dom=e}add(){for(let e=0;e<arguments.length;e++){const t=arguments[e];t instanceof xe?this.dom.appendChild(t.dom):console.error("UIElement:",t,"is not an instance of UIElement.")}return this}remove(){for(let e=0;e<arguments.length;e++){const t=arguments[e];t instanceof xe?this.dom.removeChild(t.dom):console.error("UIElement:",t,"is not an instance of UIElement.")}return this}clear(){for(;this.dom.children.length;)this.dom.removeChild(this.dom.lastChild)}setId(e){return this.dom.id=e,this}getId(){return this.dom.id}setClass(e){return this.dom.className=e,this}addClass(e){return this.dom.classList.add(e),this}removeClass(e){return this.dom.classList.remove(e),this}toggleClass(e,t){return this.dom.classList.toggle(e,t),this}setStyle(e,t){for(let s=0;s<t.length;s++)this.dom.style[e]=t[s];return this}setHidden(e){return this.dom.hidden=e,this}isHidden(){return this.dom.hidden}setDisabled(e){return this.dom.disabled=e,this}setTextContent(e){return this.dom.textContent=e,this}setInnerHTML(e){this.dom.innerHTML=e}getIndexOfChild(e){return Array.prototype.indexOf.call(this.dom.children,e.dom)}}const Ur=["position","left","top","right","bottom","width","height","display","verticalAlign","overflow","color","background","backgroundColor","opacity","border","borderLeft","borderTop","borderRight","borderBottom","borderColor","margin","marginLeft","marginTop","marginRight","marginBottom","padding","paddingLeft","paddingTop","paddingRight","paddingBottom","fontSize","fontWeight","textAlign","textDecoration","textTransform","cursor","zIndex"];Ur.forEach(function(a){const e="set"+a.substring(0,1).toUpperCase()+a.substring(1);xe.prototype[e]=function(){return this.setStyle(a,arguments),this}});const Or=["KeyUp","KeyDown","MouseOver","MouseOut","Click","DblClick","Change","Input"];Or.forEach(function(a){const e="on"+a;xe.prototype[e]=function(t){return this.dom.addEventListener(a.toLowerCase(),t.bind(this)),this}});class dt extends xe{constructor(){super(document.createElement("span"))}}class le extends xe{constructor(){super(document.createElement("div"))}}class I extends le{constructor(){super(),this.dom.className="Row"}}class ie extends le{constructor(){super(),this.dom.className="Panel"}}class w extends dt{constructor(e){super(),this.dom.className="Text",this.dom.style.cursor="default",this.dom.style.display="inline-block",this.setValue(e)}getValue(){return this.dom.textContent}setValue(e){return e!==void 0&&(this.dom.textContent=e),this}}class gt extends xe{constructor(e){super(document.createElement("input")),this.dom.className="Input",this.dom.style.padding="2px",this.dom.style.border="1px solid transparent",this.dom.setAttribute("autocomplete","off"),this.dom.addEventListener("keydown",function(t){t.stopPropagation()}),this.setValue(e)}getValue(){return this.dom.value}setValue(e){return this.dom.value=e,this}}class ks extends xe{constructor(){super(document.createElement("textarea")),this.dom.className="TextArea",this.dom.style.padding="2px",this.dom.spellcheck=!1,this.dom.setAttribute("autocomplete","off"),this.dom.addEventListener("keydown",function(e){if(e.stopPropagation(),e.code==="Tab"){e.preventDefault();const t=this.selectionStart;this.value=this.value.substring(0,t)+"	"+this.value.substring(t),this.selectionStart=t+1,this.selectionEnd=this.selectionStart}})}getValue(){return this.dom.value}setValue(e){return this.dom.value=e,this}}class ke extends xe{constructor(){super(document.createElement("select")),this.dom.className="Select",this.dom.style.padding="2px",this.dom.setAttribute("autocomplete","off"),this.dom.addEventListener("pointerdown",function(e){e.stopPropagation()})}setMultiple(e){return this.dom.multiple=e,this}setOptions(e){const t=this.dom.value;for(;this.dom.children.length>0;)this.dom.removeChild(this.dom.firstChild);for(const s in e){const n=document.createElement("option");n.value=s,n.innerHTML=e[s],this.dom.appendChild(n)}return this.dom.value=t,this}getValue(){return this.dom.value}setValue(e){return e=String(e),this.dom.value!==e&&(this.dom.value=e),this}}class We extends xe{constructor(e){super(document.createElement("input")),this.dom.className="Checkbox Input",this.dom.type="checkbox",this.dom.addEventListener("pointerdown",function(t){t.stopPropagation()}),this.setValue(e)}getValue(){return this.dom.checked}setValue(e){return e!==void 0&&(this.dom.checked=e),this}}class fa extends xe{constructor(){super(document.createElement("input")),this.dom.className="Color Input",this.dom.style.width="32px",this.dom.style.height="16px",this.dom.style.border="0px",this.dom.style.padding="2px",this.dom.style.backgroundColor="transparent",this.dom.setAttribute("autocomplete","off");try{this.dom.type="color",this.dom.value="#ffffff"}catch{}}getValue(){return this.dom.value}getHexValue(){return parseInt(this.dom.value.substring(1),16)}setValue(e){return this.dom.value=e,this}setHexValue(e){return this.dom.value="#"+("000000"+e.toString(16)).slice(-6),this}}class J extends xe{constructor(e){super(document.createElement("input")),this.dom.style.cursor="ns-resize",this.dom.className="Number Input",this.dom.value="0.00",this.dom.setAttribute("autocomplete","off"),this.value=0,this.min=-1/0,this.max=1/0,this.precision=2,this.step=1,this.unit="",this.nudge=.01,this.setValue(e);const t=this,s=new Event("change",{bubbles:!0,cancelable:!0});let n=0,i=0;const r={x:0,y:0},o={x:0,y:0};function d(p){document.activeElement!==t.dom&&(p.preventDefault(),n=0,i=t.value,o.x=p.clientX,o.y=p.clientY,t.dom.setPointerCapture(p.pointerId),t.dom.addEventListener("pointermove",A),t.dom.addEventListener("pointerup",c))}function A(p){const h=t.value;r.x=p.clientX,r.y=p.clientY,n+=r.x-o.x-(r.y-o.y);let b=i+n/(p.shiftKey?5:50)*t.step;b=Math.min(t.max,Math.max(t.min,b)),h!==b&&(t.setValue(b),t.dom.dispatchEvent(s)),o.x=p.clientX,o.y=p.clientY}function c(p){t.dom.releasePointerCapture(p.pointerId),t.dom.removeEventListener("pointermove",A),t.dom.removeEventListener("pointerup",c),Math.abs(n)<2&&(t.dom.focus(),t.dom.select())}function g(){t.setValue(t.dom.value)}function l(){t.dom.style.backgroundColor="",t.dom.style.cursor=""}function u(){t.dom.style.backgroundColor="transparent",t.dom.style.cursor="ns-resize"}function m(p){switch(p.stopPropagation(),p.code){case"Enter":t.dom.blur();break;case"ArrowUp":p.preventDefault(),t.setValue(t.getValue()+t.nudge),t.dom.dispatchEvent(s);break;case"ArrowDown":p.preventDefault(),t.setValue(t.getValue()-t.nudge),t.dom.dispatchEvent(s);break}}u(),this.dom.addEventListener("keydown",m),this.dom.addEventListener("pointerdown",d),this.dom.addEventListener("change",g),this.dom.addEventListener("focus",l),this.dom.addEventListener("blur",u)}getValue(){return this.value}setValue(e){return e!==void 0&&(e=parseFloat(e),e<this.min&&(e=this.min),e>this.max&&(e=this.max),this.value=e,this.dom.value=e.toFixed(this.precision),this.unit!==""&&(this.dom.value+=" "+this.unit)),this}setPrecision(e){return this.precision=e,this}setStep(e){return this.step=e,this}setNudge(e){return this.nudge=e,this}setRange(e,t){return this.min=e,this.max=t,this}setUnit(e){return this.unit=e,this.setValue(this.value),this}}class re extends xe{constructor(e){super(document.createElement("input")),this.dom.style.cursor="ns-resize",this.dom.className="Number Input",this.dom.value="0",this.dom.setAttribute("autocomplete","off"),this.value=0,this.min=-1/0,this.max=1/0,this.step=1,this.nudge=1,this.setValue(e);const t=this,s=new Event("change",{bubbles:!0,cancelable:!0});let n=0,i=0;const r={x:0,y:0},o={x:0,y:0};function d(p){document.activeElement!==t.dom&&(p.preventDefault(),n=0,i=t.value,o.x=p.clientX,o.y=p.clientY,t.dom.setPointerCapture(p.pointerId),t.dom.addEventListener("pointermove",A),t.dom.addEventListener("pointerup",c))}function A(p){const h=t.value;r.x=p.clientX,r.y=p.clientY,n+=r.x-o.x-(r.y-o.y);let b=i+n/(p.shiftKey?5:50)*t.step;b=Math.min(t.max,Math.max(t.min,b))|0,h!==b&&(t.setValue(b),t.dom.dispatchEvent(s)),o.x=p.clientX,o.y=p.clientY}function c(p){t.dom.releasePointerCapture(p.pointerId),t.dom.removeEventListener("pointermove",A),t.dom.removeEventListener("pointerup",c),Math.abs(n)<2&&(t.dom.focus(),t.dom.select())}function g(){t.setValue(t.dom.value)}function l(){t.dom.style.backgroundColor="",t.dom.style.cursor=""}function u(){t.dom.style.backgroundColor="transparent",t.dom.style.cursor="ns-resize"}function m(p){switch(p.stopPropagation(),p.code){case"Enter":t.dom.blur();break;case"ArrowUp":p.preventDefault(),t.setValue(t.getValue()+t.nudge),t.dom.dispatchEvent(s);break;case"ArrowDown":p.preventDefault(),t.setValue(t.getValue()-t.nudge),t.dom.dispatchEvent(s);break}}u(),this.dom.addEventListener("keydown",m),this.dom.addEventListener("pointerdown",d),this.dom.addEventListener("change",g),this.dom.addEventListener("focus",l),this.dom.addEventListener("blur",u)}getValue(){return this.value}setValue(e){return e!==void 0&&(e=parseInt(e),this.value=e,this.dom.value=e),this}setStep(e){return this.step=parseInt(e),this}setNudge(e){return this.nudge=e,this}setRange(e,t){return this.min=e,this.max=t,this}}class Te extends xe{constructor(){super(document.createElement("br")),this.dom.className="Break"}}class Ua extends xe{constructor(){super(document.createElement("hr")),this.dom.className="HorizontalRule"}}class de extends xe{constructor(e){super(document.createElement("button")),this.dom.className="Button",this.dom.textContent=e}}class js extends le{constructor(){super(),this.dom.className="TabbedPanel",this.tabs=[],this.panels=[],this.tabsDiv=new le,this.tabsDiv.setClass("Tabs"),this.panelsDiv=new le,this.panelsDiv.setClass("Panels"),this.add(this.tabsDiv),this.add(this.panelsDiv),this.selected=""}select(e){let t,s;const n=this;if(this.selected&&this.selected.length&&(t=this.tabs.find(function(i){return i.dom.id===n.selected}),s=this.panels.find(function(i){return i.dom.id===n.selected}),t&&t.removeClass("selected"),s&&s.setDisplay("none")),t=this.tabs.find(function(i){return i.dom.id===e}),s=this.panels.find(function(i){return i.dom.id===e}),t&&t.addClass("selected"),s&&s.setDisplay(""),this.selected=e,t){const i=t.dom.offsetLeft+t.dom.offsetWidth,r=this.tabsDiv.dom.getBoundingClientRect().width;i>r&&this.tabsDiv.dom.scrollTo({left:i-r,behavior:"smooth"}),t.dom.offsetLeft<this.tabsDiv.dom.scrollLeft&&this.tabsDiv.dom.scrollTo({left:0,behavior:"smooth"})}return this}addTab(e,t,s){const n=new Hr(t,this);n.setId(e),this.tabs.push(n),this.tabsDiv.add(n);const i=new le;i.setId(e),i.add(s),i.setDisplay("none"),this.panels.push(i),this.panelsDiv.add(i),this.select(e)}}class Hr extends w{constructor(e,t){super(e),this.dom.className="Tab",this.parent=t;const s=this;this.dom.addEventListener("click",function(){s.parent.select(s.dom.id)})}}class ns extends le{constructor(){super(),this.dom.className="Listbox",this.dom.tabIndex=0,this.items=[],this.listitems=[],this.selectedIndex=0,this.selectedValue=null}setItems(e){Array.isArray(e)&&(this.items=e),this.render()}render(){for(;this.listitems.length;)this.listitems[0].dom.remove(),this.listitems.splice(0,1);for(let e=0;e<this.items.length;e++){const t=this.items[e],s=new Jr(this);s.setId(t.id||`Listbox-${e}`),s.setTextContent(t.name||t.type),this.add(s)}}add(){const e=Array.from(arguments);this.listitems=this.listitems.concat(e),xe.prototype.add.apply(this,e)}selectIndex(e){e>=0&&e<this.items.length&&this.setValue(this.listitems[e].getId()),this.selectedIndex=e}getValue(){return this.selectedValue}setValue(e){for(let s=0;s<this.listitems.length;s++){const n=this.listitems[s];n.getId()===e?n.addClass("active"):n.removeClass("active")}this.selectedValue=e;const t=new Event("change",{bubbles:!0,cancelable:!0});this.dom.dispatchEvent(t)}}class Jr extends le{constructor(e){super(),this.dom.className="ListboxItem",this.parent=e;const t=this;function s(){t.parent&&t.parent.setValue(t.getId())}this.dom.addEventListener("click",s)}}class Ba{constructor(e){this.strings=e;const t=document.createElement("div");t.className="Dialog",this.dom=t;const s=document.createElement("div");s.className="Dialog-background",s.addEventListener("click",()=>this.cancel()),t.appendChild(s);const n=document.createElement("div");n.className="Dialog-content",t.appendChild(n);const i=document.createElement("div");i.className="Dialog-title",i.textContent=e.getKey("dialog/gltf/title"),n.appendChild(i);const r=document.createElement("div");r.className="Dialog-body",n.appendChild(r);const o=new I;r.appendChild(o.dom),this.asSceneCheckbox=new We(!1),o.add(this.asSceneCheckbox),o.add(new w(e.getKey("dialog/gltf/asScene")).setMarginLeft("6px"));const d=document.createElement("div");d.className="Dialog-buttons",r.appendChild(d);const A=new de(e.getKey("dialog/ok"));A.setWidth("80px"),A.onClick(()=>this.confirm()),d.appendChild(A.dom);const c=new de(e.getKey("dialog/cancel"));c.setWidth("80px"),c.setMarginLeft("8px"),c.onClick(()=>this.cancel()),d.appendChild(c.dom),this.resolve=null,this.reject=null}show(){return document.body.appendChild(this.dom),new Promise((e,t)=>{this.resolve=e,this.reject=t})}confirm(){const e={asScene:this.asSceneCheckbox.getValue()};this.dom.remove(),this.resolve&&this.resolve(e)}cancel(){this.dom.remove(),this.reject&&this.reject(new Error("Import cancelled"))}}/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.8.2
*/var Ee=Uint8Array,Ue=Uint16Array,Vs=Int32Array,za=new Ee([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Xa=new Ee([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Cs=new Ee([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ii=function(a,e){for(var t=new Ue(31),s=0;s<31;++s)t[s]=e+=1<<a[s-1];for(var n=new Vs(t[30]),s=1;s<30;++s)for(var i=t[s];i<t[s+1];++i)n[i]=i-t[s]<<5|s;return{b:t,r:n}},ri=ii(za,2),oi=ri.b,Is=ri.r;oi[28]=258,Is[258]=28;var di=ii(Xa,0),Yr=di.b,sn=di.r,ws=new Ue(32768);for(var me=0;me<32768;++me){var mt=(me&43690)>>1|(me&21845)<<1;mt=(mt&52428)>>2|(mt&13107)<<2,mt=(mt&61680)>>4|(mt&3855)<<4,ws[me]=((mt&65280)>>8|(mt&255)<<8)>>1}var it=(function(a,e,t){for(var s=a.length,n=0,i=new Ue(e);n<s;++n)a[n]&&++i[a[n]-1];var r=new Ue(e);for(n=1;n<e;++n)r[n]=r[n-1]+i[n-1]<<1;var o;if(t){o=new Ue(1<<e);var d=15-e;for(n=0;n<s;++n)if(a[n])for(var A=n<<4|a[n],c=e-a[n],g=r[a[n]-1]++<<c,l=g|(1<<c)-1;g<=l;++g)o[ws[g]>>d]=A}else for(o=new Ue(s),n=0;n<s;++n)a[n]&&(o[n]=ws[r[a[n]-1]++]>>15-a[n]);return o}),yt=new Ee(288);for(var me=0;me<144;++me)yt[me]=8;for(var me=144;me<256;++me)yt[me]=9;for(var me=256;me<280;++me)yt[me]=7;for(var me=280;me<288;++me)yt[me]=8;var ya=new Ee(32);for(var me=0;me<32;++me)ya[me]=5;var qr=it(yt,9,0),zr=it(yt,9,1),Xr=it(ya,5,0),Wr=it(ya,5,1),is=function(a){for(var e=a[0],t=1;t<a.length;++t)a[t]>e&&(e=a[t]);return e},ze=function(a,e,t){var s=e/8|0;return(a[s]|a[s+1]<<8)>>(e&7)&t},rs=function(a,e){var t=e/8|0;return(a[t]|a[t+1]<<8|a[t+2]<<16)>>(e&7)},Fs=function(a){return(a+7)/8|0},Ca=function(a,e,t){return(e==null||e<0)&&(e=0),(t==null||t>a.length)&&(t=a.length),new Ee(a.subarray(e,t))},Zr=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Le=function(a,e,t){var s=new Error(e||Zr[a]);if(s.code=a,Error.captureStackTrace&&Error.captureStackTrace(s,Le),!t)throw s;return s},Ai=function(a,e,t,s){var n=a.length,i=s?s.length:0;if(!n||e.f&&!e.l)return t||new Ee(0);var r=!t,o=r||e.i!=2,d=e.i;r&&(t=new Ee(n*3));var A=function(z){var ee=t.length;if(z>ee){var se=new Ee(Math.max(ee*2,z));se.set(t),t=se}},c=e.f||0,g=e.p||0,l=e.b||0,u=e.l,m=e.d,p=e.m,h=e.n,b=n*8;do{if(!u){c=ze(a,g,1);var E=ze(a,g+1,3);if(g+=3,E)if(E==1)u=zr,m=Wr,p=9,h=5;else if(E==2){var M=ze(a,g,31)+257,_=ze(a,g+10,15)+4,S=M+ze(a,g+5,31)+1;g+=14;for(var v=new Ee(S),B=new Ee(19),G=0;G<_;++G)B[Cs[G]]=ze(a,g+G*3,7);g+=_*3;for(var j=is(B),$=(1<<j)-1,Y=it(B,j,1),G=0;G<S;){var W=Y[ze(a,g,$)];g+=W&15;var f=W>>4;if(f<16)v[G++]=f;else{var N=0,O=0;for(f==16?(O=3+ze(a,g,3),g+=2,N=v[G-1]):f==17?(O=3+ze(a,g,7),g+=3):f==18&&(O=11+ze(a,g,127),g+=7);O--;)v[G++]=N}}var H=v.subarray(0,M),F=v.subarray(M);p=is(H),h=is(F),u=it(H,p,1),m=it(F,h,1)}else Le(1);else{var f=Fs(g)+4,y=a[f-4]|a[f-3]<<8,C=f+y;if(C>n){d&&Le(0);break}o&&A(l+y),t.set(a.subarray(f,C),l),e.b=l+=y,e.p=g=C*8,e.f=c;continue}if(g>b){d&&Le(0);break}}o&&A(l+131072);for(var D=(1<<p)-1,k=(1<<h)-1,q=g;;q=g){var N=u[rs(a,g)&D],P=N>>4;if(g+=N&15,g>b){d&&Le(0);break}if(N||Le(2),P<256)t[l++]=P;else if(P==256){q=g,u=null;break}else{var V=P-254;if(P>264){var G=P-257,K=za[G];V=ze(a,g,(1<<K)-1)+oi[G],g+=K}var Q=m[rs(a,g)&k],R=Q>>4;Q||Le(3),g+=Q&15;var F=Yr[R];if(R>3){var K=Xa[R];F+=rs(a,g)&(1<<K)-1,g+=K}if(g>b){d&&Le(0);break}o&&A(l+131072);var L=l+V;if(l<F){var X=i-F,T=Math.min(F,L);for(X+l<0&&Le(3);l<T;++l)t[l]=s[X+l]}for(;l<L;++l)t[l]=t[l-F]}}e.l=u,e.p=q,e.b=l,e.f=c,u&&(c=1,e.m=p,e.d=m,e.n=h)}while(!c);return l!=t.length&&r?Ca(t,0,l):t.subarray(0,l)},At=function(a,e,t){t<<=e&7;var s=e/8|0;a[s]|=t,a[s+1]|=t>>8},$t=function(a,e,t){t<<=e&7;var s=e/8|0;a[s]|=t,a[s+1]|=t>>8,a[s+2]|=t>>16},os=function(a,e){for(var t=[],s=0;s<a.length;++s)a[s]&&t.push({s,f:a[s]});var n=t.length,i=t.slice();if(!n)return{t:ci,l:0};if(n==1){var r=new Ee(t[0].s+1);return r[t[0].s]=1,{t:r,l:1}}t.sort(function(C,M){return C.f-M.f}),t.push({s:-1,f:25001});var o=t[0],d=t[1],A=0,c=1,g=2;for(t[0]={s:-1,f:o.f+d.f,l:o,r:d};c!=n-1;)o=t[t[A].f<t[g].f?A++:g++],d=t[A!=c&&t[A].f<t[g].f?A++:g++],t[c++]={s:-1,f:o.f+d.f,l:o,r:d};for(var l=i[0].s,s=1;s<n;++s)i[s].s>l&&(l=i[s].s);var u=new Ue(l+1),m=Es(t[c-1],u,0);if(m>e){var s=0,p=0,h=m-e,b=1<<h;for(i.sort(function(M,_){return u[_.s]-u[M.s]||M.f-_.f});s<n;++s){var E=i[s].s;if(u[E]>e)p+=b-(1<<m-u[E]),u[E]=e;else break}for(p>>=h;p>0;){var f=i[s].s;u[f]<e?p-=1<<e-u[f]++-1:++s}for(;s>=0&&p;--s){var y=i[s].s;u[y]==e&&(--u[y],++p)}m=e}return{t:new Ee(u),l:m}},Es=function(a,e,t){return a.s==-1?Math.max(Es(a.l,e,t+1),Es(a.r,e,t+1)):e[a.s]=t},nn=function(a){for(var e=a.length;e&&!a[--e];);for(var t=new Ue(++e),s=0,n=a[0],i=1,r=function(d){t[s++]=d},o=1;o<=e;++o)if(a[o]==n&&o!=e)++i;else{if(!n&&i>2){for(;i>138;i-=138)r(32754);i>2&&(r(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(r(n),--i;i>6;i-=6)r(8304);i>2&&(r(i-3<<5|8208),i=0)}for(;i--;)r(n);i=1,n=a[o]}return{c:t.subarray(0,s),n:e}},ea=function(a,e){for(var t=0,s=0;s<e.length;++s)t+=a[s]*e[s];return t},li=function(a,e,t){var s=t.length,n=Fs(e+2);a[n]=s&255,a[n+1]=s>>8,a[n+2]=a[n]^255,a[n+3]=a[n+1]^255;for(var i=0;i<s;++i)a[n+i+4]=t[i];return(n+4+s)*8},rn=function(a,e,t,s,n,i,r,o,d,A,c){At(e,c++,t),++n[256];for(var g=os(n,15),l=g.t,u=g.l,m=os(i,15),p=m.t,h=m.l,b=nn(l),E=b.c,f=b.n,y=nn(p),C=y.c,M=y.n,_=new Ue(19),S=0;S<E.length;++S)++_[E[S]&31];for(var S=0;S<C.length;++S)++_[C[S]&31];for(var v=os(_,7),B=v.t,G=v.l,j=19;j>4&&!B[Cs[j-1]];--j);var $=A+5<<3,Y=ea(n,yt)+ea(i,ya)+r,W=ea(n,l)+ea(i,p)+r+14+3*j+ea(_,B)+2*_[16]+3*_[17]+7*_[18];if(d>=0&&$<=Y&&$<=W)return li(e,c,a.subarray(d,d+A));var N,O,H,F;if(At(e,c,1+(W<Y)),c+=2,W<Y){N=it(l,u,0),O=l,H=it(p,h,0),F=p;var D=it(B,G,0);At(e,c,f-257),At(e,c+5,M-1),At(e,c+10,j-4),c+=14;for(var S=0;S<j;++S)At(e,c+3*S,B[Cs[S]]);c+=3*j;for(var k=[E,C],q=0;q<2;++q)for(var P=k[q],S=0;S<P.length;++S){var V=P[S]&31;At(e,c,D[V]),c+=B[V],V>15&&(At(e,c,P[S]>>5&127),c+=P[S]>>12)}}else N=qr,O=yt,H=Xr,F=ya;for(var S=0;S<o;++S){var K=s[S];if(K>255){var V=K>>18&31;$t(e,c,N[V+257]),c+=O[V+257],V>7&&(At(e,c,K>>23&31),c+=za[V]);var Q=K&31;$t(e,c,H[Q]),c+=F[Q],Q>3&&($t(e,c,K>>5&8191),c+=Xa[Q])}else $t(e,c,N[K]),c+=O[K]}return $t(e,c,N[256]),c+O[256]},$r=new Vs([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ci=new Ee(0),eo=function(a,e,t,s,n,i){var r=i.z||a.length,o=new Ee(s+r+5*(1+Math.ceil(r/7e3))+n),d=o.subarray(s,o.length-n),A=i.l,c=(i.r||0)&7;if(e){c&&(d[0]=i.r>>3);for(var g=$r[e-1],l=g>>13,u=g&8191,m=(1<<t)-1,p=i.p||new Ue(32768),h=i.h||new Ue(m+1),b=Math.ceil(t/3),E=2*b,f=function(fe){return(a[fe]^a[fe+1]<<b^a[fe+2]<<E)&m},y=new Vs(25e3),C=new Ue(288),M=new Ue(32),_=0,S=0,v=i.i||0,B=0,G=i.w||0,j=0;v+2<r;++v){var $=f(v),Y=v&32767,W=h[$];if(p[Y]=W,h[$]=Y,G<=v){var N=r-v;if((_>7e3||B>24576)&&(N>423||!A)){c=rn(a,d,0,y,C,M,S,B,j,v-j,c),B=_=S=0,j=v;for(var O=0;O<286;++O)C[O]=0;for(var O=0;O<30;++O)M[O]=0}var H=2,F=0,D=u,k=Y-W&32767;if(N>2&&$==f(v-k))for(var q=Math.min(l,N)-1,P=Math.min(32767,v),V=Math.min(258,N);k<=P&&--D&&Y!=W;){if(a[v+H]==a[v+H-k]){for(var K=0;K<V&&a[v+K]==a[v+K-k];++K);if(K>H){if(H=K,F=k,K>q)break;for(var Q=Math.min(k,K-2),R=0,O=0;O<Q;++O){var L=v-k+O&32767,X=p[L],T=L-X&32767;T>R&&(R=T,W=L)}}}Y=W,W=p[Y],k+=Y-W&32767}if(F){y[B++]=268435456|Is[H]<<18|sn[F];var z=Is[H]&31,ee=sn[F]&31;S+=za[z]+Xa[ee],++C[257+z],++M[ee],G=v+H,++_}else y[B++]=a[v],++C[a[v]]}}for(v=Math.max(v,G);v<r;++v)y[B++]=a[v],++C[a[v]];c=rn(a,d,A,y,C,M,S,B,j,v-j,c),A||(i.r=c&7|d[c/8|0]<<3,c-=7,i.h=h,i.p=p,i.i=v,i.w=G)}else{for(var v=i.w||0;v<r+A;v+=65535){var se=v+65535;se>=r&&(d[c/8|0]=A,se=r),c=li(d,c+1,a.subarray(v,se))}i.i=r}return Ca(o,0,s+Fs(c)+n)},to=(function(){for(var a=new Int32Array(256),e=0;e<256;++e){for(var t=e,s=9;--s;)t=(t&1&&-306674912)^t>>>1;a[e]=t}return a})(),ao=function(){var a=-1;return{p:function(e){for(var t=a,s=0;s<e.length;++s)t=to[t&255^e[s]]^t>>>8;a=t},d:function(){return~a}}},so=function(a,e,t,s,n){if(!n&&(n={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),r=new Ee(i.length+a.length);r.set(i),r.set(a,i.length),a=r,n.w=i.length}return eo(a,e.level==null?6:e.level,e.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(a.length)))*1.5):20:12+e.mem,t,s,n)},gi=function(a,e){var t={};for(var s in a)t[s]=a[s];for(var s in e)t[s]=e[s];return t},nt=function(a,e){return a[e]|a[e+1]<<8},Xe=function(a,e){return(a[e]|a[e+1]<<8|a[e+2]<<16|a[e+3]<<24)>>>0},ds=function(a,e){return Xe(a,e)+Xe(a,e+4)*4294967296},_e=function(a,e,t){for(;t;++e)a[e]=t,t>>>=8},no=function(a,e){return((a[0]&15)!=8||a[0]>>4>7||(a[0]<<8|a[1])%31)&&Le(6,"invalid zlib data"),(a[1]>>5&1)==1&&Le(6,"invalid zlib data: "+(a[1]&32?"need":"unexpected")+" dictionary"),(a[1]>>3&4)+2};function io(a,e){return so(a,e||{},0,0)}function ro(a,e){return Ai(a,{i:2},e&&e.out,e&&e.dictionary)}function yl(a,e){return Ai(a.subarray(no(a),-4),{i:2},e,e)}var ui=function(a,e,t,s){for(var n in a){var i=a[n],r=e+n,o=s;Array.isArray(i)&&(o=gi(s,i[1]),i=i[0]),i instanceof Ee?t[r]=[i,o]:(t[r+="/"]=[new Ee(0),o],ui(i,r,t,s))}},on=typeof TextEncoder<"u"&&new TextEncoder,Bs=typeof TextDecoder<"u"&&new TextDecoder,oo=0;try{Bs.decode(ci,{stream:!0}),oo=1}catch{}var Ao=function(a){for(var e="",t=0;;){var s=a[t++],n=(s>127)+(s>223)+(s>239);if(t+n>a.length)return{s:e,r:Ca(a,t-1)};n?n==3?(s=((s&15)<<18|(a[t++]&63)<<12|(a[t++]&63)<<6|a[t++]&63)-65536,e+=String.fromCharCode(55296|s>>10,56320|s&1023)):n&1?e+=String.fromCharCode((s&31)<<6|a[t++]&63):e+=String.fromCharCode((s&15)<<12|(a[t++]&63)<<6|a[t++]&63):e+=String.fromCharCode(s)}};function xt(a,e){var t;if(on)return on.encode(a);for(var s=a.length,n=new Ee(a.length+(a.length>>1)),i=0,r=function(A){n[i++]=A},t=0;t<s;++t){if(i+5>n.length){var o=new Ee(i+8+(s-t<<1));o.set(n),n=o}var d=a.charCodeAt(t);d<128||e?r(d):d<2048?(r(192|d>>6),r(128|d&63)):d>55295&&d<57344?(d=65536+(d&1047552)|a.charCodeAt(++t)&1023,r(240|d>>18),r(128|d>>12&63),r(128|d>>6&63),r(128|d&63)):(r(224|d>>12),r(128|d>>6&63),r(128|d&63))}return Ca(n,0,i)}function Na(a,e){if(e){for(var t="",s=0;s<a.length;s+=16384)t+=String.fromCharCode.apply(null,a.subarray(s,s+16384));return t}else{if(Bs)return Bs.decode(a);var n=Ao(a),i=n.s,t=n.r;return t.length&&Le(8),i}}var lo=function(a,e){return e+30+nt(a,e+26)+nt(a,e+28)},co=function(a,e,t){var s=nt(a,e+28),n=Na(a.subarray(e+46,e+46+s),!(nt(a,e+8)&2048)),i=e+46+s,r=Xe(a,e+20),o=t&&r==4294967295?go(a,i):[r,Xe(a,e+24),Xe(a,e+42)],d=o[0],A=o[1],c=o[2];return[nt(a,e+10),d,A,n,i+nt(a,e+30)+nt(a,e+32),c]},go=function(a,e){for(;nt(a,e)!=1;e+=4+nt(a,e+2));return[ds(a,e+12),ds(a,e+4),ds(a,e+20)]},Qs=function(a){var e=0;if(a)for(var t in a){var s=a[t].length;s>65535&&Le(9),e+=s+4}return e},dn=function(a,e,t,s,n,i,r,o){var d=s.length,A=t.extra,c=o&&o.length,g=Qs(A);_e(a,e,r!=null?33639248:67324752),e+=4,r!=null&&(a[e++]=20,a[e++]=t.os),a[e]=20,e+=2,a[e++]=t.flag<<1|(i<0&&8),a[e++]=n&&8,a[e++]=t.compression&255,a[e++]=t.compression>>8;var l=new Date(t.mtime==null?Date.now():t.mtime),u=l.getFullYear()-1980;if((u<0||u>119)&&Le(10),_e(a,e,u<<25|l.getMonth()+1<<21|l.getDate()<<16|l.getHours()<<11|l.getMinutes()<<5|l.getSeconds()>>1),e+=4,i!=-1&&(_e(a,e,t.crc),_e(a,e+4,i<0?-i-2:i),_e(a,e+8,t.size)),_e(a,e+12,d),_e(a,e+14,g),e+=16,r!=null&&(_e(a,e,c),_e(a,e+6,t.attrs),_e(a,e+10,r),e+=14),a.set(s,e),e+=d,g)for(var m in A){var p=A[m],h=p.length;_e(a,e,+m),_e(a,e+2,h),a.set(p,e+4),e+=4+h}return c&&(a.set(o,e),e+=c),e},uo=function(a,e,t,s,n){_e(a,e,101010256),_e(a,e+8,t),_e(a,e+10,t),_e(a,e+12,s),_e(a,e+16,n)};function mo(a,e){e||(e={});var t={},s=[];ui(a,"",t,e);var n=0,i=0;for(var r in t){var o=t[r],d=o[0],A=o[1],c=A.level==0?0:8,g=xt(r),l=g.length,u=A.comment,m=u&&xt(u),p=m&&m.length,h=Qs(A.extra);l>65535&&Le(11);var b=c?io(d,A):d,E=b.length,f=ao();f.p(d),s.push(gi(A,{size:d.length,crc:f.d(),c:b,f:g,m,u:l!=r.length||m&&u.length!=p,o:n,compression:c})),n+=30+l+h+E,i+=76+2*(l+h)+(p||0)+E}for(var y=new Ee(i+22),C=n,M=i-n,_=0;_<s.length;++_){var g=s[_];dn(y,g.o,g,g.f,g.u,g.c.length);var S=30+g.f.length+Qs(g.extra);y.set(g.c,g.o+S),dn(y,n,g,g.f,g.u,g.c.length,g.o,g.m),n+=16+S+(g.m?g.m.length:0)}return uo(y,n,s.length,M,C),y}function ho(a,e){for(var t={},s=a.length-22;Xe(a,s)!=101010256;--s)(!s||a.length-s>65558)&&Le(13);var n=nt(a,s+8);if(!n)return{};var i=Xe(a,s+16),r=i==4294967295||n==65535;if(r){var o=Xe(a,s-12);r=Xe(a,o)==101075792,r&&(n=Xe(a,o+32),i=Xe(a,o+48))}for(var d=0;d<n;++d){var A=co(a,i,r),c=A[0],g=A[1],l=A[2],u=A[3],m=A[4],p=A[5],h=lo(a,p);i=m,c?c==8?t[u]=ro(a.subarray(h,h+g),{out:new Ee(l)}):Le(14,"unknown compression type "+c):t[u]=Ca(a,h,h+g)}return t}function po(a){const e=this;this.texturePath="",this.loadItemList=function(i){an.getFilesFromItemList(i,function(r,o){e.loadFiles(r,o)})},this.loadFiles=function(i,r){if(i.length>0){r=r||an.createFilesMap(i);const o=new ps;o.setURLModifier(function(d){d=d.replace(/^(\.?\/)/,"");const A=r[d];return A?(console.log("Loading",d),URL.createObjectURL(A)):d}),o.addHandler(/\.tga$/i,new ni);for(let d=0;d<i.length;d++)e.loadFile(i[d],o)}},this.loadFile=function(i,r){const o=i.name,d=o.split(".").pop().toLowerCase(),A=new FileReader;switch(A.addEventListener("progress",function(c){const g="("+a.utils.formatNumber(Math.floor(c.total/1e3))+" KB)",l=Math.floor(c.loaded/c.total*100)+"%";console.log("Loading",o,g,l)}),d){case"3dm":{A.addEventListener("load",async function(c){const g=c.target.result,{Rhino3dmLoader:l}=await te(async()=>{const{Rhino3dmLoader:m}=await import("./3DMLoader-B1ceBlNa.js");return{Rhino3dmLoader:m}},__vite__mapDeps([0,1,2,3])),u=new l;u.setLibraryPath("../examples/jsm/libs/rhino3dm/"),u.parse(g,function(m){m.name=o,a.execute(new ae(a,m))},function(m){console.error(m)})},!1),A.readAsArrayBuffer(i);break}case"3ds":{A.addEventListener("load",async function(c){const{TDSLoader:g}=await te(async()=>{const{TDSLoader:m}=await import("./TDSLoader-ChzRbWQE.js");return{TDSLoader:m}},__vite__mapDeps([4,1])),u=new g().parse(c.target.result);a.execute(new ae(a,u))},!1),A.readAsArrayBuffer(i);break}case"3mf":{A.addEventListener("load",async function(c){const{ThreeMFLoader:g}=await te(async()=>{const{ThreeMFLoader:m}=await import("./3MFLoader-C2edpmrZ.js");return{ThreeMFLoader:m}},__vite__mapDeps([5,1,3])),u=new g().parse(c.target.result);a.execute(new ae(a,u))},!1),A.readAsArrayBuffer(i);break}case"amf":{A.addEventListener("load",async function(c){const{AMFLoader:g}=await te(async()=>{const{AMFLoader:m}=await import("./AMFLoader-BctJQ4Nn.js");return{AMFLoader:m}},__vite__mapDeps([6,1,3])),u=new g().parse(c.target.result);a.execute(new ae(a,u))},!1),A.readAsArrayBuffer(i);break}case"dae":{A.addEventListener("load",async function(c){const g=c.target.result,{ColladaLoader:l}=await te(async()=>{const{ColladaLoader:p}=await import("./ColladaLoader-BJ_FaUbm.js");return{ColladaLoader:p}},__vite__mapDeps([7,1,3])),m=new l(r).parse(g);m.scene.name=o,a.execute(new ae(a,m.scene))},!1),A.readAsText(i);break}case"drc":{A.addEventListener("load",async function(c){const g=c.target.result,{DRACOLoader:l}=await te(async()=>{const{DRACOLoader:m}=await import("./DRACOLoader-CkoqUL4W.js");return{DRACOLoader:m}},__vite__mapDeps([8,1])),u=new l;u.setDecoderPath("../examples/jsm/libs/draco/"),u.parse(g,function(m){let p;if(m.index!==null){const h=new ue;p=new U(m,h),p.name=o}else{const h=new ua({size:.01});h.vertexColors=m.hasAttribute("color"),p=new _a(m,h),p.name=o}u.dispose(),a.execute(new ae(a,p))})},!1),A.readAsArrayBuffer(i);break}case"fbx":{A.addEventListener("load",async function(c){const g=c.target.result,{FBXLoader:l}=await te(async()=>{const{FBXLoader:p}=await import("./FBXLoader-7Z4FKHY4.js");return{FBXLoader:p}},__vite__mapDeps([9,1,3])),m=new l(r).parse(g);a.execute(new ae(a,m))},!1),A.readAsArrayBuffer(i);break}case"glb":{A.addEventListener("load",async function(c){const g=c.target.result;try{const u=await new Ba(a.strings).show(),m=await n();m.parse(g,"",function(p){const h=p.scene;h.name=o,h.animations.push(...p.animations),u.asScene?a.execute(new Aa(a,h)):a.execute(new ae(a,h)),m.dracoLoader.dispose(),m.ktx2Loader.dispose()})}catch{}},!1),A.readAsArrayBuffer(i);break}case"gltf":{A.addEventListener("load",async function(c){const g=c.target.result;try{const u=await new Ba(a.strings).show(),m=await n(r);m.parse(g,"",function(p){const h=p.scene;h.name=o,h.animations.push(...p.animations),u.asScene?a.execute(new Aa(a,h)):a.execute(new ae(a,h)),m.dracoLoader.dispose(),m.ktx2Loader.dispose()})}catch{}},!1),A.readAsArrayBuffer(i);break}case"js":case"json":{A.addEventListener("load",function(c){const g=c.target.result;if(g.indexOf("postMessage")!==-1){const u=new Blob([g],{type:"text/javascript"}),m=URL.createObjectURL(u),p=new Worker(m);p.onmessage=function(h){h.data.metadata={version:2},t(h.data)},p.postMessage(Date.now());return}let l;try{l=JSON.parse(g)}catch(u){alert(u);return}t(l)},!1),A.readAsText(i);break}case"kmz":{A.addEventListener("load",async function(c){const{KMZLoader:g}=await te(async()=>{const{KMZLoader:m}=await import("./KMZLoader-CkG2JlDR.js");return{KMZLoader:m}},__vite__mapDeps([10,1,7,3])),u=new g().parse(c.target.result);u.scene.name=o,a.execute(new ae(a,u.scene))},!1),A.readAsArrayBuffer(i);break}case"ldr":case"mpd":{A.addEventListener("load",async function(c){const{LDrawLoader:g}=await te(async()=>{const{LDrawLoader:u}=await import("./LDrawLoader-CTitx5oD.js");return{LDrawLoader:u}},__vite__mapDeps([11,1])),l=new g;l.setPath("../../examples/models/ldraw/officialLibrary/"),l.parse(c.target.result,function(u){u.name=o,u.rotation.x=Math.PI,a.execute(new ae(a,u))})},!1),A.readAsText(i);break}case"md2":{A.addEventListener("load",async function(c){const g=c.target.result,{MD2Loader:l}=await te(async()=>{const{MD2Loader:h}=await import("./MD2Loader-DFcb_rHq.js");return{MD2Loader:h}},__vite__mapDeps([12,1])),u=new l().parse(g),m=new ue,p=new U(u,m);p.mixer=new _n(p),p.name=o,p.animations.push(...u.animations),a.execute(new ae(a,p))},!1),A.readAsArrayBuffer(i);break}case"obj":{A.addEventListener("load",async function(c){const g=c.target.result,{OBJLoader:l}=await te(async()=>{const{OBJLoader:m}=await import("./OBJLoader-bPQ9D9rd.js");return{OBJLoader:m}},__vite__mapDeps([13,1])),u=new l().parse(g);u.name=o,a.execute(new ae(a,u))},!1),A.readAsText(i);break}case"pcd":{A.addEventListener("load",async function(c){const g=c.target.result,{PCDLoader:l}=await te(async()=>{const{PCDLoader:m}=await import("./PCDLoader-CAZ2LPqj.js");return{PCDLoader:m}},__vite__mapDeps([14,1])),u=new l().parse(g);u.name=o,a.execute(new ae(a,u))},!1),A.readAsArrayBuffer(i);break}case"ply":{A.addEventListener("load",async function(c){const g=c.target.result,{PLYLoader:l}=await te(async()=>{const{PLYLoader:p}=await import("./PLYLoader-BaGhiWod.js");return{PLYLoader:p}},__vite__mapDeps([15,1])),u=new l().parse(g);let m;if(u.index!==null){const p=new ue;m=new U(u,p),m.name=o}else{const p=new ua({size:.01});p.vertexColors=u.hasAttribute("color"),m=new _a(u,p),m.name=o}a.execute(new ae(a,m))},!1),A.readAsArrayBuffer(i);break}case"stl":{A.addEventListener("load",async function(c){const g=c.target.result,{STLLoader:l}=await te(async()=>{const{STLLoader:h}=await import("./STLLoader-DlMSllge.js");return{STLLoader:h}},__vite__mapDeps([16,1])),u=new l().parse(g),m=new ue,p=new U(u,m);p.name=o,a.execute(new ae(a,p))},!1),A.readAsBinaryString!==void 0?A.readAsBinaryString(i):A.readAsArrayBuffer(i);break}case"svg":{A.addEventListener("load",async function(c){const g=c.target.result,{SVGLoader:l}=await te(async()=>{const{SVGLoader:h}=await import("./SVGLoader-Jt6MOU0Y.js");return{SVGLoader:h}},__vite__mapDeps([17,1])),m=new l().parse(g).paths,p=new ft;p.name=o,p.scale.multiplyScalar(.1),p.scale.y*=-1;for(let h=0;h<m.length;h++){const b=m[h],E=new Ge({color:b.color,depthWrite:!1}),f=l.createShapes(b);for(let y=0;y<f.length;y++){const C=f[y],M=new Rs(C),_=new U(M,E);p.add(_)}}a.execute(new ae(a,p))},!1),A.readAsText(i);break}case"usd":case"usda":case"usdc":case"usdz":{A.addEventListener("load",async function(c){const g=c.target.result,{USDLoader:l}=await te(async()=>{const{USDLoader:p}=await import("./USDLoader-CoQdYDGn.js");return{USDLoader:p}},__vite__mapDeps([18,1,3])),m=new l(r).parse(g);m.name=o,a.execute(new ae(a,m))},!1),A.readAsArrayBuffer(i);break}case"vox":{A.addEventListener("load",async function(c){const g=c.target.result,{VOXLoader:l}=await te(async()=>{const{VOXLoader:m}=await import("./VOXLoader-Dg0eAi8N.js");return{VOXLoader:m}},__vite__mapDeps([19,1])),{scene:u}=new l().parse(g);u.name=o,a.execute(new ae(a,u))},!1),A.readAsArrayBuffer(i);break}case"vtk":case"vtp":{A.addEventListener("load",async function(c){const g=c.target.result,{VTKLoader:l}=await te(async()=>{const{VTKLoader:h}=await import("./VTKLoader-C94jbhu-.js");return{VTKLoader:h}},__vite__mapDeps([20,1,3])),u=new l().parse(g),m=new ue,p=new U(u,m);p.name=o,a.execute(new ae(a,p))},!1),A.readAsArrayBuffer(i);break}case"wrl":{A.addEventListener("load",async function(c){const g=c.target.result,{VRMLLoader:l}=await te(async()=>{const{VRMLLoader:m}=await import("./VRMLLoader-CoroAkZ7.js");return{VRMLLoader:m}},__vite__mapDeps([21,1])),u=new l().parse(g);a.execute(new ae(a,u))},!1),A.readAsText(i);break}case"xyz":{A.addEventListener("load",async function(c){const g=c.target.result,{XYZLoader:l}=await te(async()=>{const{XYZLoader:h}=await import("./XYZLoader-BBgSYL5b.js");return{XYZLoader:h}},__vite__mapDeps([22,1])),u=new l().parse(g),m=new ua;m.vertexColors=u.hasAttribute("color");const p=new _a(u,m);p.name=o,a.execute(new ae(a,p))},!1),A.readAsText(i);break}case"zip":{A.addEventListener("load",function(c){s(c.target.result)},!1),A.readAsArrayBuffer(i);break}case"bmp":case"gif":case"jpg":case"jpeg":case"png":case"tga":break;default:console.error("Unsupported file format ("+d+").");break}};function t(i){switch(i.metadata===void 0&&(i.metadata={type:"Geometry"}),i.metadata.type===void 0&&(i.metadata.type="Geometry"),i.metadata.formatVersion!==void 0&&(i.metadata.version=i.metadata.formatVersion),i.metadata.type.toLowerCase()){case"buffergeometry":{const o=new Ki().parse(i),d=new U(o);a.execute(new ae(a,d));break}case"geometry":console.error('Loader: "Geometry" is no longer supported.');break;case"object":{const r=new Ct;r.setResourcePath(e.texturePath),r.parse(i,function(o){a.execute(new ae(a,o))});break}case"app":a.fromJSON(i);break}}async function s(i){const r=ho(new Uint8Array(i)),o=new ps;if(o.setURLModifier(function(d){const A=r[d];if(A){console.log("Loading",d);const c=new Blob([A.buffer],{type:"application/octet-stream"});return URL.createObjectURL(c)}return d}),r["model.obj"]&&r["materials.mtl"]){const{MTLLoader:d}=await te(async()=>{const{MTLLoader:l}=await import("./MTLLoader-D8MPiIFQ.js");return{MTLLoader:l}},__vite__mapDeps([23,1])),{OBJLoader:A}=await te(async()=>{const{OBJLoader:l}=await import("./OBJLoader-bPQ9D9rd.js");return{OBJLoader:l}},__vite__mapDeps([13,1])),c=new d(o).parse(Na(r["materials.mtl"])),g=new A().setMaterials(c).parse(Na(r["model.obj"]));a.execute(new ae(a,g));return}for(const d in r){const A=r[d];switch(d.split(".").pop().toLowerCase()){case"fbx":{const{FBXLoader:g}=await te(async()=>{const{FBXLoader:m}=await import("./FBXLoader-7Z4FKHY4.js");return{FBXLoader:m}},__vite__mapDeps([9,1,3])),u=new g(o).parse(A.buffer);a.execute(new ae(a,u));break}case"glb":{try{const l=await new Ba(a.strings).show(),u=await n();u.parse(A.buffer,"",function(m){const p=m.scene;p.animations.push(...m.animations),l.asScene?a.execute(new Aa(a,p)):a.execute(new ae(a,p)),u.dracoLoader.dispose(),u.ktx2Loader.dispose()})}catch{}break}case"gltf":{try{const l=await new Ba(a.strings).show(),u=await n(o);u.parse(Na(A),"",function(m){const p=m.scene;p.animations.push(...m.animations),l.asScene?a.execute(new Aa(a,p)):a.execute(new ae(a,p)),u.dracoLoader.dispose(),u.ktx2Loader.dispose()})}catch{}break}}}}async function n(i){const{GLTFLoader:r}=await te(async()=>{const{GLTFLoader:u}=await Promise.resolve().then(()=>Qd);return{GLTFLoader:u}},void 0),{DRACOLoader:o}=await te(async()=>{const{DRACOLoader:u}=await import("./DRACOLoader-CkoqUL4W.js");return{DRACOLoader:u}},__vite__mapDeps([8,1])),{KTX2Loader:d}=await te(async()=>{const{KTX2Loader:u}=await import("./KTX2Loader-6uHWZIm4.js");return{KTX2Loader:u}},__vite__mapDeps([24,1])),{MeshoptDecoder:A}=await te(async()=>{const{MeshoptDecoder:u}=await import("./meshopt_decoder.module-BK2qI-8z.js");return{MeshoptDecoder:u}},[]),c=new o;c.setDecoderPath("../examples/jsm/libs/draco/gltf/");const g=new d(i);g.setTranscoderPath("../examples/jsm/libs/basis/"),a.signals.rendererDetectKTX2Support.dispatch(g);const l=new r(i);return l.setDRACOLoader(c),l.setKTX2Loader(g),l.setMeshoptDecoder(A),l}}class mi extends Ce{constructor(e,t=null,s=""){super(e),this.type="AddScriptCommand",this.name=e.strings.getKey("command/AddScript"),this.object=t,this.script=s}execute(){this.editor.scripts[this.object.uuid]===void 0&&(this.editor.scripts[this.object.uuid]=[]),this.editor.scripts[this.object.uuid].push(this.script),this.editor.signals.scriptAdded.dispatch(this.script)}undo(){if(this.editor.scripts[this.object.uuid]===void 0)return;const e=this.editor.scripts[this.object.uuid].indexOf(this.script);e!==-1&&this.editor.scripts[this.object.uuid].splice(e,1),this.editor.signals.scriptRemoved.dispatch(this.script)}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.script=this.script,e}fromJSON(e){super.fromJSON(e),this.script=e.script,this.object=this.editor.objectByUuid(e.objectUuid)}}class hi extends Ce{constructor(e,t=null,s=null,n=null){super(e),this.type="MoveObjectCommand",this.name=e.strings.getKey("command/MoveObject"),this.object=t,this.oldParent=t!==null?t.parent:null,this.oldIndex=this.oldParent!==null?this.oldParent.children.indexOf(this.object):null,this.newParent=s,n!==null?this.newIndex=s!==null?s.children.indexOf(n):null:this.newIndex=s!==null?s.children.length:null,this.oldParent===this.newParent&&this.newIndex>this.oldIndex&&this.newIndex--,this.newBefore=n}execute(){this.oldParent.remove(this.object),this.newParent.children.splice(this.newIndex,0,this.object),this.object.parent=this.newParent,this.object.dispatchEvent({type:"added"}),this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.objectChanged.dispatch(this.newParent),this.editor.signals.objectChanged.dispatch(this.oldParent),this.editor.signals.sceneGraphChanged.dispatch()}undo(){this.newParent.remove(this.object),this.oldParent.children.splice(this.oldIndex,0,this.object),this.object.parent=this.oldParent,this.object.dispatchEvent({type:"added"}),this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.objectChanged.dispatch(this.newParent),this.editor.signals.objectChanged.dispatch(this.oldParent),this.editor.signals.sceneGraphChanged.dispatch()}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.newParentUuid=this.newParent.uuid,e.oldParentUuid=this.oldParent.uuid,e.newIndex=this.newIndex,e.oldIndex=this.oldIndex,e}fromJSON(e){super.fromJSON(e),this.object=this.editor.objectByUuid(e.objectUuid),this.oldParent=this.editor.objectByUuid(e.oldParentUuid),this.oldParent===void 0&&(this.oldParent=this.editor.scene),this.newParent=this.editor.objectByUuid(e.newParentUuid),this.newParent===void 0&&(this.newParent=this.editor.scene),this.newIndex=e.newIndex,this.oldIndex=e.oldIndex}}class bo extends Ce{constructor(e,t=[]){super(e),this.type="MultiCmdsCommand",this.name=e.strings.getKey("command/MultiCmds"),this.cmdArray=t}execute(){this.editor.signals.sceneGraphChanged.active=!1;for(let e=0;e<this.cmdArray.length;e++)this.cmdArray[e].execute();this.editor.signals.sceneGraphChanged.active=!0,this.editor.signals.sceneGraphChanged.dispatch()}undo(){this.editor.signals.sceneGraphChanged.active=!1;for(let e=this.cmdArray.length-1;e>=0;e--)this.cmdArray[e].undo();this.editor.signals.sceneGraphChanged.active=!0,this.editor.signals.sceneGraphChanged.dispatch()}toJSON(){const e=super.toJSON(this),t=[];for(let s=0;s<this.cmdArray.length;s++)t.push(this.cmdArray[s].toJSON());return e.cmds=t,e}fromJSON(e){super.fromJSON(e);const t=e.cmds;for(let s=0;s<t.length;s++){const n=new window[t[s].type];n.fromJSON(t[s]),this.cmdArray.push(n)}}}class Ks extends Ce{constructor(e,t=null){super(e),this.type="RemoveObjectCommand",this.object=t,this.parent=t!==null?t.parent:null,this.parent!==null&&(this.index=this.parent.children.indexOf(this.object)),t!==null&&(this.name=e.strings.getKey("command/RemoveObject")+": "+t.name)}execute(){this.editor.removeObject(this.object),this.editor.deselect()}undo(){this.editor.addObject(this.object,this.parent,this.index),this.editor.select(this.object)}toJSON(){const e=super.toJSON(this);return e.object=this.object.toJSON(),e.index=this.index,e.parentUuid=this.parent.uuid,e}fromJSON(e){if(super.fromJSON(e),this.parent=this.editor.objectByUuid(e.parentUuid),this.parent===void 0&&(this.parent=this.editor.scene),this.index=e.index,this.object=this.editor.objectByUuid(e.object.object.uuid),this.object===void 0){const t=new Ct;this.object=t.parse(e.object)}}}class pi extends Ce{constructor(e,t=null,s=""){super(e),this.type="RemoveScriptCommand",this.name=e.strings.getKey("command/RemoveScript"),this.object=t,this.script=s,this.object!==null&&this.script!==""&&(this.index=this.editor.scripts[this.object.uuid].indexOf(this.script))}execute(){this.editor.scripts[this.object.uuid]!==void 0&&(this.index!==-1&&this.editor.scripts[this.object.uuid].splice(this.index,1),this.editor.signals.scriptRemoved.dispatch(this.script))}undo(){this.editor.scripts[this.object.uuid]===void 0&&(this.editor.scripts[this.object.uuid]=[]),this.editor.scripts[this.object.uuid].splice(this.index,0,this.script),this.editor.signals.scriptAdded.dispatch(this.script)}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.script=this.script,e.index=this.index,e}fromJSON(e){super.fromJSON(e),this.script=e.script,this.index=e.index,this.object=this.editor.objectByUuid(e.objectUuid)}}class Ss extends Ce{constructor(e,t=null,s="",n=null){super(e),this.type="SetColorCommand",this.name=e.strings.getKey("command/SetColor")+": "+s,this.updatable=!0,this.object=t,this.attributeName=s,this.oldValue=t!==null?this.object[this.attributeName].getHex():null,this.newValue=n}execute(){this.object[this.attributeName].setHex(this.newValue),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.object[this.attributeName].setHex(this.oldValue),this.editor.signals.objectChanged.dispatch(this.object)}update(e){this.newValue=e.newValue}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.attributeName=this.attributeName,e.oldValue=this.oldValue,e.newValue=this.newValue,e}fromJSON(e){super.fromJSON(e),this.object=this.editor.objectByUuid(e.objectUuid),this.attributeName=e.attributeName,this.oldValue=e.oldValue,this.newValue=e.newValue}}class Be extends Ce{constructor(e,t=null,s=null){super(e),this.type="SetGeometryCommand",this.name=e.strings.getKey("command/SetGeometry"),this.updatable=!0,this.object=t,this.oldGeometry=t!==null?t.geometry:null,this.newGeometry=s}execute(){this.object.geometry.dispose(),this.object.geometry=this.newGeometry,this.object.geometry.computeBoundingSphere(),this.editor.signals.geometryChanged.dispatch(this.object),this.editor.signals.sceneGraphChanged.dispatch()}undo(){this.object.geometry.dispose(),this.object.geometry=this.oldGeometry,this.object.geometry.computeBoundingSphere(),this.editor.signals.geometryChanged.dispatch(this.object),this.editor.signals.sceneGraphChanged.dispatch()}update(e){this.newGeometry=e.newGeometry}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.oldGeometry=this.oldGeometry.toJSON(),e.newGeometry=this.newGeometry.toJSON(),e}fromJSON(e){super.fromJSON(e),this.object=this.editor.objectByUuid(e.objectUuid),this.oldGeometry=t(e.oldGeometry),this.newGeometry=t(e.newGeometry);function t(s){return new Ct().parseGeometries([s])[s.uuid]}}}class Ga extends Ce{constructor(e,t=null,s="",n=null){super(e),this.type="SetGeometryValueCommand",this.name=e.strings.getKey("command/SetGeometryValue")+": "+s,this.object=t,this.attributeName=s,this.oldValue=t!==null?t.geometry[s]:null,this.newValue=n}execute(){this.object.geometry[this.attributeName]=this.newValue,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.geometryChanged.dispatch(),this.editor.signals.sceneGraphChanged.dispatch()}undo(){this.object.geometry[this.attributeName]=this.oldValue,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.geometryChanged.dispatch(),this.editor.signals.sceneGraphChanged.dispatch()}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.attributeName=this.attributeName,e.oldValue=this.oldValue,e.newValue=this.newValue,e}fromJSON(e){super.fromJSON(e),this.object=this.editor.objectByUuid(e.objectUuid),this.attributeName=e.attributeName,this.oldValue=e.oldValue,this.newValue=e.newValue}}class bi extends Ce{constructor(e,t=null,s="",n=null,i=-1){super(e),this.type="SetMaterialColorCommand",this.name=e.strings.getKey("command/SetMaterialColor")+": "+s,this.updatable=!0,this.object=t,this.materialSlot=i;const r=t!==null?e.getObjectMaterial(t,i):null;this.oldValue=r!==null?r[s].getHex():null,this.newValue=n,this.attributeName=s}execute(){this.editor.getObjectMaterial(this.object,this.materialSlot)[this.attributeName].setHex(this.newValue),this.editor.signals.materialChanged.dispatch(this.object,this.materialSlot)}undo(){this.editor.getObjectMaterial(this.object,this.materialSlot)[this.attributeName].setHex(this.oldValue),this.editor.signals.materialChanged.dispatch(this.object,this.materialSlot)}update(e){this.newValue=e.newValue}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.attributeName=this.attributeName,e.oldValue=this.oldValue,e.newValue=this.newValue,e.materialSlot=this.materialSlot,e}fromJSON(e){super.fromJSON(e),this.object=this.editor.objectByUuid(e.objectUuid),this.attributeName=e.attributeName,this.oldValue=e.oldValue,this.newValue=e.newValue,this.materialSlot=e.materialSlot}}class Ps extends Ce{constructor(e,t=null,s=null,n=-1){super(e),this.type="SetMaterialCommand",this.name=e.strings.getKey("command/SetMaterial"),this.object=t,this.materialSlot=n,this.oldMaterial=t!==null?e.getObjectMaterial(t,n):null,this.newMaterial=s}execute(){this.editor.setObjectMaterial(this.object,this.materialSlot,this.newMaterial),this.editor.signals.materialChanged.dispatch(this.object,this.materialSlot)}undo(){this.editor.setObjectMaterial(this.object,this.materialSlot,this.oldMaterial),this.editor.signals.materialChanged.dispatch(this.object,this.materialSlot)}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.oldMaterial=this.oldMaterial.toJSON(),e.newMaterial=this.newMaterial.toJSON(),e.materialSlot=this.materialSlot,e}fromJSON(e){super.fromJSON(e),this.object=this.editor.objectByUuid(e.objectUuid),this.oldMaterial=t(e.oldMaterial),this.newMaterial=t(e.newMaterial),this.materialSlot=e.materialSlot;function t(s){const n=new Ct,i=n.parseImages(s.images),r=n.parseTextures(s.textures,i);return n.parseMaterials([s],r)[s.uuid]}}}class fi extends Ce{constructor(e,t=null,s="",n=null,i=-1){super(e),this.type="SetMaterialMapCommand",this.name=e.strings.getKey("command/SetMaterialMap")+": "+s,this.object=t,this.materialSlot=i;const r=t!==null?e.getObjectMaterial(t,i):null;this.oldMap=t!==null?r[s]:void 0,this.newMap=n,this.mapName=s}execute(){this.oldMap!==null&&this.oldMap!==void 0&&this.oldMap.dispose();const e=this.editor.getObjectMaterial(this.object,this.materialSlot);e[this.mapName]=this.newMap,e.needsUpdate=!0,this.editor.signals.materialChanged.dispatch(this.object,this.materialSlot)}undo(){const e=this.editor.getObjectMaterial(this.object,this.materialSlot);e[this.mapName]=this.oldMap,e.needsUpdate=!0,this.editor.signals.materialChanged.dispatch(this.object,this.materialSlot)}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.mapName=this.mapName,e.newMap=t(this.newMap),e.oldMap=t(this.oldMap),e.materialSlot=this.materialSlot,e;function t(n){if(n==null)return null;const i={geometries:{},materials:{},textures:{},images:{}},r=n.toJSON(i),o=s(i.images);return o.length>0&&(r.images=o),r.sourceFile=n.sourceFile,r}function s(n){const i=[];for(const r in n){const o=n[r];delete o.metadata,i.push(o)}return i}}fromJSON(e){super.fromJSON(e),this.object=this.editor.objectByUuid(e.objectUuid),this.mapName=e.mapName,this.oldMap=t(e.oldMap),this.newMap=t(e.newMap),this.materialSlot=e.materialSlot;function t(s){let n=null;if(s!==null){const i=new Ct,r=i.parseImages(s.images);n=i.parseTextures([s],r)[s.uuid],n.sourceFile=s.sourceFile}return n}}}class Us extends Ce{constructor(e,t=null,s="",n=-1/0,i=1/0,r=-1){super(e),this.type="SetMaterialRangeCommand",this.name=e.strings.getKey("command/SetMaterialRange")+": "+s,this.updatable=!0,this.object=t,this.materialSlot=r;const o=t!==null?e.getObjectMaterial(t,r):null;this.oldRange=o!==null&&o[s]!==void 0?[...o[s]]:null,this.newRange=[n,i],this.attributeName=s}execute(){const e=this.editor.getObjectMaterial(this.object,this.materialSlot);e[this.attributeName]=[...this.newRange],e.needsUpdate=!0,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.materialChanged.dispatch(this.object,this.materialSlot)}undo(){const e=this.editor.getObjectMaterial(this.object,this.materialSlot);e[this.attributeName]=[...this.oldRange],e.needsUpdate=!0,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.materialChanged.dispatch(this.object,this.materialSlot)}update(e){this.newRange=[...e.newRange]}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.attributeName=this.attributeName,e.oldRange=[...this.oldRange],e.newRange=[...this.newRange],e.materialSlot=this.materialSlot,e}fromJSON(e){super.fromJSON(e),this.attributeName=e.attributeName,this.oldRange=[...e.oldRange],this.newRange=[...e.newRange],this.object=this.editor.objectByUuid(e.objectUuid),this.materialSlot=e.materialSlot}}class rt extends Ce{constructor(e,t=null,s="",n=null,i=-1){super(e),this.type="SetMaterialValueCommand",this.name=e.strings.getKey("command/SetMaterialValue")+": "+s,this.updatable=!0,this.object=t,this.materialSlot=i;const r=t!==null?e.getObjectMaterial(t,i):null;this.oldValue=r!==null?r[s]:null,this.newValue=n,this.attributeName=s}execute(){const e=this.editor.getObjectMaterial(this.object,this.materialSlot);e[this.attributeName]=this.newValue,e.needsUpdate=!0,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.materialChanged.dispatch(this.object,this.materialSlot)}undo(){const e=this.editor.getObjectMaterial(this.object,this.materialSlot);e[this.attributeName]=this.oldValue,e.needsUpdate=!0,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.materialChanged.dispatch(this.object,this.materialSlot)}update(e){this.newValue=e.newValue}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.attributeName=this.attributeName,e.oldValue=this.oldValue,e.newValue=this.newValue,e.materialSlot=this.materialSlot,e}fromJSON(e){super.fromJSON(e),this.attributeName=e.attributeName,this.oldValue=e.oldValue,this.newValue=e.newValue,this.object=this.editor.objectByUuid(e.objectUuid),this.materialSlot=e.materialSlot}}class yi extends Ce{constructor(e,t=null,s="",n=null,i=-1){super(e),this.type="SetMaterialVectorCommand",this.name=e.strings.getKey("command/SetMaterialVector")+": "+s,this.updatable=!0,this.object=t,this.materialSlot=i;const r=t!==null?e.getObjectMaterial(t,i):null;this.oldValue=r!==null?r[s].toArray():null,this.newValue=n,this.attributeName=s}execute(){this.editor.getObjectMaterial(this.object,this.materialSlot)[this.attributeName].fromArray(this.newValue),this.editor.signals.materialChanged.dispatch(this.object,this.materialSlot)}undo(){this.editor.getObjectMaterial(this.object,this.materialSlot)[this.attributeName].fromArray(this.oldValue),this.editor.signals.materialChanged.dispatch(this.object,this.materialSlot)}update(e){this.newValue=e.newValue}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.attributeName=this.attributeName,e.oldValue=this.oldValue,e.newValue=this.newValue,e.materialSlot=this.materialSlot,e}fromJSON(e){super.fromJSON(e),this.object=this.editor.objectByUuid(e.objectUuid),this.attributeName=e.attributeName,this.oldValue=e.oldValue,this.newValue=e.newValue,this.materialSlot=e.materialSlot}}class Wa extends Ce{constructor(e,t=null,s=null,n=null){super(e),this.type="SetPositionCommand",this.name=e.strings.getKey("command/SetPosition"),this.updatable=!0,this.object=t,t!==null&&s!==null&&(this.oldPosition=t.position.clone(),this.newPosition=s.clone()),n!==null&&(this.oldPosition=n.clone())}execute(){this.object.position.copy(this.newPosition),this.object.updateMatrixWorld(!0),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.object.position.copy(this.oldPosition),this.object.updateMatrixWorld(!0),this.editor.signals.objectChanged.dispatch(this.object)}update(e){this.newPosition.copy(e.newPosition)}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.oldPosition=this.oldPosition.toArray(),e.newPosition=this.newPosition.toArray(),e}fromJSON(e){super.fromJSON(e),this.object=this.editor.objectByUuid(e.objectUuid),this.oldPosition=new Z().fromArray(e.oldPosition),this.newPosition=new Z().fromArray(e.newPosition)}}class Os extends Ce{constructor(e,t=null,s=null,n=null){super(e),this.type="SetRotationCommand",this.name=e.strings.getKey("command/SetRotation"),this.updatable=!0,this.object=t,t!==null&&s!==null&&(this.oldRotation=t.rotation.clone(),this.newRotation=s.clone()),n!==null&&(this.oldRotation=n.clone())}execute(){this.object.rotation.copy(this.newRotation),this.object.updateMatrixWorld(!0),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.object.rotation.copy(this.oldRotation),this.object.updateMatrixWorld(!0),this.editor.signals.objectChanged.dispatch(this.object)}update(e){this.newRotation.copy(e.newRotation)}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.oldRotation=this.oldRotation.toArray(),e.newRotation=this.newRotation.toArray(),e}fromJSON(e){super.fromJSON(e),this.object=this.editor.objectByUuid(e.objectUuid),this.oldRotation=new st().fromArray(e.oldRotation),this.newRotation=new st().fromArray(e.newRotation)}}class Hs extends Ce{constructor(e,t=null,s=null,n=null){super(e),this.type="SetScaleCommand",this.name=e.strings.getKey("command/SetScale"),this.updatable=!0,this.object=t,t!==null&&s!==null&&(this.oldScale=t.scale.clone(),this.newScale=s.clone()),n!==null&&(this.oldScale=n.clone())}execute(){this.object.scale.copy(this.newScale),this.object.updateMatrixWorld(!0),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.object.scale.copy(this.oldScale),this.object.updateMatrixWorld(!0),this.editor.signals.objectChanged.dispatch(this.object)}update(e){this.newScale.copy(e.newScale)}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.oldScale=this.oldScale.toArray(),e.newScale=this.newScale.toArray(),e}fromJSON(e){super.fromJSON(e),this.object=this.editor.objectByUuid(e.objectUuid),this.oldScale=new Z().fromArray(e.oldScale),this.newScale=new Z().fromArray(e.newScale)}}class Ci extends Ce{constructor(e,t=null,s="",n="",i=null){super(e),this.type="SetScriptValueCommand",this.name=e.strings.getKey("command/SetScriptValue")+": "+n,this.updatable=!0,this.object=t,this.script=s,this.attributeName=n,this.oldValue=s!==""?s[this.attributeName]:null,this.newValue=i}execute(){this.script[this.attributeName]=this.newValue,this.editor.signals.scriptChanged.dispatch(this.script)}undo(){this.script[this.attributeName]=this.oldValue,this.editor.signals.scriptChanged.dispatch(this.script)}update(e){this.newValue=e.newValue}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.index=this.editor.scripts[this.object.uuid].indexOf(this.script),e.attributeName=this.attributeName,e.oldValue=this.oldValue,e.newValue=this.newValue,e}fromJSON(e){super.fromJSON(e),this.oldValue=e.oldValue,this.newValue=e.newValue,this.attributeName=e.attributeName,this.object=this.editor.objectByUuid(e.objectUuid),this.script=this.editor.scripts[e.objectUuid][e.index]}}class la extends Ce{constructor(e,t=null,s="",n=null){super(e),this.type="SetShadowValueCommand",this.name=e.strings.getKey("command/SetShadowValue")+": "+s,this.updatable=!0,this.object=t,this.attributeName=s,this.oldValue=t!==null?t.shadow[s]:null,this.newValue=n}execute(){this.object.shadow[this.attributeName]=this.newValue,this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.object.shadow[this.attributeName]=this.oldValue,this.editor.signals.objectChanged.dispatch(this.object)}update(e){this.newValue=e.newValue}toJSON(){const e=super.toJSON(this);return e.objectUuid=this.object.uuid,e.attributeName=this.attributeName,e.oldValue=this.oldValue,e.newValue=this.newValue,e}fromJSON(e){super.fromJSON(e),this.object=this.editor.objectByUuid(e.objectUuid),this.attributeName=e.attributeName,this.oldValue=e.oldValue,this.newValue=e.newValue}}const An=Object.freeze(Object.defineProperty({__proto__:null,AddObjectCommand:ae,AddScriptCommand:mi,MoveObjectCommand:hi,MultiCmdsCommand:bo,RemoveObjectCommand:Ks,RemoveScriptCommand:pi,SetColorCommand:Ss,SetGeometryCommand:Be,SetGeometryValueCommand:Ga,SetMaterialColorCommand:bi,SetMaterialCommand:Ps,SetMaterialMapCommand:fi,SetMaterialRangeCommand:Us,SetMaterialValueCommand:rt,SetMaterialVectorCommand:yi,SetPositionCommand:Wa,SetRotationCommand:Os,SetScaleCommand:Hs,SetSceneCommand:Aa,SetScriptValueCommand:Ci,SetShadowValueCommand:la,SetUuidCommand:Gs,SetValueCommand:Ie},Symbol.toStringTag,{value:"Module"}));class fo{constructor(e){this.editor=e,this.undos=[],this.redos=[],this.lastCmdTime=Date.now(),this.idCounter=0,this.historyDisabled=!1,this.config=e.config;const t=this;this.editor.signals.startPlayer.add(function(){t.historyDisabled=!0}),this.editor.signals.stopPlayer.add(function(){t.historyDisabled=!1})}execute(e,t){const s=this.undos[this.undos.length-1],n=Date.now()-this.lastCmdTime,i=s&&s.updatable&&e.updatable&&s.object===e.object&&s.type===e.type&&s.script===e.script&&s.attributeName===e.attributeName;i&&e.type==="SetScriptValueCommand"||i&&n<500?(s.update(e),e=s):(this.undos.push(e),e.id=++this.idCounter),e.name=t!==void 0?t:e.name,e.execute(),e.inMemory=!0,this.config.getKey("settings/history")&&(e.json=e.toJSON()),this.lastCmdTime=Date.now(),this.redos=[],this.editor.signals.historyChanged.dispatch(e)}undo(){if(this.historyDisabled){alert(this.editor.strings.getKey("prompt/history/forbid"));return}let e;return this.undos.length>0&&(e=this.undos.pop(),e.inMemory===!1&&e.fromJSON(e.json)),e!==void 0&&(e.undo(),this.redos.push(e),this.editor.signals.historyChanged.dispatch(e)),e}redo(){if(this.historyDisabled){alert(this.editor.strings.getKey("prompt/history/forbid"));return}let e;return this.redos.length>0&&(e=this.redos.pop(),e.inMemory===!1&&e.fromJSON(e.json)),e!==void 0&&(e.execute(),this.undos.push(e),this.editor.signals.historyChanged.dispatch(e)),e}toJSON(){const e={};if(e.undos=[],e.redos=[],!this.config.getKey("settings/history"))return e;for(let t=0;t<this.undos.length;t++)this.undos[t].hasOwnProperty("json")&&e.undos.push(this.undos[t].json);for(let t=0;t<this.redos.length;t++)this.redos[t].hasOwnProperty("json")&&e.redos.push(this.redos[t].json);return e}fromJSON(e){if(e!==void 0){for(let t=0;t<e.undos.length;t++){const s=e.undos[t],n=new An[s.type](this.editor);n.json=s,n.id=s.id,n.name=s.name,this.undos.push(n),this.idCounter=s.id>this.idCounter?s.id:this.idCounter}for(let t=0;t<e.redos.length;t++){const s=e.redos[t],n=new An[s.type](this.editor);n.json=s,n.id=s.id,n.name=s.name,this.redos.push(n),this.idCounter=s.id>this.idCounter?s.id:this.idCounter}this.editor.signals.historyChanged.dispatch(this.undos[this.undos.length-1])}}clear(){this.undos=[],this.redos=[],this.idCounter=0,this.editor.signals.historyChanged.dispatch()}goToState(e){if(this.historyDisabled){alert(this.editor.strings.getKey("prompt/history/forbid"));return}this.editor.signals.sceneGraphChanged.active=!1,this.editor.signals.historyChanged.active=!1;let t=this.undos.length>0?this.undos[this.undos.length-1]:void 0;if(t===void 0||e>t.id)for(t=this.redo();t!==void 0&&e>t.id;)t=this.redo();else for(;t=this.undos[this.undos.length-1],!(t===void 0||e===t.id);)this.undo();this.editor.signals.sceneGraphChanged.active=!0,this.editor.signals.historyChanged.active=!0,this.editor.signals.sceneGraphChanged.dispatch(),this.editor.signals.historyChanged.dispatch(t)}enableSerialization(e){this.goToState(-1),this.editor.signals.sceneGraphChanged.active=!1,this.editor.signals.historyChanged.active=!1;let t=this.redo();for(;t!==void 0;)t.hasOwnProperty("json")||(t.json=t.toJSON()),t=this.redo();this.editor.signals.sceneGraphChanged.active=!0,this.editor.signals.historyChanged.active=!0,this.goToState(e)}}function yo(a){const e=a.getKey("language"),t={fa:{"prompt/file/open":"         ","prompt/file/failedToOpenProject":"      ","prompt/file/export/noMeshSelected":" Mesh   ","prompt/file/export/noObjectSelected":"   !","prompt/script/remove":"  ","prompt/history/clear":"    (undo / redo)     ","prompt/history/preserve":`The history will be preserved across sessions.
This can have an impact on performance when working with textures.`,"prompt/history/forbid":"Undo/Redo disabled while scene is playing.","prompt/rendering/realistic/unsupportedMaterial":"REALISTIC Shading: Only MeshStandardMaterial and MeshPhysicalMaterial are supported","command/AddObject":" ","command/AddScript":" ","command/MoveObject":" ","command/MultiCmds":" ","command/RemoveObject":" ","command/RemoveScript":" ","command/SetColor":" ","command/SetGeometry":" ","command/SetGeometryValue":"  ","command/SetMaterialColor":"  ","command/SetMaterial":" ","command/SetMaterialMap":"  ","command/SetMaterialRange":"  ","command/SetMaterialValue":"  ","command/SetMaterialVector":"  ","command/SetPosition":" ","command/SetRotation":" ","command/SetScale":" ","command/SetScene":" ","command/SetScriptValue":"  ","command/SetShadowValue":"  ","command/SetUuid":" UUID","command/SetValue":" ","menubar/file":"","menubar/file/new":"","menubar/file/new/empty":" ","menubar/file/new/Arkanoid":"","menubar/file/new/Camera":"","menubar/file/new/Particles":"Particles","menubar/file/new/Pong":"","menubar/file/new/Shaders":"Shaders","menubar/file/open":" ","menubar/file/save":" ","menubar/file/import":"","menubar/file/export":"","menubar/edit":"","menubar/edit/undo":"","menubar/edit/redo":"  ","menubar/edit/center":"","menubar/edit/clone":" ","menubar/edit/delete":"","menubar/add":"","menubar/add/group":"","menubar/add/mesh":"","menubar/add/mesh/plane":"","menubar/add/mesh/box":"","menubar/add/mesh/capsule":"","menubar/add/mesh/circle":"","menubar/add/mesh/cylinder":"","menubar/add/mesh/ring":"","menubar/add/mesh/sphere":"","menubar/add/mesh/dodecahedron":" ","menubar/add/mesh/icosahedron":" ","menubar/add/mesh/octahedron":" ","menubar/add/mesh/tetrahedron":" ","menubar/add/mesh/torus":" ()","menubar/add/mesh/tube":"","menubar/add/mesh/torusknot":"torusknot","menubar/add/mesh/lathe":"Lathe","menubar/add/mesh/sprite":"Sprite","menubar/add/light":"","menubar/add/light/ambient":"","menubar/add/light/directional":" ","menubar/add/light/hemisphere":"","menubar/add/light/point":"","menubar/add/light/spot":" ","menubar/add/camera":"","menubar/add/camera/perspective":"","menubar/add/camera/orthographic":"","menubar/status/autosave":" ","menubar/view":"","menubar/view/fullscreen":" ","menubar/view/gridHelper":"  ","menubar/view/cameraHelpers":"  ","menubar/view/lightHelpers":"  ","menubar/view/skeletonHelpers":"  ","menubar/render":"","menubar/render/image":"","menubar/render/video":"","menubar/render/quality":"","menubar/render/cancel":"","menubar/help":"","menubar/help/source_code":" ","menubar/help/icons":" ","menubar/help/about":" ","menubar/help/manual":" ","sidebar/animations":" ","sidebar/animations/play":"","sidebar/animations/stop":"","sidebar/animations/timescale":" ","sidebar/scene":"","sidebar/scene/background":" ","sidebar/scene/environment":"","sidebar/scene/fog":"","sidebar/properties/object":"","sidebar/properties/geometry":"","sidebar/properties/material":"","sidebar/properties/script":"","sidebar/object/type":"","sidebar/object/new":"","sidebar/object/uuid":"UUID","sidebar/object/name":"","sidebar/object/position":"","sidebar/object/rotation":"","sidebar/object/scale":"","sidebar/object/fov":" ","sidebar/object/left":"","sidebar/object/right":"","sidebar/object/top":"","sidebar/object/bottom":"","sidebar/object/near":"","sidebar/object/far":"","sidebar/object/intensity":"","sidebar/object/color":"","sidebar/object/groundcolor":" ","sidebar/object/distance":"","sidebar/object/angle":"","sidebar/object/penumbra":" ","sidebar/object/decay":"","sidebar/object/shadow":"","sidebar/object/shadowIntensity":" ","sidebar/object/shadowBias":" ","sidebar/object/shadowNormalBias":"  ","sidebar/object/shadowRadius":" ","sidebar/object/cast":" ","sidebar/object/receive":"","sidebar/object/visible":"","sidebar/object/frustumcull":" ","sidebar/object/renderorder":" ","sidebar/object/userdata":" ","sidebar/object/export":" ","sidebar/geometry/type":"","sidebar/geometry/new":"","sidebar/geometry/uuid":"UUID","sidebar/geometry/name":"","sidebar/geometry/bounds":"","sidebar/geometry/userdata":" ","sidebar/geometry/show_vertex_normals":"   ","sidebar/geometry/compute_vertex_normals":"   ","sidebar/geometry/compute_vertex_tangents":"  ","sidebar/geometry/center":"","sidebar/geometry/export":" ","sidebar/geometry/morph":"Morph Targets","sidebar/geometry/box_geometry/width":"","sidebar/geometry/box_geometry/height":"","sidebar/geometry/box_geometry/depth":"","sidebar/geometry/box_geometry/widthseg":" ","sidebar/geometry/box_geometry/heightseg":" ","sidebar/geometry/box_geometry/depthseg":" ","sidebar/geometry/buffer_geometry/attributes":"","sidebar/geometry/buffer_geometry/index":"","sidebar/geometry/buffer_geometry/morphAttributes":"  ()","sidebar/geometry/buffer_geometry/morphRelative":"  ()","sidebar/geometry/capsule_geometry/radius":"","sidebar/geometry/capsule_geometry/height":"","sidebar/geometry/capsule_geometry/capseg":"Cap Seg","sidebar/geometry/capsule_geometry/radialseg":"Radial Seg","sidebar/geometry/capsule_geometry/heightseg":"Height Seg","sidebar/geometry/circle_geometry/radius":"","sidebar/geometry/circle_geometry/segments":" ","sidebar/geometry/circle_geometry/thetastart":" ","sidebar/geometry/circle_geometry/thetalength":" ","sidebar/geometry/cylinder_geometry/radiustop":" ","sidebar/geometry/cylinder_geometry/radiusbottom":" ","sidebar/geometry/cylinder_geometry/height":"","sidebar/geometry/cylinder_geometry/radialsegments":"  ","sidebar/geometry/cylinder_geometry/heightsegments":"  ","sidebar/geometry/cylinder_geometry/openended":" ","sidebar/geometry/extrude_geometry/curveSegments":"  ","sidebar/geometry/extrude_geometry/steps":" ","sidebar/geometry/extrude_geometry/depth":"","sidebar/geometry/extrude_geometry/bevelEnabled":"","sidebar/geometry/extrude_geometry/bevelThickness":"","sidebar/geometry/extrude_geometry/bevelSize":"","sidebar/geometry/extrude_geometry/bevelOffset":"","sidebar/geometry/extrude_geometry/bevelSegments":" ","sidebar/geometry/extrude_geometry/shape":"  ","sidebar/geometry/dodecahedron_geometry/radius":"","sidebar/geometry/dodecahedron_geometry/detail":"","sidebar/geometry/icosahedron_geometry/radius":"","sidebar/geometry/icosahedron_geometry/detail":"","sidebar/geometry/octahedron_geometry/radius":"","sidebar/geometry/octahedron_geometry/detail":"","sidebar/geometry/tetrahedron_geometry/radius":"","sidebar/geometry/tetrahedron_geometry/detail":"","sidebar/geometry/lathe_geometry/segments":" ","sidebar/geometry/lathe_geometry/phistart":"  ()","sidebar/geometry/lathe_geometry/philength":"  ()","sidebar/geometry/lathe_geometry/points":" ","sidebar/geometry/plane_geometry/width":"","sidebar/geometry/plane_geometry/height":"","sidebar/geometry/plane_geometry/widthsegments":" ","sidebar/geometry/plane_geometry/heightsegments":" ","sidebar/geometry/ring_geometry/innerRadius":" ","sidebar/geometry/ring_geometry/outerRadius":" ","sidebar/geometry/ring_geometry/thetaSegments":"  ","sidebar/geometry/ring_geometry/phiSegments":"  ","sidebar/geometry/ring_geometry/thetastart":" ","sidebar/geometry/ring_geometry/thetalength":" ","sidebar/geometry/shape_geometry/curveSegments":"  ","sidebar/geometry/shape_geometry/extrude":" ","sidebar/geometry/sphere_geometry/radius":"","sidebar/geometry/sphere_geometry/widthsegments":" ","sidebar/geometry/sphere_geometry/heightsegments":" ","sidebar/geometry/sphere_geometry/phistart":" ","sidebar/geometry/sphere_geometry/philength":"  ","sidebar/geometry/sphere_geometry/thetastart":" ","sidebar/geometry/sphere_geometry/thetalength":" ","sidebar/geometry/torus_geometry/radius":"","sidebar/geometry/torus_geometry/tube":"","sidebar/geometry/torus_geometry/radialsegments":"  ","sidebar/geometry/torus_geometry/tubularsegments":"   ","sidebar/geometry/torus_geometry/arc":"","sidebar/geometry/torusKnot_geometry/radius":"","sidebar/geometry/torusKnot_geometry/tube":"","sidebar/geometry/torusKnot_geometry/tubularsegments":"   ","sidebar/geometry/torusKnot_geometry/radialsegments":"  ","sidebar/geometry/torusKnot_geometry/p":"P","sidebar/geometry/torusKnot_geometry/q":"Q","sidebar/geometry/tube_geometry/path":"","sidebar/geometry/tube_geometry/radius":"","sidebar/geometry/tube_geometry/tube":"","sidebar/geometry/tube_geometry/tubularsegments":"   ","sidebar/geometry/tube_geometry/radialsegments":"  ","sidebar/geometry/tube_geometry/closed":" ","sidebar/geometry/tube_geometry/curvetype":" ","sidebar/geometry/tube_geometry/tension":"","sidebar/material/new":"","sidebar/material/copy":"","sidebar/material/paste":"","sidebar/material/slot":"","sidebar/material/type":"","sidebar/material/uuid":"UUID","sidebar/material/name":"","sidebar/material/program":"","sidebar/material/info":"","sidebar/material/vertex":"","sidebar/material/fragment":"","sidebar/material/color":"","sidebar/material/depthPacking":"  ","sidebar/material/roughness":"","sidebar/material/metalness":" ","sidebar/material/reflectivity":"","sidebar/material/emissive":" ","sidebar/material/specular":"","sidebar/material/shininess":"","sidebar/material/clearcoat":"","sidebar/material/clearcoatroughness":" ","sidebar/material/dispersion":"","sidebar/material/ior":"IOR","sidebar/material/iridescence":" ","sidebar/material/iridescenceIOR":"IOR  ","sidebar/material/iridescenceThicknessMax":"  ","sidebar/material/sheen":" ()","sidebar/material/sheenroughness":"  ()","sidebar/material/sheencolor":"  ()","sidebar/material/transmission":"","sidebar/material/attenuationDistance":" ","sidebar/material/attenuationColor":" ","sidebar/material/thickness":"","sidebar/material/vertexcolors":"  ","sidebar/material/matcap":"","sidebar/material/map":"","sidebar/material/alphamap":" ","sidebar/material/bumpmap":" ","sidebar/material/normalmap":" ","sidebar/material/clearcoatmap":" ","sidebar/material/clearcoatnormalmap":"  ","sidebar/material/clearcoatroughnessmap":"  ","sidebar/material/displacementmap":" ","sidebar/material/roughnessmap":" ","sidebar/material/metalnessmap":"  ","sidebar/material/specularmap":" ","sidebar/material/iridescencemap":"  ","sidebar/material/iridescencethicknessmap":"   ","sidebar/material/sheencolormap":"   ()","sidebar/material/sheenroughnessmap":"  ","sidebar/material/envmap":" ","sidebar/material/lightmap":" ","sidebar/material/aomap":"AO ","sidebar/material/emissivemap":"  ","sidebar/material/gradientmap":" ","sidebar/material/transmissionmap":" ","sidebar/material/thicknessmap":" ","sidebar/material/side":"","sidebar/material/size":"","sidebar/material/sizeAttenuation":" ","sidebar/material/flatShading":"  ","sidebar/material/blending":" ","sidebar/material/opacity":" ","sidebar/material/transparent":"","sidebar/material/forcesinglepass":"  ","sidebar/material/alphatest":" ","sidebar/material/depthtest":" ","sidebar/material/depthwrite":" ","sidebar/material/wireframe":"","sidebar/material/userdata":" ","sidebar/material/export":" ","sidebar/script/new":"","sidebar/script/edit":"","sidebar/script/remove":"","sidebar/project":" ","sidebar/project/renderer":"","sidebar/project/antialias":" ","sidebar/project/shadows":" ","sidebar/project/toneMapping":" ","sidebar/project/geometries":" ","sidebar/project/materials":" ","sidebar/project/textures":"","sidebar/project/Assign":"","sidebar/project/app":"","sidebar/project/app/play":"","sidebar/project/app/stop":"","sidebar/project/app/title":"","sidebar/project/app/editable":" ","sidebar/project/app/publish":"","sidebar/project/image":"","sidebar/project/image/samples":" ","sidebar/project/video":"","sidebar/project/shading":" ","sidebar/project/resolution":"","sidebar/project/duration":"","sidebar/project/render":"","sidebar/settings":"","sidebar/settings/language":" ","sidebar/settings/shortcuts":"  ","sidebar/settings/shortcuts/translate":"","sidebar/settings/shortcuts/rotate":" ()","sidebar/settings/shortcuts/scale":"","sidebar/settings/shortcuts/undo":"  ","sidebar/settings/shortcuts/focus":"","sidebar/history":"","sidebar/history/clear":" ","sidebar/history/persistent":"","toolbar/translate":"","toolbar/rotate":" ()","toolbar/scale":"","toolbar/local":"","viewport/controls/grid":"","viewport/controls/helpers":" ","viewport/info/object":"","viewport/info/objects":" ","viewport/info/vertex":"","viewport/info/vertices":"","viewport/info/triangle":"","viewport/info/triangles":" ","viewport/info/sample":"","viewport/info/samples":" ","viewport/info/rendertime":" ","script/title/vertexShader":" ","script/title/fragmentShader":" ","script/title/programInfo":" ","dialog/gltf/title":"Import glTF","dialog/gltf/asScene":"Import glTF as root scene","dialog/ok":"OK","dialog/cancel":"Cancel"},en:{"prompt/file/open":"Any unsaved data will be lost. Are you sure?","prompt/file/failedToOpenProject":"Failed to open project!","prompt/file/export/noMeshSelected":"No Mesh selected!","prompt/file/export/noObjectSelected":"No Object selected!","prompt/script/remove":"Are you sure?","prompt/history/clear":"The Undo/Redo History will be cleared. Are you sure?","prompt/history/preserve":`The history will be preserved across sessions.
This can have an impact on performance when working with textures.`,"prompt/history/forbid":"Undo/Redo disabled while scene is playing.","prompt/rendering/realistic/unsupportedMaterial":"REALISTIC Shading: Only MeshStandardMaterial and MeshPhysicalMaterial are supported","command/AddObject":"Add Object","command/AddScript":"Add Script","command/MoveObject":"Move Object","command/MultiCmds":"Multiple Changes","command/RemoveObject":"Remove Object","command/RemoveScript":"Remove Script","command/SetColor":"Set Color","command/SetGeometry":"Set Geometry","command/SetGeometryValue":"Set Geometry Value","command/SetMaterialColor":"Set Material Color","command/SetMaterial":"Set Material","command/SetMaterialMap":"Set Material Map","command/SetMaterialRange":"Set Material Range","command/SetMaterialValue":"Set Material Value","command/SetMaterialVector":"Set Material Vector","command/SetPosition":"Set Position","command/SetRotation":"Set Rotation","command/SetScale":"Set Scale","command/SetScene":"Set Scene","command/SetScriptValue":"Set Script Value","command/SetShadowValue":"Set Shadow Value","command/SetUuid":"Set UUID","command/SetValue":"Set Value","menubar/file":"File","menubar/file/new":"New","menubar/file/new/empty":"Empty","menubar/file/new/Arkanoid":"Arkanoid","menubar/file/new/Camera":"Camera","menubar/file/new/Particles":"Particles","menubar/file/new/Pong":"Pong","menubar/file/new/Shaders":"Shaders","menubar/file/open":"Open","menubar/file/save":"Save","menubar/file/import":"Import","menubar/file/export":"Export","menubar/edit":"Edit","menubar/edit/undo":"Undo","menubar/edit/redo":"Redo","menubar/edit/center":"Center","menubar/edit/clone":"Clone","menubar/edit/delete":"Delete","menubar/add":"Add","menubar/add/group":"Group","menubar/add/mesh":"Mesh","menubar/add/mesh/plane":"Plane","menubar/add/mesh/box":"Box","menubar/add/mesh/capsule":"Capsule","menubar/add/mesh/circle":"Circle","menubar/add/mesh/cylinder":"Cylinder","menubar/add/mesh/ring":"Ring","menubar/add/mesh/sphere":"Sphere","menubar/add/mesh/dodecahedron":"Dodecahedron","menubar/add/mesh/icosahedron":"Icosahedron","menubar/add/mesh/octahedron":"Octahedron","menubar/add/mesh/tetrahedron":"Tetrahedron","menubar/add/mesh/torus":"Torus","menubar/add/mesh/tube":"Tube","menubar/add/mesh/torusknot":"TorusKnot","menubar/add/mesh/lathe":"Lathe","menubar/add/mesh/sprite":"Sprite","menubar/add/light":"Light","menubar/add/light/ambient":"Ambient","menubar/add/light/directional":"Directional","menubar/add/light/hemisphere":"Hemisphere","menubar/add/light/point":"Point","menubar/add/light/spot":"Spot","menubar/add/camera":"Camera","menubar/add/camera/perspective":"Perspective","menubar/add/camera/orthographic":"Orthographic","menubar/status/autosave":"autosave","menubar/view":"View","menubar/view/fullscreen":"Fullscreen","menubar/view/gridHelper":"Grid Helper","menubar/view/cameraHelpers":"Camera Helpers","menubar/view/lightHelpers":"Light Helpers","menubar/view/skeletonHelpers":"Skeleton Helpers","menubar/render":"Render","menubar/render/image":"Image","menubar/render/video":"Video","menubar/render/quality":"Quality","menubar/render/cancel":"Cancel","menubar/help":"Help","menubar/help/source_code":"Source Code","menubar/help/icons":"Icon Pack","menubar/help/about":"About","menubar/help/manual":"Manual","sidebar/animations":"Animations","sidebar/animations/play":"Play","sidebar/animations/stop":"Stop","sidebar/animations/timescale":"Time Scale","sidebar/scene":"Scene","sidebar/scene/background":"Background","sidebar/scene/environment":"Environment","sidebar/scene/fog":"Fog","sidebar/properties/object":"Object","sidebar/properties/geometry":"Geometry","sidebar/properties/material":"Material","sidebar/properties/script":"Script","sidebar/object/type":"Type","sidebar/object/new":"New","sidebar/object/uuid":"UUID","sidebar/object/name":"Name","sidebar/object/position":"Position","sidebar/object/rotation":"Rotation","sidebar/object/scale":"Scale","sidebar/object/fov":"Fov","sidebar/object/left":"Left","sidebar/object/right":"Right","sidebar/object/top":"Top","sidebar/object/bottom":"Bottom","sidebar/object/near":"Near","sidebar/object/far":"Far","sidebar/object/intensity":"Intensity","sidebar/object/color":"Color","sidebar/object/groundcolor":"Ground Color","sidebar/object/distance":"Distance","sidebar/object/angle":"Angle","sidebar/object/penumbra":"Penumbra","sidebar/object/decay":"Decay","sidebar/object/shadow":"Shadow","sidebar/object/shadowIntensity":"Shadow Intensity","sidebar/object/shadowBias":"Shadow Bias","sidebar/object/shadowNormalBias":"Shadow Normal Bias","sidebar/object/shadowRadius":"Shadow Radius","sidebar/object/cast":"cast","sidebar/object/receive":"receive","sidebar/object/visible":"Visible","sidebar/object/frustumcull":"Frustum Cull","sidebar/object/renderorder":"Render Order","sidebar/object/userdata":"User data","sidebar/object/export":"Export JSON","sidebar/geometry/type":"Type","sidebar/geometry/new":"New","sidebar/geometry/uuid":"UUID","sidebar/geometry/name":"Name","sidebar/geometry/bounds":"Bounds","sidebar/geometry/userdata":"User Data","sidebar/geometry/show_vertex_normals":"Show Vertex Normals","sidebar/geometry/compute_vertex_normals":"Compute Vertex Normals","sidebar/geometry/compute_vertex_tangents":"Compute Tangents","sidebar/geometry/center":"Center","sidebar/geometry/export":"Export JSON","sidebar/geometry/morph":"Morph Targets","sidebar/geometry/box_geometry/width":"Width","sidebar/geometry/box_geometry/height":"Height","sidebar/geometry/box_geometry/depth":"Depth","sidebar/geometry/box_geometry/widthseg":"Width Seg","sidebar/geometry/box_geometry/heightseg":"Height Seg","sidebar/geometry/box_geometry/depthseg":"Depth Seg","sidebar/geometry/buffer_geometry/attributes":"Attributes","sidebar/geometry/buffer_geometry/index":"index","sidebar/geometry/buffer_geometry/morphAttributes":"Morph Attributes","sidebar/geometry/buffer_geometry/morphRelative":"Morph Relative","sidebar/geometry/capsule_geometry/radius":"Radius","sidebar/geometry/capsule_geometry/height":"Height","sidebar/geometry/capsule_geometry/capseg":"Cap Seg","sidebar/geometry/capsule_geometry/radialseg":"Radial Seg","sidebar/geometry/capsule_geometry/heightseg":"Height Seg","sidebar/geometry/circle_geometry/radius":"Radius","sidebar/geometry/circle_geometry/segments":"Segments","sidebar/geometry/circle_geometry/thetastart":"Theta start","sidebar/geometry/circle_geometry/thetalength":"Theta length","sidebar/geometry/cylinder_geometry/radiustop":"Radius top","sidebar/geometry/cylinder_geometry/radiusbottom":"Radius bottom","sidebar/geometry/cylinder_geometry/height":"Height","sidebar/geometry/cylinder_geometry/radialsegments":"Radial segments","sidebar/geometry/cylinder_geometry/heightsegments":"Height segments","sidebar/geometry/cylinder_geometry/openended":"Open ended","sidebar/geometry/extrude_geometry/curveSegments":"Curve Segments","sidebar/geometry/extrude_geometry/steps":"Steps","sidebar/geometry/extrude_geometry/depth":"Depth","sidebar/geometry/extrude_geometry/bevelEnabled":"Bevel","sidebar/geometry/extrude_geometry/bevelThickness":"Thickness","sidebar/geometry/extrude_geometry/bevelSize":"Size","sidebar/geometry/extrude_geometry/bevelOffset":"Offset","sidebar/geometry/extrude_geometry/bevelSegments":"Segments","sidebar/geometry/extrude_geometry/shape":"Convert to Shape","sidebar/geometry/dodecahedron_geometry/radius":"Radius","sidebar/geometry/dodecahedron_geometry/detail":"Detail","sidebar/geometry/icosahedron_geometry/radius":"Radius","sidebar/geometry/icosahedron_geometry/detail":"Detail","sidebar/geometry/octahedron_geometry/radius":"Radius","sidebar/geometry/octahedron_geometry/detail":"Detail","sidebar/geometry/tetrahedron_geometry/radius":"Radius","sidebar/geometry/tetrahedron_geometry/detail":"Detail","sidebar/geometry/lathe_geometry/segments":"Segments","sidebar/geometry/lathe_geometry/phistart":"Phi start ()","sidebar/geometry/lathe_geometry/philength":"Phi length ()","sidebar/geometry/lathe_geometry/points":"Points","sidebar/geometry/plane_geometry/width":"Width","sidebar/geometry/plane_geometry/height":"Height","sidebar/geometry/plane_geometry/widthsegments":"Width segments","sidebar/geometry/plane_geometry/heightsegments":"Height segments","sidebar/geometry/ring_geometry/innerRadius":"Inner radius","sidebar/geometry/ring_geometry/outerRadius":"Outer radius","sidebar/geometry/ring_geometry/thetaSegments":"Theta segments","sidebar/geometry/ring_geometry/phiSegments":"Phi segments","sidebar/geometry/ring_geometry/thetastart":"Theta start","sidebar/geometry/ring_geometry/thetalength":"Theta length","sidebar/geometry/shape_geometry/curveSegments":"Curve Segments","sidebar/geometry/shape_geometry/extrude":"Extrude","sidebar/geometry/sphere_geometry/radius":"Radius","sidebar/geometry/sphere_geometry/widthsegments":"Width segments","sidebar/geometry/sphere_geometry/heightsegments":"Height segments","sidebar/geometry/sphere_geometry/phistart":"Phi start","sidebar/geometry/sphere_geometry/philength":"Phi length","sidebar/geometry/sphere_geometry/thetastart":"Theta start","sidebar/geometry/sphere_geometry/thetalength":"Theta length","sidebar/geometry/torus_geometry/radius":"Radius","sidebar/geometry/torus_geometry/tube":"Tube","sidebar/geometry/torus_geometry/radialsegments":"Radial segments","sidebar/geometry/torus_geometry/tubularsegments":"Tubular segments","sidebar/geometry/torus_geometry/arc":"Arc","sidebar/geometry/torusKnot_geometry/radius":"Radius","sidebar/geometry/torusKnot_geometry/tube":"Tube","sidebar/geometry/torusKnot_geometry/tubularsegments":"Tubular segments","sidebar/geometry/torusKnot_geometry/radialsegments":"Radial segments","sidebar/geometry/torusKnot_geometry/p":"P","sidebar/geometry/torusKnot_geometry/q":"Q","sidebar/geometry/tube_geometry/path":"Path","sidebar/geometry/tube_geometry/radius":"Radius","sidebar/geometry/tube_geometry/tube":"Tube","sidebar/geometry/tube_geometry/tubularsegments":"Tubular segments","sidebar/geometry/tube_geometry/radialsegments":"Radial segments","sidebar/geometry/tube_geometry/closed":"Closed","sidebar/geometry/tube_geometry/curvetype":"Curve Type","sidebar/geometry/tube_geometry/tension":"Tension","sidebar/material/new":"New","sidebar/material/copy":"Copy","sidebar/material/paste":"Paste","sidebar/material/slot":"Slot","sidebar/material/type":"Type","sidebar/material/uuid":"UUID","sidebar/material/name":"Name","sidebar/material/program":"Program","sidebar/material/info":"Info","sidebar/material/vertex":"Vert","sidebar/material/fragment":"Frag","sidebar/material/color":"Color","sidebar/material/depthPacking":"Depth Packing","sidebar/material/roughness":"Roughness","sidebar/material/metalness":"Metalness","sidebar/material/reflectivity":"Reflectivity","sidebar/material/emissive":"Emissive","sidebar/material/specular":"Specular","sidebar/material/shininess":"Shininess","sidebar/material/clearcoat":"Clearcoat","sidebar/material/clearcoatroughness":"Clearcoat Roughness","sidebar/material/dispersion":"Dispersion","sidebar/material/ior":"IOR","sidebar/material/iridescence":"Iridescence","sidebar/material/iridescenceIOR":"Thin-Film IOR","sidebar/material/iridescenceThicknessMax":"Thin-Film Thickness","sidebar/material/sheen":"Sheen","sidebar/material/sheenroughness":"Sheen Roughness","sidebar/material/sheencolor":"Sheen Color","sidebar/material/transmission":"Transmission","sidebar/material/attenuationDistance":"Attenuation Distance","sidebar/material/attenuationColor":"Attenuation Color","sidebar/material/thickness":"Thickness","sidebar/material/vertexcolors":"Vertex Colors","sidebar/material/matcap":"Matcap","sidebar/material/map":"Map","sidebar/material/alphamap":"Alpha Map","sidebar/material/bumpmap":"Bump Map","sidebar/material/normalmap":"Normal Map","sidebar/material/clearcoatmap":"Clearcoat Map","sidebar/material/clearcoatnormalmap":"Clearcoat Normal Map","sidebar/material/clearcoatroughnessmap":"Clearcoat Roughness Map","sidebar/material/displacementmap":"Displace Map","sidebar/material/roughnessmap":"Rough. Map","sidebar/material/metalnessmap":"Metal. Map","sidebar/material/specularmap":"Specular Map","sidebar/material/iridescencemap":"Irid. Map","sidebar/material/iridescencethicknessmap":"Thin-Film Thickness Map","sidebar/material/sheencolormap":"Sheen Color Map","sidebar/material/sheenroughnessmap":"Sheen Rough. Map","sidebar/material/envmap":"Env Map","sidebar/material/lightmap":"Light Map","sidebar/material/aomap":"AO Map","sidebar/material/emissivemap":"Emissive Map","sidebar/material/gradientmap":"Gradient Map","sidebar/material/transmissionmap":"Transmission Map","sidebar/material/thicknessmap":"Thickness Map","sidebar/material/side":"Side","sidebar/material/size":"Size","sidebar/material/sizeAttenuation":"Size Attenuation","sidebar/material/flatShading":"Flat Shading","sidebar/material/blending":"Blending","sidebar/material/opacity":"Opacity","sidebar/material/transparent":"Transparent","sidebar/material/forcesinglepass":"Force Single Pass","sidebar/material/alphatest":"Alpha Test","sidebar/material/depthtest":"Depth Test","sidebar/material/depthwrite":"Depth Write","sidebar/material/wireframe":"Wireframe","sidebar/material/userdata":"User data","sidebar/material/export":"Export JSON","sidebar/script/new":"New","sidebar/script/edit":"Edit","sidebar/script/remove":"Remove","sidebar/project":"Project","sidebar/project/renderer":"Renderer","sidebar/project/antialias":"Antialias","sidebar/project/shadows":"Shadows","sidebar/project/toneMapping":"Tonemapping","sidebar/project/geometries":"Geometries","sidebar/project/materials":"Materials","sidebar/project/textures":"Textures","sidebar/project/Assign":"Assign","sidebar/project/app":"App","sidebar/project/app/play":"Play","sidebar/project/app/stop":"Stop","sidebar/project/app/title":"Title","sidebar/project/app/editable":"Editable","sidebar/project/app/publish":"Publish","sidebar/project/image":"Image","sidebar/project/image/samples":"Samples","sidebar/project/video":"Video","sidebar/project/shading":"Shading","sidebar/project/resolution":"Resolution","sidebar/project/duration":"Duration","sidebar/project/render":"Render","sidebar/settings":"Settings","sidebar/settings/language":"Language","sidebar/settings/shortcuts":"Shortcuts","sidebar/settings/shortcuts/translate":"Translate","sidebar/settings/shortcuts/rotate":"Rotate","sidebar/settings/shortcuts/scale":"Scale","sidebar/settings/shortcuts/undo":"Undo","sidebar/settings/shortcuts/focus":"Focus","sidebar/history":"History","sidebar/history/clear":"Clear","sidebar/history/persistent":"Persistent","toolbar/translate":"Translate","toolbar/rotate":"Rotate","toolbar/scale":"Scale","toolbar/local":"Local","viewport/controls/grid":"Grid","viewport/controls/helpers":"Helpers","viewport/info/object":"Object","viewport/info/objects":"Objects","viewport/info/vertex":"Vertex","viewport/info/vertices":"Vertices","viewport/info/triangle":"Triangle","viewport/info/triangles":"Triangles","viewport/info/sample":"Sample","viewport/info/samples":"Samples","viewport/info/rendertime":"Render time","script/title/vertexShader":"Vertex Shader","script/title/fragmentShader":"Fragment Shader","script/title/programInfo":"Program Properties","dialog/gltf/title":"Import glTF","dialog/gltf/asScene":"Import glTF as root scene","dialog/ok":"OK","dialog/cancel":"Cancel"},fr:{"prompt/file/open":"Toutes les donnes non enregistres seront perdues tes-vous sr ?","prompt/file/failedToOpenProject":"chec de l'ouverture du projet !","prompt/file/export/noMeshSelected":"Aucun maillage slectionn !","prompt/file/export/noObjectSelected":"Aucun objet slectionn !","prompt/script/remove":"Es-tu sr?","prompt/history/clear":"L'historique d'annulation/rtablissement sera effac tes-vous sr ?","prompt/history/preserve":`L'histoire sera conserve entre les sessions.
Cela peut avoir un impact sur les performances lors de la manipulation des textures.`,"prompt/history/forbid":"Les fonctions Annuler/Rtablir sont dsactives pendant la lecture de la scne.","prompt/rendering/realistic/unsupportedMaterial":"Ombrage REALISTIC : seuls MeshStandardMaterial et MeshPhysicalMaterial sont pris en charge","command/AddObject":"Ajouter un objet","command/AddScript":"Ajouter un script","command/MoveObject":"Dplacer lobjet","command/MultiCmds":"Changements multiples","command/RemoveObject":"Supprimer lobjet","command/RemoveScript":"Supprimer le script","command/SetColor":"Dfinir la couleur","command/SetGeometry":"Dfinir la gomtrie","command/SetGeometryValue":"Dfinir la valeur de la gomtrie","command/SetMaterialColor":"Dfinir la couleur du matriau","command/SetMaterial":"Matriel de lensemble","command/SetMaterialMap":"Dfinir la carte des matriaux","command/SetMaterialRange":"Dfinir la gamme de matriaux","command/SetMaterialValue":"Dfinir la valeur du matriau","command/SetMaterialVector":"Dfinir le vecteur de matriau","command/SetPosition":"Dfinir la position","command/SetRotation":"Dfinir la rotation","command/SetScale":"Dfinir lchelle","command/SetScene":"Planter le dcor","command/SetScriptValue":"Dfinir la valeur du script","command/SetShadowValue":"Set Shadow Value","command/SetUuid":"Dfinir lUUID","command/SetValue":"Dfinir la valeur","menubar/file":"Fichier","menubar/file/new":"Nouveau","menubar/file/new/empty":"Vide","menubar/file/new/Arkanoid":"Arkanoid","menubar/file/new/Camera":"Camera","menubar/file/new/Particles":"Particles","menubar/file/new/Pong":"Pong","menubar/file/new/Shaders":"Shaders","menubar/file/open":"Open","menubar/file/save":"Save","menubar/file/import":"Importer","menubar/file/export":"Exporter","menubar/edit":"Edition","menubar/edit/undo":"Annuler","menubar/edit/redo":"Refaire","menubar/edit/center":"Center","menubar/edit/clone":"Cloner","menubar/edit/delete":"Supprimer","menubar/add":"Ajouter","menubar/add/group":"Groupe","menubar/add/mesh":"Maille","menubar/add/mesh/plane":"Plan","menubar/add/mesh/box":"Cube","menubar/add/mesh/capsule":"Capsule","menubar/add/mesh/circle":"Cercle","menubar/add/mesh/cylinder":"Cylindre","menubar/add/mesh/ring":"Bague","menubar/add/mesh/sphere":"Sphre","menubar/add/mesh/dodecahedron":"Dodcadre","menubar/add/mesh/icosahedron":"Icosadre","menubar/add/mesh/octahedron":"Octadre","menubar/add/mesh/tetrahedron":"Ttradre","menubar/add/mesh/torus":"Torus","menubar/add/mesh/tube":"Tube","menubar/add/mesh/torusknot":"Noeud Torus","menubar/add/mesh/lathe":"Tour","menubar/add/mesh/sprite":"Sprite","menubar/add/light":"Lumire","menubar/add/light/ambient":"Ambiante","menubar/add/light/directional":"Directionnelle","menubar/add/light/hemisphere":"Hmisphrique","menubar/add/light/point":"Ponctuelle","menubar/add/light/spot":"Projecteur","menubar/add/camera":"Camra","menubar/add/camera/perspective":"Perspective","menubar/add/camera/orthographic":"Orthographique","menubar/status/autosave":"enregistrement automatique","menubar/view":"View","menubar/view/fullscreen":"Fullscreen","menubar/view/gridHelper":"Assistant de grille","menubar/view/cameraHelpers":"Aides  la camra","menubar/view/lightHelpers":"Aides Lumire","menubar/view/skeletonHelpers":"Aides squelettes","menubar/render":"Rendu","menubar/render/image":"Image","menubar/render/video":"Vido","menubar/render/quality":"Qualit","menubar/render/cancel":"Annuler","menubar/help":"Aide","menubar/help/source_code":"Code Source","menubar/help/icons":"Icon Pack","menubar/help/about":"A propos","menubar/help/manual":"Manual","sidebar/animations":"Animations","sidebar/animations/play":"Play","sidebar/animations/stop":"Stop","sidebar/animations/timescale":"Time Scale","sidebar/scene":"Scne","sidebar/scene/background":"Arrire Plan","sidebar/scene/environment":"Environment","sidebar/scene/fog":"Brouillard","sidebar/properties/object":"Objet","sidebar/properties/geometry":"Gomtrie","sidebar/properties/material":"Matriaux","sidebar/properties/script":"Script","sidebar/object/type":"Type","sidebar/object/new":"Nouveau","sidebar/object/uuid":"UUID","sidebar/object/name":"Nom","sidebar/object/position":"Position","sidebar/object/rotation":"Rotation","sidebar/object/scale":"chelle","sidebar/object/fov":"Champ de vision","sidebar/object/left":"Gauche","sidebar/object/right":"Droite","sidebar/object/top":"Haut","sidebar/object/bottom":"Bas","sidebar/object/near":"Prs","sidebar/object/far":"Loin","sidebar/object/intensity":"Intensit","sidebar/object/color":"Couleur","sidebar/object/groundcolor":"Couleur de fond","sidebar/object/distance":"Distance","sidebar/object/angle":"Angle","sidebar/object/penumbra":"Pnombre","sidebar/object/decay":"Affaiblissement","sidebar/object/shadow":"Ombre","sidebar/object/shadowIntensity":"Shadow Intensity","sidebar/object/shadowBias":"Biais directionnel des ombres","sidebar/object/shadowNormalBias":"Shadow Normal Bias","sidebar/object/shadowRadius":"Rayon de l'ombre","sidebar/object/cast":"Projte","sidebar/object/receive":"Reoit","sidebar/object/visible":"Visible","sidebar/object/frustumcull":"Culling","sidebar/object/renderorder":"Ordre de rendus","sidebar/object/userdata":"Donnes utilisateur","sidebar/object/export":"Exporter JSON","sidebar/geometry/type":"Type","sidebar/geometry/new":"Nouveau","sidebar/geometry/uuid":"UUID","sidebar/geometry/name":"Nom","sidebar/geometry/bounds":"Limites","sidebar/geometry/userdata":"Donnes utilisateur","sidebar/geometry/show_vertex_normals":"Afficher normales","sidebar/geometry/compute_vertex_normals":"Compute Vertex Normals","sidebar/geometry/compute_vertex_tangents":"Compute Tangents","sidebar/geometry/center":"Center","sidebar/geometry/export":"Exporter JSON","sidebar/geometry/morph":"Morph Targets","sidebar/geometry/box_geometry/width":"Largeur","sidebar/geometry/box_geometry/height":"Hauteur","sidebar/geometry/box_geometry/depth":"Profondeur","sidebar/geometry/box_geometry/widthseg":"Segments en Largeur","sidebar/geometry/box_geometry/heightseg":"Segments en Hauteur","sidebar/geometry/box_geometry/depthseg":"Segments en Profondeur","sidebar/geometry/buffer_geometry/attributes":"Attributs","sidebar/geometry/buffer_geometry/index":"index","sidebar/geometry/buffer_geometry/morphAttributes":"Morph Attributes","sidebar/geometry/buffer_geometry/morphRelative":"Morph Relative","sidebar/geometry/capsule_geometry/radius":"Radius","sidebar/geometry/capsule_geometry/height":"Hauteur","sidebar/geometry/capsule_geometry/capseg":"Cap Seg","sidebar/geometry/capsule_geometry/radialseg":"Radial Seg","sidebar/geometry/capsule_geometry/heightseg":"Height Seg","sidebar/geometry/circle_geometry/radius":"Rayon","sidebar/geometry/circle_geometry/segments":"Segments","sidebar/geometry/circle_geometry/thetastart":"Dbut Thta ()","sidebar/geometry/circle_geometry/thetalength":"Longueur Thta ()","sidebar/geometry/cylinder_geometry/radiustop":"Rayon suprieur","sidebar/geometry/cylinder_geometry/radiusbottom":"Rayon infrieur","sidebar/geometry/cylinder_geometry/height":"Hauteur","sidebar/geometry/cylinder_geometry/radialsegments":"Segments radiaux","sidebar/geometry/cylinder_geometry/heightsegments":"Segments en hauteur","sidebar/geometry/cylinder_geometry/openended":"Extrmits ouvertes","sidebar/geometry/extrude_geometry/curveSegments":"Segments de courbe","sidebar/geometry/extrude_geometry/steps":"Pas","sidebar/geometry/extrude_geometry/depth":"Profondeur","sidebar/geometry/extrude_geometry/bevelEnabled":"Biseau","sidebar/geometry/extrude_geometry/bevelThickness":"paisseur","sidebar/geometry/extrude_geometry/bevelSize":"Taille","sidebar/geometry/extrude_geometry/bevelOffset":"Dcalage","sidebar/geometry/extrude_geometry/bevelSegments":"Segments","sidebar/geometry/extrude_geometry/shape":"Convertir en forme","sidebar/geometry/dodecahedron_geometry/radius":"Rayon","sidebar/geometry/dodecahedron_geometry/detail":"Dtail","sidebar/geometry/icosahedron_geometry/radius":"Rayon","sidebar/geometry/icosahedron_geometry/detail":"Dtail","sidebar/geometry/octahedron_geometry/radius":"Rayon","sidebar/geometry/octahedron_geometry/detail":"Dtail","sidebar/geometry/tetrahedron_geometry/radius":"Rayon","sidebar/geometry/tetrahedron_geometry/detail":"Dtail","sidebar/geometry/lathe_geometry/segments":"Segments","sidebar/geometry/lathe_geometry/phistart":"Dbut Phi ()","sidebar/geometry/lathe_geometry/philength":"Longueur Phi ()","sidebar/geometry/lathe_geometry/points":"Points","sidebar/geometry/plane_geometry/width":"Largeur","sidebar/geometry/plane_geometry/height":"Hauteur","sidebar/geometry/plane_geometry/widthsegments":"Segments en Largeur","sidebar/geometry/plane_geometry/heightsegments":"Segments en Hauteur","sidebar/geometry/ring_geometry/innerRadius":"Rayon intrieur","sidebar/geometry/ring_geometry/outerRadius":"Rayon extrieur","sidebar/geometry/ring_geometry/thetaSegments":"Segments Thta","sidebar/geometry/ring_geometry/phiSegments":"Phi segments","sidebar/geometry/ring_geometry/thetastart":"Dbut Thta","sidebar/geometry/ring_geometry/thetalength":"Longueur Thta","sidebar/geometry/shape_geometry/curveSegments":"Segments de courbe","sidebar/geometry/shape_geometry/extrude":"Extruder","sidebar/geometry/sphere_geometry/radius":"Rayon","sidebar/geometry/sphere_geometry/widthsegments":"Segments en Largeur","sidebar/geometry/sphere_geometry/heightsegments":"Segments en Hauteur","sidebar/geometry/sphere_geometry/phistart":"Dbut Phi ()","sidebar/geometry/sphere_geometry/philength":"Longueur Phi ()","sidebar/geometry/sphere_geometry/thetastart":"Dbut Thta","sidebar/geometry/sphere_geometry/thetalength":"Longueur Thta","sidebar/geometry/torus_geometry/radius":"Rayon","sidebar/geometry/torus_geometry/tube":"Tube","sidebar/geometry/torus_geometry/radialsegments":"Segments radiaux","sidebar/geometry/torus_geometry/tubularsegments":"Segments tubulaires","sidebar/geometry/torus_geometry/arc":"Arc","sidebar/geometry/torusKnot_geometry/radius":"Rayon","sidebar/geometry/torusKnot_geometry/tube":"Tube","sidebar/geometry/torusKnot_geometry/tubularsegments":"Segments tubulaires","sidebar/geometry/torusKnot_geometry/radialsegments":"Segments radiaux","sidebar/geometry/torusKnot_geometry/p":"P","sidebar/geometry/torusKnot_geometry/q":"Q","sidebar/geometry/tube_geometry/path":"Chemin","sidebar/geometry/tube_geometry/radius":"Rayon","sidebar/geometry/tube_geometry/tube":"Tube","sidebar/geometry/tube_geometry/tubularsegments":"Segments tubulaires","sidebar/geometry/tube_geometry/radialsegments":"Segments radiaux","sidebar/geometry/tube_geometry/closed":"Ferm","sidebar/geometry/tube_geometry/curvetype":"Type de courbe","sidebar/geometry/tube_geometry/tension":"Tension","sidebar/material/new":"Nouveau","sidebar/material/copy":"Copier","sidebar/material/paste":"Coller","sidebar/material/slot":"Slot","sidebar/material/type":"Type","sidebar/material/uuid":"UUID","sidebar/material/name":"Nom","sidebar/material/program":"Programme","sidebar/material/info":"Info","sidebar/material/vertex":"Sommet","sidebar/material/fragment":"Fragment","sidebar/material/color":"Couleur","sidebar/material/depthPacking":"Encodage profondeur de couleur","sidebar/material/roughness":"Rugosit","sidebar/material/metalness":"Mtal","sidebar/material/reflectivity":"Reflectivity","sidebar/material/emissive":"missif","sidebar/material/specular":"Spculaire","sidebar/material/shininess":"Brillance","sidebar/material/clearcoat":"Vernis","sidebar/material/clearcoatroughness":"Rugosit du vernis","sidebar/material/dispersion":"Dispersion","sidebar/material/ior":"IOR","sidebar/material/iridescence":"Iridescence","sidebar/material/iridescenceIOR":"Thin-Film IOR","sidebar/material/iridescenceThicknessMax":"Thin-Film Thickness","sidebar/material/sheen":"Sheen","sidebar/material/sheenroughness":"Sheen Roughness","sidebar/material/sheencolor":"Sheen Color","sidebar/material/transmission":"Transmission","sidebar/material/attenuationDistance":"Attenuation Distance","sidebar/material/attenuationColor":"Attenuation Color","sidebar/material/thickness":"Thickness","sidebar/material/vertexcolors":"Couleurs aux Sommets","sidebar/material/matcap":"Matcap","sidebar/material/map":"Texture","sidebar/material/alphamap":"Texture de transparence","sidebar/material/bumpmap":"Texture de relief","sidebar/material/normalmap":"Texture de normales","sidebar/material/clearcoatmap":"Clearcoat Map","sidebar/material/clearcoatnormalmap":"Texture des normales du vernis","sidebar/material/clearcoatroughnessmap":"Clearcoat Roughness Map","sidebar/material/displacementmap":"Texture de dplacement","sidebar/material/roughnessmap":"Texture de rugosit","sidebar/material/metalnessmap":"Texture mtallique","sidebar/material/specularmap":"Texture spculaire","sidebar/material/iridescencemap":"Irid. Map","sidebar/material/iridescencethicknessmap":"Thin-Film Thickness Map","sidebar/material/sheencolormap":"Sheen Color Map","sidebar/material/sheenroughnessmap":"Sheen Rough. Map","sidebar/material/envmap":"Texture d'environnement","sidebar/material/lightmap":"Texture d'clairage","sidebar/material/aomap":"Texture d'occlusion ambiante","sidebar/material/emissivemap":"Texture d'mission","sidebar/material/gradientmap":"Texture de gradient","sidebar/material/transmissionmap":"Transmission Map","sidebar/material/thicknessmap":"Thickness Map","sidebar/material/side":"Ct","sidebar/material/size":"Size","sidebar/material/sizeAttenuation":"Size Attenuation","sidebar/material/flatShading":"Flat Shading","sidebar/material/blending":"Mlange","sidebar/material/opacity":"Opacit","sidebar/material/transparent":"Transparence","sidebar/material/forcesinglepass":"Force Single Pass","sidebar/material/alphatest":"Test de transparence","sidebar/material/depthtest":"Depth Test","sidebar/material/depthwrite":"Depth Write","sidebar/material/wireframe":"Fil de fer","sidebar/material/userdata":"Donnes utilisateur","sidebar/material/export":"Exporter JSON","sidebar/script/new":"Nouveau","sidebar/script/edit":"Editer","sidebar/script/remove":"Supprimer","sidebar/project":"Projet","sidebar/project/renderer":"Moteur","sidebar/project/antialias":"Anticrnelage","sidebar/project/shadows":"Ombres","sidebar/project/toneMapping":"Mappage des nuances","sidebar/project/geometries":"Gomtries","sidebar/project/materials":"Matriaux","sidebar/project/textures":"Textures","sidebar/project/Assign":"Attribuer","sidebar/project/app":"App","sidebar/project/app/play":"Jouer","sidebar/project/app/stop":"Arrter","sidebar/project/app/title":"Titre","sidebar/project/app/editable":"Modifiable","sidebar/project/app/publish":"Publier","sidebar/project/image":"Image","sidebar/project/image/samples":"d'chantillons","sidebar/project/video":"Video","sidebar/project/shading":"Shading","sidebar/project/resolution":"Resolution","sidebar/project/duration":"Duration","sidebar/project/render":"Render","sidebar/settings":"Paramtres","sidebar/settings/language":"Langue","sidebar/settings/shortcuts":"Shortcuts","sidebar/settings/shortcuts/translate":"Position","sidebar/settings/shortcuts/rotate":"Rotation","sidebar/settings/shortcuts/scale":"chelle","sidebar/settings/shortcuts/undo":"Annuler","sidebar/settings/shortcuts/focus":"Focus","sidebar/history":"Historique","sidebar/history/clear":"Supprimer","sidebar/history/persistent":"Permanent","toolbar/translate":"Position","toolbar/rotate":"Rotation","toolbar/scale":"chelle","toolbar/local":"Local","viewport/controls/grid":"Grille","viewport/controls/helpers":"Helpers","viewport/info/object":"Objet","viewport/info/objects":"Objets","viewport/info/vertex":"Sommet","viewport/info/vertices":"Sommets","viewport/info/triangle":"Triangle","viewport/info/triangles":"Triangles","viewport/info/sample":"chantillon","viewport/info/samples":"chantillons","viewport/info/rendertime":"Temps de rendu","script/title/vertexShader":"Vertex Shader","script/title/fragmentShader":"Fragment Shader","script/title/programInfo":"Proprits du programme","dialog/gltf/title":"Importer glTF","dialog/gltf/asScene":"Importer glTF comme scne racine","dialog/ok":"OK","dialog/cancel":"Annuler"},zh:{"prompt/file/open":"","prompt/file/failedToOpenProject":"","prompt/file/export/noMeshSelected":"","prompt/file/export/noObjectSelected":"","prompt/script/remove":"","prompt/history/clear":"/","prompt/history/preserve":`
`,"prompt/history/forbid":"/","prompt/rendering/realistic/unsupportedMaterial":"REALISTIC MeshStandardMaterial  MeshPhysicalMaterial","command/AddObject":"","command/AddScript":"","command/MoveObject":"","command/MultiCmds":"","command/RemoveObject":"","command/RemoveScript":"","command/SetColor":"","command/SetGeometry":"","command/SetGeometryValue":"","command/SetMaterialColor":"","command/SetMaterial":"","command/SetMaterialMap":"","command/SetMaterialRange":"","command/SetMaterialValue":"","command/SetMaterialVector":"","command/SetPosition":"","command/SetRotation":"","command/SetScale":"","command/SetScene":"","command/SetScriptValue":"","command/SetShadowValue":"","command/SetUuid":" UUID","command/SetValue":"","menubar/file":"","menubar/file/new":"","menubar/file/new/empty":"","menubar/file/new/Arkanoid":"","menubar/file/new/Camera":" ","menubar/file/new/Particles":"","menubar/file/new/Pong":"","menubar/file/new/Shaders":"","menubar/file/open":"","menubar/file/save":"","menubar/file/import":"","menubar/file/export":"","menubar/edit":"","menubar/edit/undo":"","menubar/edit/redo":"","menubar/edit/center":"","menubar/edit/clone":"","menubar/edit/delete":"","menubar/add":"","menubar/add/group":"","menubar/add/mesh":"","menubar/add/mesh/plane":"","menubar/add/mesh/box":"","menubar/add/mesh/capsule":"","menubar/add/mesh/circle":"","menubar/add/mesh/cylinder":"","menubar/add/mesh/ring":"","menubar/add/mesh/sphere":"","menubar/add/mesh/dodecahedron":"","menubar/add/mesh/icosahedron":"","menubar/add/mesh/octahedron":"","menubar/add/mesh/tetrahedron":"","menubar/add/mesh/torus":"","menubar/add/mesh/torusknot":"","menubar/add/mesh/tube":"","menubar/add/mesh/lathe":"","menubar/add/mesh/sprite":"","menubar/add/light":"","menubar/add/light/ambient":"","menubar/add/light/directional":"","menubar/add/light/hemisphere":"","menubar/add/light/point":"","menubar/add/light/spot":"","menubar/add/camera":"","menubar/add/camera/perspective":"","menubar/add/camera/orthographic":"","menubar/status/autosave":"","menubar/view":"","menubar/view/fullscreen":"","menubar/view/gridHelper":"","menubar/view/cameraHelpers":"","menubar/view/lightHelpers":"","menubar/view/skeletonHelpers":"","menubar/render":"","menubar/render/image":"","menubar/render/video":"","menubar/render/quality":"","menubar/render/cancel":"","menubar/help":"","menubar/help/source_code":"","menubar/help/icons":"","menubar/help/about":"","menubar/help/manual":"","sidebar/animations":"","sidebar/animations/play":"","sidebar/animations/stop":"","sidebar/animations/timescale":"","sidebar/scene":"","sidebar/scene/background":"","sidebar/scene/environment":"","sidebar/scene/fog":"","sidebar/properties/object":"","sidebar/properties/geometry":"","sidebar/properties/material":"","sidebar/properties/script":"","sidebar/object/type":"","sidebar/object/new":"","sidebar/object/uuid":"","sidebar/object/name":"","sidebar/object/position":"","sidebar/object/rotation":"","sidebar/object/scale":"","sidebar/object/fov":"","sidebar/object/left":"","sidebar/object/right":"","sidebar/object/top":"","sidebar/object/bottom":"","sidebar/object/near":"","sidebar/object/far":"","sidebar/object/intensity":"","sidebar/object/color":"","sidebar/object/groundcolor":"","sidebar/object/distance":"","sidebar/object/angle":"","sidebar/object/penumbra":"","sidebar/object/decay":"","sidebar/object/shadow":"","sidebar/object/shadowIntensity":"","sidebar/object/shadowBias":"","sidebar/object/shadowNormalBias":"","sidebar/object/shadowRadius":"","sidebar/object/cast":"","sidebar/object/receive":"","sidebar/object/visible":"","sidebar/object/frustumcull":"","sidebar/object/renderorder":"","sidebar/object/userdata":"","sidebar/object/export":"JSON","sidebar/geometry/type":"","sidebar/geometry/new":"","sidebar/geometry/uuid":"","sidebar/geometry/name":"","sidebar/geometry/bounds":"","sidebar/geometry/userdata":"","sidebar/geometry/show_vertex_normals":"","sidebar/geometry/compute_vertex_normals":"","sidebar/geometry/compute_vertex_tangents":"","sidebar/geometry/center":"","sidebar/geometry/export":"JSON","sidebar/geometry/morph":"Morph Targets","sidebar/geometry/box_geometry/width":"","sidebar/geometry/box_geometry/height":"","sidebar/geometry/box_geometry/depth":"","sidebar/geometry/box_geometry/widthseg":"","sidebar/geometry/box_geometry/heightseg":"","sidebar/geometry/box_geometry/depthseg":"","sidebar/geometry/buffer_geometry/attributes":"","sidebar/geometry/buffer_geometry/index":"","sidebar/geometry/buffer_geometry/morphAttributes":"","sidebar/geometry/buffer_geometry/morphRelative":"","sidebar/geometry/capsule_geometry/radius":"","sidebar/geometry/capsule_geometry/height":"","sidebar/geometry/capsule_geometry/capseg":"","sidebar/geometry/capsule_geometry/radialseg":"","sidebar/geometry/capsule_geometry/heightseg":"","sidebar/geometry/circle_geometry/radius":"","sidebar/geometry/circle_geometry/segments":"","sidebar/geometry/circle_geometry/thetastart":"","sidebar/geometry/circle_geometry/thetalength":"","sidebar/geometry/cylinder_geometry/radiustop":"","sidebar/geometry/cylinder_geometry/radiusbottom":"","sidebar/geometry/cylinder_geometry/height":"","sidebar/geometry/cylinder_geometry/radialsegments":"","sidebar/geometry/cylinder_geometry/heightsegments":"","sidebar/geometry/cylinder_geometry/openended":"","sidebar/geometry/extrude_geometry/curveSegments":"","sidebar/geometry/extrude_geometry/steps":"","sidebar/geometry/extrude_geometry/depth":"","sidebar/geometry/extrude_geometry/bevelEnabled":"","sidebar/geometry/extrude_geometry/bevelThickness":"","sidebar/geometry/extrude_geometry/bevelSize":"","sidebar/geometry/extrude_geometry/bevelOffset":"","sidebar/geometry/extrude_geometry/bevelSegments":"","sidebar/geometry/extrude_geometry/shape":"","sidebar/geometry/dodecahedron_geometry/radius":"","sidebar/geometry/dodecahedron_geometry/detail":"","sidebar/geometry/icosahedron_geometry/radius":"","sidebar/geometry/icosahedron_geometry/detail":"","sidebar/geometry/octahedron_geometry/radius":"","sidebar/geometry/octahedron_geometry/detail":"","sidebar/geometry/tetrahedron_geometry/radius":"","sidebar/geometry/tetrahedron_geometry/detail":"","sidebar/geometry/lathe_geometry/segments":"","sidebar/geometry/lathe_geometry/phistart":"","sidebar/geometry/lathe_geometry/philength":"","sidebar/geometry/lathe_geometry/points":"","sidebar/geometry/plane_geometry/width":"","sidebar/geometry/plane_geometry/height":"","sidebar/geometry/plane_geometry/widthsegments":"","sidebar/geometry/plane_geometry/heightsegments":"","sidebar/geometry/ring_geometry/innerRadius":"","sidebar/geometry/ring_geometry/outerRadius":"","sidebar/geometry/ring_geometry/thetaSegments":"","sidebar/geometry/ring_geometry/phiSegments":"","sidebar/geometry/ring_geometry/thetastart":"","sidebar/geometry/ring_geometry/thetalength":"","sidebar/geometry/shape_geometry/curveSegments":"","sidebar/geometry/shape_geometry/extrude":"","sidebar/geometry/sphere_geometry/radius":"","sidebar/geometry/sphere_geometry/widthsegments":"","sidebar/geometry/sphere_geometry/heightsegments":"","sidebar/geometry/sphere_geometry/phistart":"","sidebar/geometry/sphere_geometry/philength":"","sidebar/geometry/sphere_geometry/thetastart":"","sidebar/geometry/sphere_geometry/thetalength":"","sidebar/geometry/torus_geometry/radius":"","sidebar/geometry/torus_geometry/tube":"","sidebar/geometry/torus_geometry/radialsegments":"","sidebar/geometry/torus_geometry/tubularsegments":"","sidebar/geometry/torus_geometry/arc":"","sidebar/geometry/torusKnot_geometry/radius":"","sidebar/geometry/torusKnot_geometry/tube":"","sidebar/geometry/torusKnot_geometry/tubularsegments":"","sidebar/geometry/torusKnot_geometry/radialsegments":"","sidebar/geometry/torusKnot_geometry/p":"","sidebar/geometry/torusKnot_geometry/q":"","sidebar/geometry/tube_geometry/path":"","sidebar/geometry/tube_geometry/radius":"","sidebar/geometry/tube_geometry/tube":"","sidebar/geometry/tube_geometry/tubularsegments":"","sidebar/geometry/tube_geometry/radialsegments":"","sidebar/geometry/tube_geometry/closed":"","sidebar/geometry/tube_geometry/curvetype":"","sidebar/geometry/tube_geometry/tension":"","sidebar/material/new":"","sidebar/material/copy":"","sidebar/material/paste":"","sidebar/material/slot":"","sidebar/material/type":"","sidebar/material/uuid":"","sidebar/material/name":"","sidebar/material/program":"","sidebar/material/info":"","sidebar/material/vertex":"","sidebar/material/fragment":"","sidebar/material/color":"","sidebar/material/depthPacking":"","sidebar/material/roughness":"","sidebar/material/metalness":"","sidebar/material/reflectivity":"","sidebar/material/emissive":"","sidebar/material/specular":"","sidebar/material/shininess":"","sidebar/material/clearcoat":"","sidebar/material/clearcoatroughness":"","sidebar/material/dispersion":"","sidebar/material/ior":"IOR","sidebar/material/iridescence":"","sidebar/material/iridescenceIOR":"","sidebar/material/iridescenceThicknessMax":"","sidebar/material/sheen":"","sidebar/material/sheenroughness":"","sidebar/material/sheencolor":"","sidebar/material/transmission":"","sidebar/material/attenuationDistance":"","sidebar/material/attenuationColor":"","sidebar/material/thickness":"","sidebar/material/vertexcolors":"","sidebar/material/matcap":"","sidebar/material/map":"","sidebar/material/alphamap":"","sidebar/material/bumpmap":"","sidebar/material/normalmap":"","sidebar/material/clearcoatmap":"","sidebar/material/clearcoatnormalmap":"","sidebar/material/clearcoatroughnessmap":"","sidebar/material/displacementmap":"","sidebar/material/roughnessmap":"","sidebar/material/metalnessmap":"","sidebar/material/specularmap":"","sidebar/material/iridescencemap":"","sidebar/material/iridescencethicknessmap":"","sidebar/material/sheencolormap":"","sidebar/material/sheenroughnessmap":"","sidebar/material/envmap":"","sidebar/material/lightmap":"","sidebar/material/aomap":"","sidebar/material/emissivemap":"","sidebar/material/gradientmap":"","sidebar/material/transmissionmap":"","sidebar/material/thicknessmap":"","sidebar/material/side":"","sidebar/material/size":"","sidebar/material/sizeAttenuation":"","sidebar/material/flatShading":"","sidebar/material/blending":"","sidebar/material/opacity":"","sidebar/material/transparent":"","sidebar/material/forcesinglepass":"","sidebar/material/alphatest":"","sidebar/material/depthtest":"","sidebar/material/depthwrite":"","sidebar/material/wireframe":"","sidebar/material/userdata":"","sidebar/material/export":"JSON","sidebar/script/new":"","sidebar/script/edit":"","sidebar/script/remove":"","sidebar/project":"","sidebar/project/renderer":"","sidebar/project/antialias":"","sidebar/project/shadows":"","sidebar/project/toneMapping":"","sidebar/project/geometries":"","sidebar/project/materials":"","sidebar/project/textures":"","sidebar/project/Assign":"","sidebar/project/app":"App","sidebar/project/app/play":"","sidebar/project/app/stop":"","sidebar/project/app/title":"","sidebar/project/app/editable":"","sidebar/project/app/publish":"","sidebar/project/image":"","sidebar/project/image/samples":"","sidebar/project/video":"","sidebar/project/shading":"","sidebar/project/resolution":"","sidebar/project/duration":"","sidebar/project/render":"","sidebar/settings":"","sidebar/settings/language":"","sidebar/settings/shortcuts":"","sidebar/settings/shortcuts/translate":"","sidebar/settings/shortcuts/rotate":"","sidebar/settings/shortcuts/scale":"","sidebar/settings/shortcuts/undo":"","sidebar/settings/shortcuts/focus":"","sidebar/history":"","sidebar/history/clear":"","sidebar/history/persistent":"","toolbar/translate":"","toolbar/rotate":"","toolbar/scale":"","toolbar/local":"","viewport/controls/grid":"","viewport/controls/helpers":"","viewport/info/object":"","viewport/info/objects":"","viewport/info/vertex":"","viewport/info/vertices":"","viewport/info/triangle":"","viewport/info/triangles":"","viewport/info/sample":"","viewport/info/samples":"","viewport/info/rendertime":"","script/title/vertexShader":"","script/title/fragmentShader":"","script/title/programInfo":"","dialog/gltf/title":" glTF","dialog/gltf/asScene":" glTF ","dialog/ok":"","dialog/cancel":""},ja:{"prompt/file/open":" ","prompt/file/failedToOpenProject":"!","prompt/file/export/noMeshSelected":"!","prompt/file/export/noObjectSelected":"!","prompt/script/remove":"","prompt/history/clear":"/ ","prompt/history/preserve":`
`,"prompt/history/forbid":"/","prompt/rendering/realistic/unsupportedMaterial":"REALISTIC : MeshStandardmaterial  MeshPhysicalmaterial ","command/AddObject":"","command/AddScript":"","command/MoveObject":"","command/MultiCmds":"","command/RemoveObject":"","command/RemoveScript":"","command/SetColor":"","command/SetGeometry":"","command/SetGeometryValue":"","command/SetMaterialColor":" ","command/SetMaterial":"","command/SetMaterialMap":" ","command/SetMaterialRange":"","command/SetMaterialValue":"","command/SetMaterialVector":"","command/SetPosition":"","command/SetRotation":"","command/SetScale":"","command/SetScene":"","command/SetScriptValue":"","command/SetShadowValue":"Set Shadow Value","command/SetUuid":"UUID","command/SetValue":"","menubar/file":"","menubar/file/new":"","menubar/file/new/empty":"","menubar/file/new/Arkanoid":"","menubar/file/new/Camera":"","menubar/file/new/Particles":"","menubar/file/new/Pong":"","menubar/file/new/Shaders":"","menubar/file/open":"","menubar/file/save":"","menubar/file/import":"","menubar/file/export":"","menubar/edit":"","menubar/edit/undo":"","menubar/edit/redo":"","menubar/edit/center":"","menubar/edit/clone":"","menubar/edit/delete":"","menubar/add":"","menubar/add/group":"","menubar/add/mesh":"","menubar/add/mesh/plane":"","menubar/add/mesh/box":"","menubar/add/mesh/capsule":"","menubar/add/mesh/circle":"","menubar/add/mesh/cylinder":"","menubar/add/mesh/ring":"","menubar/add/mesh/sphere":"","menubar/add/mesh/dodecahedron":"","menubar/add/mesh/icosahedron":"","menubar/add/mesh/octahedron":"","menubar/add/mesh/tetrahedron":"","menubar/add/mesh/torus":"","menubar/add/mesh/tube":"","menubar/add/mesh/torusknot":"","menubar/add/mesh/lathe":"","menubar/add/mesh/sprite":"","menubar/add/light":"","menubar/add/light/ambient":"","menubar/add/light/directional":"","menubar/add/light/hemisphere":"","menubar/add/light/point":"","menubar/add/light/spot":"","menubar/add/camera":"","menubar/add/camera/perspective":"","menubar/add/camera/orthographic":"","menubar/status/autosave":"","menubar/view":"","menubar/view/fullscreen":"","menubar/view/gridHelper":"","menubar/view/cameraHelpers":"","menubar/view/lightHelpers":"","menubar/view/skeletonHelpers":"","menubar/render":"","menubar/render/image":"","menubar/render/video":"","menubar/render/quality":"","menubar/render/cancel":"","menubar/help":"","menubar/help/source_code":"","menubar/help/icons":"","menubar/help/about":"Three.js ","menubar/help/manual":"","sidebar/animations":"","sidebar/animations/play":"","sidebar/animations/stop":"","sidebar/animations/timescale":"","sidebar/scene":"","sidebar/scene/background":"","sidebar/scene/environment":"","sidebar/scene/fog":"","sidebar/properties/object":"","sidebar/properties/geometry":"","sidebar/properties/material":"","sidebar/properties/script":"","sidebar/object/type":"","sidebar/object/new":"","sidebar/object/uuid":"UUID","sidebar/object/name":"","sidebar/object/position":"","sidebar/object/rotation":"","sidebar/object/scale":"","sidebar/object/fov":"Fov","sidebar/object/left":"","sidebar/object/right":"","sidebar/object/top":"","sidebar/object/bottom":"","sidebar/object/near":"","sidebar/object/far":"","sidebar/object/intensity":"","sidebar/object/color":"","sidebar/object/groundcolor":"","sidebar/object/distance":"","sidebar/object/angle":"","sidebar/object/penumbra":"","sidebar/object/decay":"","sidebar/object/shadow":"","sidebar/object/shadowIntensity":"Shadow Intensity","sidebar/object/shadowBias":"","sidebar/object/shadowNormalBias":"","sidebar/object/shadowRadius":"","sidebar/object/cast":"","sidebar/object/receive":"","sidebar/object/visible":"","sidebar/object/frustumcull":"","sidebar/object/renderorder":"","sidebar/object/userdata":"","sidebar/object/export":"JSON","sidebar/geometry/type":"","sidebar/geometry/new":"","sidebar/geometry/uuid":"UUID","sidebar/geometry/name":"","sidebar/geometry/bounds":"","sidebar/geometry/userdata":"","sidebar/geometry/show_vertex_normals":"","sidebar/geometry/compute_vertex_normals":"","sidebar/geometry/compute_vertex_tangents":"","sidebar/geometry/center":"","sidebar/geometry/export":"JSON","sidebar/geometry/morph":"Morph Targets","sidebar/geometry/box_geometry/width":"","sidebar/geometry/box_geometry/height":"","sidebar/geometry/box_geometry/depth":"","sidebar/geometry/box_geometry/widthseg":"","sidebar/geometry/box_geometry/heightseg":"","sidebar/geometry/box_geometry/depthseg":"","sidebar/geometry/buffer_geometry/attributes":"","sidebar/geometry/buffer_geometry/index":"","sidebar/geometry/buffer_geometry/morphAttributes":"","sidebar/geometry/buffer_geometry/morphRelative":"","sidebar/geometry/capsule_geometry/radius":"","sidebar/geometry/capsule_geometry/height":"","sidebar/geometry/capsule_geometry/capseg":"","sidebar/geometry/capsule_geometry/radialseg":"","sidebar/geometry/capsule_geometry/heightseg":"","sidebar/geometry/circle_geometry/radius":"","sidebar/geometry/circle_geometry/segments":"","sidebar/geometry/circle_geometry/thetastart":"","sidebar/geometry/circle_geometry/thetalength":"","sidebar/geometry/cylinder_geometry/radiustop":"","sidebar/geometry/cylinder_geometry/radiusbottom":"","sidebar/geometry/cylinder_geometry/height":"","sidebar/geometry/cylinder_geometry/radialsegments":"","sidebar/geometry/cylinder_geometry/heightsegments":"","sidebar/geometry/cylinder_geometry/openended":"","sidebar/geometry/extrude_geometry/curveSegments":"","sidebar/geometry/extrude_geometry/steps":"","sidebar/geometry/extrude_geometry/depth":"","sidebar/geometry/extrude_geometry/bevelEnabled":"","sidebar/geometry/extrude_geometry/bevelThickness":"","sidebar/geometry/extrude_geometry/bevelSize":"","sidebar/geometry/extrude_geometry/bevelOffset":"","sidebar/geometry/extrude_geometry/bevelSegments":"","sidebar/geometry/extrude_geometry/shape":"","sidebar/geometry/dodecahedron_geometry/radius":"","sidebar/geometry/dodecahedron_geometry/detail":"","sidebar/geometry/icosahedron_geometry/radius":"","sidebar/geometry/icosahedron_geometry/detail":"","sidebar/geometry/octahedron_geometry/radius":"","sidebar/geometry/octahedron_geometry/detail":"","sidebar/geometry/tetrahedron_geometry/radius":"","sidebar/geometry/tetrahedron_geometry/detail":"","sidebar/geometry/lathe_geometry/segments":"","sidebar/geometry/lathe_geometry/phistart":"","sidebar/geometry/lathe_geometry/philength":"","sidebar/geometry/lathe_geometry/points":"","sidebar/geometry/plane_geometry/width":"","sidebar/geometry/plane_geometry/height":"","sidebar/geometry/plane_geometry/widthsegments":"","sidebar/geometry/plane_geometry/heightsegments":"","sidebar/geometry/ring_geometry/innerRadius":"","sidebar/geometry/ring_geometry/outerRadius":"","sidebar/geometry/ring_geometry/thetaSegments":"","sidebar/geometry/ring_geometry/phiSegments":"","sidebar/geometry/ring_geometry/thetastart":"","sidebar/geometry/ring_geometry/thetalength":"","sidebar/geometry/shape_geometry/curveSegments":"","sidebar/geometry/shape_geometry/extrude":"","sidebar/geometry/sphere_geometry/radius":"","sidebar/geometry/sphere_geometry/widthsegments":"","sidebar/geometry/sphere_geometry/heightsegments":"","sidebar/geometry/sphere_geometry/phistart":"","sidebar/geometry/sphere_geometry/philength":"","sidebar/geometry/sphere_geometry/thetastart":"","sidebar/geometry/sphere_geometry/thetalength":"","sidebar/geometry/torus_geometry/radius":"","sidebar/geometry/torus_geometry/tube":"","sidebar/geometry/torus_geometry/radialsegments":"","sidebar/geometry/torus_geometry/tubularsegments":"","sidebar/geometry/torus_geometry/arc":"","sidebar/geometry/torusKnot_geometry/radius":"","sidebar/geometry/torusKnot_geometry/tube":"","sidebar/geometry/torusKnot_geometry/tubularsegments":"","sidebar/geometry/torusKnot_geometry/radialsegments":"","sidebar/geometry/torusKnot_geometry/p":"P","sidebar/geometry/torusKnot_geometry/q":"Q","sidebar/geometry/tube_geometry/path":"","sidebar/geometry/tube_geometry/radius":"","sidebar/geometry/tube_geometry/tube":"","sidebar/geometry/tube_geometry/tubularsegments":"","sidebar/geometry/tube_geometry/radialsegments":"","sidebar/geometry/tube_geometry/closed":"","sidebar/geometry/tube_geometry/curvetype":"","sidebar/geometry/tube_geometry/tension":"","sidebar/material/new":"","sidebar/material/copy":"","sidebar/material/paste":"","sidebar/material/slot":"","sidebar/material/type":"","sidebar/material/uuid":"UUID","sidebar/material/name":"","sidebar/material/program":"","sidebar/material/info":"","sidebar/material/vertex":"","sidebar/material/fragment":"","sidebar/material/color":"","sidebar/material/depthPacking":"","sidebar/material/roughness":"","sidebar/material/metalness":"","sidebar/material/reflectivity":"","sidebar/material/emissive":"","sidebar/material/specular":"","sidebar/material/shininess":"","sidebar/material/clearcoat":"","sidebar/material/clearcoatroughness":"","sidebar/material/dispersion":"Dispersion","sidebar/material/ior":"IOR","sidebar/material/iridescence":"","sidebar/material/iridescenceIOR":"IOR","sidebar/material/iridescenceThicknessMax":"","sidebar/material/sheen":"","sidebar/material/sheenroughness":"","sidebar/material/sheencolor":"","sidebar/material/transmission":"","sidebar/material/attenuationDistance":"","sidebar/material/attenuationColor":"","sidebar/material/thickness":"","sidebar/material/vertexcolors":"","sidebar/material/matcap":"","sidebar/material/map":"","sidebar/material/alphamap":"","sidebar/material/bumpmap":"","sidebar/material/normalmap":"","sidebar/material/clearcoatmap":"","sidebar/material/clearcoatnormalmap":"","sidebar/material/clearcoatroughnessmap":"","sidebar/material/displacementmap":"","sidebar/material/roughnessmap":"","sidebar/material/metalnessmap":"","sidebar/material/specularmap":"","sidebar/material/iridescencemap":"","sidebar/material/iridescencethicknessmap":"","sidebar/material/sheencolormap":"","sidebar/material/sheenroughnessmap":"","sidebar/material/envmap":"","sidebar/material/lightmap":"","sidebar/material/aomap":"AO","sidebar/material/emissivemap":"","sidebar/material/gradientmap":"","sidebar/material/transmissionmap":"","sidebar/material/thicknessmap":"","sidebar/material/side":"","sidebar/material/size":"","sidebar/material/sizeAttenuation":"","sidebar/material/flatShading":"","sidebar/material/blending":"","sidebar/material/opacity":"","sidebar/material/transparent":"","sidebar/material/forcesinglepass":"","sidebar/material/alphatest":"","sidebar/material/depthtest":"","sidebar/material/depthwrite":"","sidebar/material/wireframe":"","sidebar/material/userdata":"","sidebar/material/export":"JSON","sidebar/script/new":"","sidebar/script/edit":"","sidebar/script/remove":"","sidebar/project":"","sidebar/project/renderer":"","sidebar/project/antialias":"","sidebar/project/shadows":"","sidebar/project/toneMapping":"","sidebar/project/geometries":"","sidebar/project/materials":"","sidebar/project/textures":"","sidebar/project/Assign":"","sidebar/project/app":"","sidebar/project/app/play":"","sidebar/project/app/stop":"","sidebar/project/app/title":"","sidebar/project/app/editable":"","sidebar/project/app/publish":"","sidebar/project/image":"","sidebar/project/image/samples":"","sidebar/project/video":"","sidebar/project/shading":"","sidebar/project/resolution":"","sidebar/project/duration":"","sidebar/project/render":"","sidebar/settings":"","sidebar/settings/language":"","sidebar/settings/shortcuts":"","sidebar/settings/shortcuts/translate":"","sidebar/settings/shortcuts/rotate":"","sidebar/settings/shortcuts/scale":"","sidebar/settings/shortcuts/undo":"","sidebar/settings/shortcuts/focus":"","sidebar/history":"","sidebar/history/clear":"","sidebar/history/persistent":"","toolbar/translate":"","toolbar/rotate":"","toolbar/scale":"","toolbar/local":"","viewport/controls/grid":"","viewport/controls/helpers":"","viewport/info/object":"","viewport/info/objects":"","viewport/info/vertex":"","viewport/info/vertices":"","viewport/info/triangle":"","viewport/info/triangles":"","viewport/info/sample":"","viewport/info/samples":"","viewport/info/rendertime":"","script/title/vertexShader":"","script/title/fragmentShader":"","script/title/programInfo":"","dialog/gltf/title":"glTF","dialog/gltf/asScene":"glTF","dialog/ok":"OK","dialog/cancel":""},ko:{"prompt/file/open":"   . ?","prompt/file/failedToOpenProject":"   !","prompt/file/export/noMeshSelected":"  !","prompt/file/export/noObjectSelected":"  !","prompt/script/remove":"?","prompt/history/clear":"/  . ?","prompt/history/preserve":"   .         .","prompt/history/forbid":"   / .","prompt/rendering/realistic/unsupportedMaterial":"REALISTIC : MeshStandardmaterial  MeshPhysicalmaterial ","command/AddObject":" ","command/AddScript":" ","command/MoveObject":" ","command/MultiCmds":" ","command/RemoveObject":" ","command/RemoveScript":" ","command/SetColor":" ","command/SetGeometry":" ","command/SetGeometryValue":"  ","command/SetMaterialColor":"  ","command/SetMaterial":" ","command/SetMaterialMap":"  ","command/SetMaterialRange":"  ","command/SetMaterialValue":"  ","command/SetMaterialVector":"  ","command/SetPosition":" ","command/SetRotation":" ","command/SetScale":" ","command/SetScene":" ","command/SetScriptValue":"  ","command/SetShadowValue":"  ","command/SetUuid":"UUID ","command/SetValue":" ","menubar/file":"","menubar/file/new":" ","menubar/file/new/empty":" ","menubar/file/new/Arkanoid":"","menubar/file/new/Camera":"","menubar/file/new/Particles":"","menubar/file/new/Pong":"","menubar/file/new/Shaders":"","menubar/file/open":"","menubar/file/save":"","menubar/file/import":"","menubar/file/export":"","menubar/edit":"","menubar/edit/undo":"","menubar/edit/redo":"","menubar/edit/center":" ","menubar/edit/clone":"","menubar/edit/delete":"","menubar/add":"","menubar/add/group":"","menubar/add/mesh":"","menubar/add/mesh/plane":"","menubar/add/mesh/box":"","menubar/add/mesh/capsule":"","menubar/add/mesh/circle":"","menubar/add/mesh/cylinder":"","menubar/add/mesh/ring":"","menubar/add/mesh/sphere":"","menubar/add/mesh/dodecahedron":"","menubar/add/mesh/icosahedron":"","menubar/add/mesh/octahedron":"","menubar/add/mesh/tetrahedron":"","menubar/add/mesh/torus":"","menubar/add/mesh/tube":"","menubar/add/mesh/torusknot":" ","menubar/add/mesh/lathe":"","menubar/add/mesh/sprite":"","menubar/add/light":"","menubar/add/light/ambient":"","menubar/add/light/directional":"","menubar/add/light/hemisphere":"","menubar/add/light/point":"","menubar/add/light/spot":"","menubar/add/camera":"","menubar/add/camera/perspective":" ","menubar/add/camera/orthographic":"","menubar/status/autosave":" ","menubar/view":"","menubar/view/fullscreen":" ","menubar/view/gridHelper":" ","menubar/view/cameraHelpers":" ","menubar/view/lightHelpers":" ","menubar/view/skeletonHelpers":" ","menubar/render":"","menubar/render/image":"","menubar/render/video":"","menubar/render/quality":"","menubar/render/cancel":"","menubar/help":"","menubar/help/source_code":" ","menubar/help/icons":" ","menubar/help/about":"Three.js ","menubar/help/manual":"","sidebar/animations":"","sidebar/animations/play":"","sidebar/animations/stop":"","sidebar/animations/timescale":" ","sidebar/scene":"","sidebar/scene/background":"","sidebar/scene/environment":"","sidebar/scene/fog":"","sidebar/properties/object":"","sidebar/properties/geometry":"","sidebar/properties/material":"","sidebar/properties/script":"","sidebar/object/type":"","sidebar/object/new":" ","sidebar/object/uuid":"UUID","sidebar/object/name":"","sidebar/object/position":"","sidebar/object/rotation":"","sidebar/object/scale":"","sidebar/object/fov":"","sidebar/object/left":"","sidebar/object/right":"","sidebar/object/top":"","sidebar/object/bottom":"","sidebar/object/near":" ","sidebar/object/far":" ","sidebar/object/intensity":"","sidebar/object/color":"","sidebar/object/groundcolor":" ","sidebar/object/distance":"","sidebar/object/angle":"","sidebar/object/penumbra":"","sidebar/object/decay":"","sidebar/object/shadow":"","sidebar/object/shadowIntensity":" ","sidebar/object/shadowBias":" ","sidebar/object/shadowNormalBias":"  ","sidebar/object/shadowRadius":" ","sidebar/object/cast":"cast","sidebar/object/receive":"receive","sidebar/object/visible":"","sidebar/object/frustumcull":" ","sidebar/object/renderorder":" ","sidebar/object/userdata":" ","sidebar/object/export":"JSON ","sidebar/geometry/type":"","sidebar/geometry/new":" ","sidebar/geometry/uuid":"UUID","sidebar/geometry/name":"","sidebar/geometry/bounds":"","sidebar/geometry/userdata":" ","sidebar/geometry/show_vertex_normals":"  ","sidebar/geometry/compute_vertex_normals":"  ","sidebar/geometry/compute_vertex_tangents":" ","sidebar/geometry/center":"","sidebar/geometry/export":"JSON ","sidebar/geometry/morph":"Morph Targets","sidebar/geometry/box_geometry/width":"","sidebar/geometry/box_geometry/height":"","sidebar/geometry/box_geometry/depth":"","sidebar/geometry/box_geometry/widthseg":"  ","sidebar/geometry/box_geometry/heightseg":"  ","sidebar/geometry/box_geometry/depthseg":"  ","sidebar/geometry/buffer_geometry/attributes":"","sidebar/geometry/buffer_geometry/index":"","sidebar/geometry/buffer_geometry/morphAttributes":" ","sidebar/geometry/buffer_geometry/morphRelative":" ","sidebar/geometry/capsule_geometry/radius":"","sidebar/geometry/capsule_geometry/height":"","sidebar/geometry/capsule_geometry/capseg":"  ","sidebar/geometry/capsule_geometry/radialseg":"  ","sidebar/geometry/capsule_geometry/heightseg":"  ","sidebar/geometry/circle_geometry/radius":"","sidebar/geometry/circle_geometry/segments":"","sidebar/geometry/circle_geometry/thetastart":" ","sidebar/geometry/circle_geometry/thetalength":" ","sidebar/geometry/cylinder_geometry/radiustop":" ","sidebar/geometry/cylinder_geometry/radiusbottom":" ","sidebar/geometry/cylinder_geometry/height":"","sidebar/geometry/cylinder_geometry/radialsegments":"  ","sidebar/geometry/cylinder_geometry/heightsegments":"  ","sidebar/geometry/cylinder_geometry/openended":" ","sidebar/geometry/extrude_geometry/curveSegments":"  ","sidebar/geometry/extrude_geometry/steps":"","sidebar/geometry/extrude_geometry/depth":"","sidebar/geometry/extrude_geometry/bevelEnabled":" ","sidebar/geometry/extrude_geometry/bevelThickness":" ","sidebar/geometry/extrude_geometry/bevelSize":" ","sidebar/geometry/extrude_geometry/bevelOffset":" ","sidebar/geometry/extrude_geometry/bevelSegments":"  ","sidebar/geometry/extrude_geometry/shape":" ","sidebar/geometry/dodecahedron_geometry/radius":"","sidebar/geometry/dodecahedron_geometry/detail":"","sidebar/geometry/icosahedron_geometry/radius":"","sidebar/geometry/icosahedron_geometry/detail":"","sidebar/geometry/octahedron_geometry/radius":"","sidebar/geometry/octahedron_geometry/detail":"","sidebar/geometry/tetrahedron_geometry/radius":"","sidebar/geometry/tetrahedron_geometry/detail":"","sidebar/geometry/lathe_geometry/segments":" ","sidebar/geometry/lathe_geometry/phistart":" ","sidebar/geometry/lathe_geometry/philength":" ","sidebar/geometry/lathe_geometry/points":"","sidebar/geometry/plane_geometry/width":"","sidebar/geometry/plane_geometry/height":"","sidebar/geometry/plane_geometry/widthsegments":"  ","sidebar/geometry/plane_geometry/heightsegments":"  ","sidebar/geometry/ring_geometry/innerRadius":" ","sidebar/geometry/ring_geometry/outerRadius":" ","sidebar/geometry/ring_geometry/thetaSegments":"  ","sidebar/geometry/ring_geometry/phiSegments":"  ","sidebar/geometry/ring_geometry/thetastart":" ","sidebar/geometry/ring_geometry/thetalength":" ","sidebar/geometry/shape_geometry/curveSegments":"  ","sidebar/geometry/shape_geometry/extrude":"","sidebar/geometry/sphere_geometry/radius":"","sidebar/geometry/sphere_geometry/widthsegments":"  ","sidebar/geometry/sphere_geometry/heightsegments":"  ","sidebar/geometry/sphere_geometry/phistart":" ","sidebar/geometry/sphere_geometry/philength":" ","sidebar/geometry/sphere_geometry/thetastart":" ","sidebar/geometry/sphere_geometry/thetalength":" ","sidebar/geometry/torus_geometry/radius":"","sidebar/geometry/torus_geometry/tube":" ","sidebar/geometry/torus_geometry/radialsegments":"  ","sidebar/geometry/torus_geometry/tubularsegments":"  ","sidebar/geometry/torus_geometry/arc":"","sidebar/geometry/torusKnot_geometry/radius":"","sidebar/geometry/torusKnot_geometry/tube":" ","sidebar/geometry/torusKnot_geometry/tubularsegments":"  ","sidebar/geometry/torusKnot_geometry/radialsegments":"  ","sidebar/geometry/torusKnot_geometry/p":"P","sidebar/geometry/torusKnot_geometry/q":"Q","sidebar/geometry/tube_geometry/path":"","sidebar/geometry/tube_geometry/radius":"","sidebar/geometry/tube_geometry/tube":" ","sidebar/geometry/tube_geometry/tubularsegments":"  ","sidebar/geometry/tube_geometry/radialsegments":"  ","sidebar/geometry/tube_geometry/closed":"","sidebar/geometry/tube_geometry/curvetype":" ","sidebar/geometry/tube_geometry/tension":"","sidebar/material/new":" ","sidebar/material/copy":"","sidebar/material/paste":"","sidebar/material/slot":"","sidebar/material/type":"","sidebar/material/uuid":"UUID","sidebar/material/name":"","sidebar/material/program":"","sidebar/material/info":"","sidebar/material/vertex":"","sidebar/material/fragment":"","sidebar/material/color":"","sidebar/material/depthPacking":" ","sidebar/material/roughness":"","sidebar/material/metalness":"","sidebar/material/reflectivity":"","sidebar/material/emissive":"","sidebar/material/specular":"","sidebar/material/shininess":"","sidebar/material/clearcoat":" ","sidebar/material/clearcoatroughness":"  ","sidebar/material/dispersion":"","sidebar/material/ior":"","sidebar/material/iridescence":"","sidebar/material/iridescenceIOR":" ","sidebar/material/iridescenceThicknessMax":" ","sidebar/material/sheen":"","sidebar/material/sheenroughness":" ","sidebar/material/sheencolor":" ","sidebar/material/transmission":"","sidebar/material/attenuationDistance":" ","sidebar/material/attenuationColor":" ","sidebar/material/thickness":"","sidebar/material/vertexcolors":" ","sidebar/material/matcap":" ","sidebar/material/map":"","sidebar/material/alphamap":"","sidebar/material/bumpmap":"","sidebar/material/normalmap":"","sidebar/material/clearcoatmap":"  ","sidebar/material/clearcoatnormalmap":"  ","sidebar/material/clearcoatroughnessmap":"   ","sidebar/material/displacementmap":" ","sidebar/material/roughnessmap":" ","sidebar/material/metalnessmap":" ","sidebar/material/specularmap":" ","sidebar/material/iridescencemap":" ","sidebar/material/iridescencethicknessmap":"  ","sidebar/material/sheencolormap":"  ","sidebar/material/sheenroughnessmap":"  ","sidebar/material/envmap":" ","sidebar/material/lightmap":" ","sidebar/material/aomap":"AO ","sidebar/material/emissivemap":" ","sidebar/material/gradientmap":" ","sidebar/material/transmissionmap":" ","sidebar/material/thicknessmap":" ","sidebar/material/side":"","sidebar/material/size":"","sidebar/material/sizeAttenuation":" ","sidebar/material/flatShading":" ","sidebar/material/blending":"","sidebar/material/opacity":"","sidebar/material/transparent":"","sidebar/material/forcesinglepass":"  ","sidebar/material/alphatest":" ","sidebar/material/depthtest":" ","sidebar/material/depthwrite":" ","sidebar/material/wireframe":"","sidebar/material/userdata":" ","sidebar/material/export":"JSON ","sidebar/script/new":" ","sidebar/script/edit":"","sidebar/script/remove":"","sidebar/project":"","sidebar/project/renderer":"","sidebar/project/antialias":"","sidebar/project/shadows":"","sidebar/project/toneMapping":" ","sidebar/project/geometries":"","sidebar/project/materials":"","sidebar/project/textures":"","sidebar/project/Assign":"","sidebar/project/app":"","sidebar/project/app/play":"","sidebar/project/app/stop":"","sidebar/project/app/title":"","sidebar/project/app/editable":" ","sidebar/project/app/publish":"  ","sidebar/project/image":"","sidebar/project/image/samples":"","sidebar/project/video":"","sidebar/project/shading":"","sidebar/project/resolution":"","sidebar/project/duration":"","sidebar/project/render":"","sidebar/settings":"","sidebar/settings/language":"","sidebar/settings/shortcuts":"","sidebar/settings/shortcuts/translate":"","sidebar/settings/shortcuts/rotate":"","sidebar/settings/shortcuts/scale":"","sidebar/settings/shortcuts/undo":"","sidebar/settings/shortcuts/focus":"","sidebar/history":"","sidebar/history/clear":"","sidebar/history/persistent":"","toolbar/translate":"","toolbar/rotate":"","toolbar/scale":"","toolbar/local":"","viewport/controls/grid":"","viewport/controls/helpers":" ","viewport/info/object":"","viewport/info/objects":"","viewport/info/vertex":"","viewport/info/vertices":"","viewport/info/triangle":"","viewport/info/triangles":"","viewport/info/sample":"","viewport/info/samples":"","viewport/info/rendertime":" ","script/title/vertexShader":" ","script/title/fragmentShader":" ","script/title/programInfo":" ","dialog/gltf/title":"glTF ","dialog/gltf/asScene":"glTF   ","dialog/ok":"","dialog/cancel":""}};return{getKey:function(s){return t[e][s]||"???"}}}function Co(){const a=window.indexedDB;if(a===void 0)return console.warn("Storage: IndexedDB not available."),{init:function(){},get:function(){},set:function(){},clear:function(){}};const e="threejs-editor",t=1;let s;return{init:function(n){const i=a.open(e,t);i.onupgradeneeded=function(r){const o=r.target.result;o.objectStoreNames.contains("states")===!1&&o.createObjectStore("states")},i.onsuccess=function(r){s=r.target.result,n()},i.onerror=function(r){console.error("IndexedDB",r)}},get:function(n){const o=s.transaction(["states"],"readonly").objectStore("states").get(0);o.onsuccess=function(d){n(d.target.result)}},set:function(n){const i=performance.now(),d=s.transaction(["states"],"readwrite").objectStore("states").put(n,0);d.onsuccess=function(){console.log("["+/\d\d\:\d\d\:\d\d/.exec(new Date)[0]+"]","Saved state to IndexedDB. "+(performance.now()-i).toFixed(2)+"ms")}},clear:function(){if(s===void 0)return;const r=s.transaction(["states"],"readwrite").objectStore("states").clear();r.onsuccess=function(){console.log("["+/\d\d\:\d\d\:\d\d/.exec(new Date)[0]+"]","Cleared IndexedDB.")}}}}const ln=new Je,cn=new Ht;class Io{constructor(e){const t=e.signals;this.editor=e,this.signals=t,t.intersectionsDetected.add(s=>{if(s.length>0){const n=[];for(let r=0;r<s.length;r++){let o=s[r].object;o.userData.object!==void 0&&(o=o.userData.object),n.indexOf(o)===-1&&n.push(o)}const i=n.indexOf(e.selected);i!==-1&&i<n.length-1?this.select(n[i+1]):this.select(n[0])}else this.select(null)})}getIntersects(e){const t=[];return this.editor.scene.traverseVisible(function(s){t.push(s)}),this.editor.sceneHelpers.traverseVisible(function(s){s.name==="picker"&&t.push(s)}),e.intersectObjects(t,!1)}getPointerIntersects(e,t){return ln.set(e.x*2-1,-(e.y*2)+1),cn.setFromCamera(ln,t),this.getIntersects(cn)}select(e){if(this.editor.selected===e)return;let t=null;e!==null&&(t=e.uuid),this.editor.selected=e,this.editor.config.setKey("selected",t),this.signals.objectSelected.dispatch(e)}deselect(){this.select(null)}}var Ia=new Oa(50,1,.001,1e10);Ia.name="Camera";Ia.position.set(0,5,10);Ia.lookAt(new Z);function wo(){const a=signals.Signal;this.signals={editScript:new a,startPlayer:new a,stopPlayer:new a,enterXR:new a,offerXR:new a,leaveXR:new a,editorCleared:new a,savingStarted:new a,savingFinished:new a,transformModeChanged:new a,snapChanged:new a,spaceChanged:new a,rendererCreated:new a,rendererUpdated:new a,rendererDetectKTX2Support:new a,sceneBackgroundChanged:new a,sceneEnvironmentChanged:new a,sceneFogChanged:new a,sceneFogSettingsChanged:new a,sceneGraphChanged:new a,sceneRendered:new a,cameraChanged:new a,cameraResetted:new a,geometryChanged:new a,objectSelected:new a,objectFocused:new a,objectAdded:new a,objectChanged:new a,objectRemoved:new a,cameraAdded:new a,cameraRemoved:new a,helperAdded:new a,helperRemoved:new a,materialAdded:new a,materialChanged:new a,materialRemoved:new a,scriptAdded:new a,scriptChanged:new a,scriptRemoved:new a,windowResize:new a,showHelpersChanged:new a,refreshSidebarObject3D:new a,historyChanged:new a,viewportCameraChanged:new a,viewportShadingChanged:new a,intersectionsDetected:new a,pathTracerUpdated:new a,morphTargetsUpdated:new a},this.config=new Vr,this.history=new fo(this),this.selector=new Io(this),this.storage=new Co,this.strings=new yo(this.config),this.loader=new po(this),this.camera=Ia.clone(),this.scene=new Ka,this.scene.name="Scene",this.sceneHelpers=new Ka,this.sceneHelpers.add(new Ln(16777215,8947848,2)),this.backgroundType="Default",this.environmentType="Default",this.object={},this.geometries={},this.materials={},this.textures={},this.scripts={},this.materialsRefCounter=new Map,this.mixer=new _n(this.scene),this.selected=null,this.helpers={},this.cameras={},this.viewportCamera=this.camera,this.viewportShading="default",this.viewportColor=new Fe,this.addCamera(this.camera)}wo.prototype={setScene:function(a){for(this.scene.uuid=a.uuid,this.scene.name=a.name,this.scene.background=a.background,this.scene.environment=a.environment,this.scene.fog=a.fog,this.scene.backgroundBlurriness=a.backgroundBlurriness,this.scene.backgroundIntensity=a.backgroundIntensity,this.scene.userData=JSON.parse(JSON.stringify(a.userData)),this.signals.sceneGraphChanged.active=!1;a.children.length>0;)this.addObject(a.children[0]);this.signals.sceneGraphChanged.active=!0,this.signals.sceneGraphChanged.dispatch(),this.signals.sceneEnvironmentChanged.dispatch(this.environmentType,a.environment)},addObject:function(a,e,t){var s=this;a.traverse(function(n){n.geometry!==void 0&&s.addGeometry(n.geometry),n.material!==void 0&&s.addMaterial(n.material),s.addCamera(n),s.addHelper(n)}),e===void 0?this.scene.add(a):(e.children.splice(t,0,a),a.parent=e),this.signals.objectAdded.dispatch(a),this.signals.sceneGraphChanged.dispatch()},nameObject:function(a,e){a.name=e,this.signals.sceneGraphChanged.dispatch()},removeObject:function(a){if(a.parent!==null){var e=this;a.traverse(function(t){e.removeCamera(t),e.removeHelper(t),t.material!==void 0&&e.removeMaterial(t.material)}),a.parent.remove(a),this.signals.objectRemoved.dispatch(a),this.signals.sceneGraphChanged.dispatch()}},addGeometry:function(a){this.geometries[a.uuid]=a},setGeometryName:function(a,e){a.name=e,this.signals.sceneGraphChanged.dispatch()},addMaterial:function(a){if(Array.isArray(a))for(var e=0,t=a.length;e<t;e++)this.addMaterialToRefCounter(a[e]);else this.addMaterialToRefCounter(a);this.signals.materialAdded.dispatch()},addMaterialToRefCounter:function(a){var e=this.materialsRefCounter,t=e.get(a);t===void 0?(e.set(a,1),this.materials[a.uuid]=a):(t++,e.set(a,t))},removeMaterial:function(a){if(Array.isArray(a))for(var e=0,t=a.length;e<t;e++)this.removeMaterialFromRefCounter(a[e]);else this.removeMaterialFromRefCounter(a);this.signals.materialRemoved.dispatch()},removeMaterialFromRefCounter:function(a){var e=this.materialsRefCounter,t=e.get(a);t--,t===0?(e.delete(a),delete this.materials[a.uuid]):e.set(a,t)},getMaterialById:function(a){for(var e,t=Object.values(this.materials),s=0;s<t.length;s++)if(t[s].id===a){e=t[s];break}return e},setMaterialName:function(a,e){a.name=e,this.signals.sceneGraphChanged.dispatch()},addTexture:function(a){this.textures[a.uuid]=a},addCamera:function(a){a.isCamera&&(this.cameras[a.uuid]=a,this.signals.cameraAdded.dispatch(a))},removeCamera:function(a){this.cameras[a.uuid]!==void 0&&(delete this.cameras[a.uuid],this.signals.cameraRemoved.dispatch(a))},addHelper:(function(){var a=new Jt(2,4,2),e=new Ge({color:16711680,visible:!1});return function(t,s){if(s===void 0){if(t.isCamera)s=new Pi(t);else if(t.isPointLight){s=new Ui(t,1),s.matrix=new vt,s.matrixAutoUpdate=!0;const i=t,r=this;s.updateMatrixWorld=function(){i.getWorldPosition(this.position);const o=r.viewportCamera.position.distanceTo(this.position);this.scale.setScalar(o/30),this.updateMatrix(),this.matrixWorld.copy(this.matrix);const d=this.children;for(let A=0,c=d.length;A<c;A++)d[A].updateMatrixWorld()}}else if(t.isDirectionalLight)s=new Oi(t,1);else if(t.isSpotLight)s=new Hi(t);else if(t.isHemisphereLight)s=new Ji(t,1);else if(t.isSkinnedMesh)s=new qs(t.skeleton.bones[0]);else if(t.isBone===!0&&t.parent&&t.parent.isBone!==!0)s=new qs(t);else return;const n=new U(a,e);n.name="picker",n.userData.object=t,s.add(n)}this.sceneHelpers.add(s),this.helpers[t.id]=s,this.signals.helperAdded.dispatch(s)}})(),removeHelper:function(a){if(this.helpers[a.id]!==void 0){var e=this.helpers[a.id];e.parent.remove(e),e.dispose(),delete this.helpers[a.id],this.signals.helperRemoved.dispatch(e)}},addScript:function(a,e){this.scripts[a.uuid]===void 0&&(this.scripts[a.uuid]=[]),this.scripts[a.uuid].push(e),this.signals.scriptAdded.dispatch(e)},removeScript:function(a,e){if(this.scripts[a.uuid]!==void 0){var t=this.scripts[a.uuid].indexOf(e);t!==-1&&this.scripts[a.uuid].splice(t,1),this.signals.scriptRemoved.dispatch(e)}},getObjectMaterial:function(a,e){var t=a.material;return Array.isArray(t)&&e!==void 0&&(t=t[e]),t},setObjectMaterial:function(a,e,t){Array.isArray(a.material)&&e!==void 0?a.material[e]=t:a.material=t},setViewportCamera:function(a){this.viewportCamera=this.cameras[a],this.signals.viewportCameraChanged.dispatch()},setViewportShading:function(a){this.viewportShading=a,this.signals.viewportShadingChanged.dispatch()},select:function(a){this.selector.select(a)},selectById:function(a){if(a===this.camera.id){this.select(this.camera);return}this.select(this.scene.getObjectById(a))},selectByUuid:function(a){var e=this;this.scene.traverse(function(t){t.uuid===a&&e.select(t)})},deselect:function(){this.selector.deselect()},focus:function(a){a!==void 0&&this.signals.objectFocused.dispatch(a)},focusById:function(a){this.focus(this.scene.getObjectById(a))},clear:function(){this.history.clear(),this.storage.clear(),this.camera.copy(Ia),this.signals.cameraResetted.dispatch(),this.scene.name="Scene",this.scene.userData={},this.scene.background=null,this.scene.environment=null,this.scene.fog=null;var a=this.scene.children;for(this.signals.sceneGraphChanged.active=!1;a.length>0;)this.removeObject(a[0]);this.signals.sceneGraphChanged.active=!0,this.geometries={},this.materials={},this.textures={},this.scripts={},this.materialsRefCounter.clear(),this.animations={},this.mixer.stopAllAction(),this.deselect(),this.backgroundType="Default",this.environmentType="Default",this.signals.editorCleared.dispatch()},fromJSON:async function(a){var e=new Ct,t=await e.parseAsync(a.camera);const s=this.camera.uuid,n=t.uuid;this.camera.copy(t),this.camera.uuid=n,delete this.cameras[s],this.cameras[n]=this.camera,a.controls!==void 0&&this.controls.fromJSON(a.controls),this.signals.cameraResetted.dispatch(),this.history.fromJSON(a.history),this.scripts=a.scripts;const i=await e.parseAsync(a.scene);this.backgroundType=a.backgroundType||"Default",this.environmentType=a.environmentType||"Default",this.setScene(i)},toJSON:function(){var a=this.scene,e=this.scripts;for(var t in e){var s=e[t];(s.length===0||a.getObjectByProperty("uuid",t)===void 0)&&delete e[t]}return{metadata:{},project:{renderer:this.config.getKey("project/renderer/type"),shadows:this.config.getKey("project/renderer/shadows"),shadowType:this.config.getKey("project/renderer/shadowType"),toneMapping:this.config.getKey("project/renderer/toneMapping"),toneMappingExposure:this.config.getKey("project/renderer/toneMappingExposure")},camera:this.viewportCamera.toJSON(),controls:this.controls.toJSON(),scene:this.scene.toJSON(),scripts:this.scripts,history:this.history.toJSON(),backgroundType:this.backgroundType,environmentType:this.environmentType}},objectByUuid:function(a){return this.scene.getObjectByProperty("uuid",a,!0)},execute:function(a,e){this.history.execute(a,e)},undo:function(){this.history.undo()},redo:function(){this.history.redo()},utils:{save:Js,saveArrayBuffer:Eo,saveString:Bo,formatNumber:Qo}};const ta=document.createElement("a");function Js(a,e){ta.href&&URL.revokeObjectURL(ta.href),ta.href=URL.createObjectURL(a),ta.download=e||"data.json",ta.dispatchEvent(new MouseEvent("click"))}function Eo(a,e){Js(new Blob([a],{type:"application/octet-stream"}),e)}function Bo(a,e){Js(new Blob([a],{type:"text/plain"}),e)}function Qo(a){return new Intl.NumberFormat("en-us",{useGrouping:!0}).format(a)}const It=new Ht,Ne=new Z,ht=new Z,be=new je,gn={X:new Z(1,0,0),Y:new Z(0,1,0),Z:new Z(0,0,1)},As={type:"change"},un={type:"mouseDown",mode:null},mn={type:"mouseUp",mode:null},hn={type:"objectChange"};class So extends Yi{constructor(e,t=null){super(void 0,t);const s=new _o(this);this._root=s;const n=new Lo;this._gizmo=n,s.add(n);const i=new To;this._plane=i,s.add(i);const r=this;function o(f,y){let C=y;Object.defineProperty(r,f,{get:function(){return C!==void 0?C:y},set:function(M){C!==M&&(C=M,i[f]=M,n[f]=M,r.dispatchEvent({type:f+"-changed",value:M}),r.dispatchEvent(As))}}),r[f]=y,i[f]=y,n[f]=y}o("camera",e),o("object",void 0),o("enabled",!0),o("axis",null),o("mode","translate"),o("translationSnap",null),o("rotationSnap",null),o("scaleSnap",null),o("space","world"),o("size",1),o("dragging",!1),o("showX",!0),o("showY",!0),o("showZ",!0),o("minX",-1/0),o("maxX",1/0),o("minY",-1/0),o("maxY",1/0),o("minZ",-1/0),o("maxZ",1/0);const d=new Z,A=new Z,c=new je,g=new je,l=new Z,u=new je,m=new Z,p=new Z,h=new Z,b=0,E=new Z;o("worldPosition",d),o("worldPositionStart",A),o("worldQuaternion",c),o("worldQuaternionStart",g),o("cameraPosition",l),o("cameraQuaternion",u),o("pointStart",m),o("pointEnd",p),o("rotationAxis",h),o("rotationAngle",b),o("eye",E),this._offset=new Z,this._startNorm=new Z,this._endNorm=new Z,this._cameraScale=new Z,this._parentPosition=new Z,this._parentQuaternion=new je,this._parentQuaternionInv=new je,this._parentScale=new Z,this._worldScaleStart=new Z,this._worldQuaternionInv=new je,this._worldScale=new Z,this._positionStart=new Z,this._quaternionStart=new je,this._scaleStart=new Z,this._getPointer=xo.bind(this),this._onPointerDown=Mo.bind(this),this._onPointerHover=vo.bind(this),this._onPointerMove=Do.bind(this),this._onPointerUp=Ro.bind(this),t!==null&&this.connect(t)}connect(e){super.connect(e),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointermove",this._onPointerHover),this.domElement.addEventListener("pointerup",this._onPointerUp),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerHover),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.style.touchAction="auto"}getHelper(){return this._root}pointerHover(e){if(this.object===void 0||this.dragging===!0)return;e!==null&&It.setFromCamera(e,this.camera);const t=ls(this._gizmo.picker[this.mode],It);t?this.axis=t.object.name:this.axis=null}pointerDown(e){if(!(this.object===void 0||this.dragging===!0||e!=null&&e.button!==0)&&this.axis!==null){e!==null&&It.setFromCamera(e,this.camera);const t=ls(this._plane,It,!0);t&&(this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),this._positionStart.copy(this.object.position),this._quaternionStart.copy(this.object.quaternion),this._scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this._worldScaleStart),this.pointStart.copy(t.point).sub(this.worldPositionStart)),this.dragging=!0,un.mode=this.mode,this.dispatchEvent(un)}}pointerMove(e){const t=this.axis,s=this.mode,n=this.object;let i=this.space;if(s==="scale"?i="local":(t==="E"||t==="XYZE"||t==="XYZ")&&(i="world"),n===void 0||t===null||this.dragging===!1||e!==null&&e.button!==-1)return;e!==null&&It.setFromCamera(e,this.camera);const r=ls(this._plane,It,!0);if(r){if(this.pointEnd.copy(r.point).sub(this.worldPositionStart),s==="translate")this._offset.copy(this.pointEnd).sub(this.pointStart),i==="local"&&t!=="XYZ"&&this._offset.applyQuaternion(this._worldQuaternionInv),t.indexOf("X")===-1&&(this._offset.x=0),t.indexOf("Y")===-1&&(this._offset.y=0),t.indexOf("Z")===-1&&(this._offset.z=0),i==="local"&&t!=="XYZ"?this._offset.applyQuaternion(this._quaternionStart).divide(this._parentScale):this._offset.applyQuaternion(this._parentQuaternionInv).divide(this._parentScale),n.position.copy(this._offset).add(this._positionStart),this.translationSnap&&(i==="local"&&(n.position.applyQuaternion(be.copy(this._quaternionStart).invert()),t.search("X")!==-1&&(n.position.x=Math.round(n.position.x/this.translationSnap)*this.translationSnap),t.search("Y")!==-1&&(n.position.y=Math.round(n.position.y/this.translationSnap)*this.translationSnap),t.search("Z")!==-1&&(n.position.z=Math.round(n.position.z/this.translationSnap)*this.translationSnap),n.position.applyQuaternion(this._quaternionStart)),i==="world"&&(n.parent&&n.position.add(Ne.setFromMatrixPosition(n.parent.matrixWorld)),t.search("X")!==-1&&(n.position.x=Math.round(n.position.x/this.translationSnap)*this.translationSnap),t.search("Y")!==-1&&(n.position.y=Math.round(n.position.y/this.translationSnap)*this.translationSnap),t.search("Z")!==-1&&(n.position.z=Math.round(n.position.z/this.translationSnap)*this.translationSnap),n.parent&&n.position.sub(Ne.setFromMatrixPosition(n.parent.matrixWorld)))),n.position.x=Math.max(this.minX,Math.min(this.maxX,n.position.x)),n.position.y=Math.max(this.minY,Math.min(this.maxY,n.position.y)),n.position.z=Math.max(this.minZ,Math.min(this.maxZ,n.position.z));else if(s==="scale"){if(t.search("XYZ")!==-1){let o=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(o*=-1),ht.set(o,o,o)}else Ne.copy(this.pointStart),ht.copy(this.pointEnd),Ne.applyQuaternion(this._worldQuaternionInv),ht.applyQuaternion(this._worldQuaternionInv),ht.divide(Ne),t.search("X")===-1&&(ht.x=1),t.search("Y")===-1&&(ht.y=1),t.search("Z")===-1&&(ht.z=1);n.scale.copy(this._scaleStart).multiply(ht),this.scaleSnap&&(t.search("X")!==-1&&(n.scale.x=Math.round(n.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),t.search("Y")!==-1&&(n.scale.y=Math.round(n.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),t.search("Z")!==-1&&(n.scale.z=Math.round(n.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if(s==="rotate"){this._offset.copy(this.pointEnd).sub(this.pointStart);const o=20/this.worldPosition.distanceTo(Ne.setFromMatrixPosition(this.camera.matrixWorld));let d=!1;t==="XYZE"?(this.rotationAxis.copy(this._offset).cross(this.eye).normalize(),this.rotationAngle=this._offset.dot(Ne.copy(this.rotationAxis).cross(this.eye))*o):(t==="X"||t==="Y"||t==="Z")&&(this.rotationAxis.copy(gn[t]),Ne.copy(gn[t]),i==="local"&&Ne.applyQuaternion(this.worldQuaternion),Ne.cross(this.eye),Ne.length()===0?d=!0:this.rotationAngle=this._offset.dot(Ne.normalize())*o),(t==="E"||d)&&(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this._startNorm.copy(this.pointStart).normalize(),this._endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this._endNorm.cross(this._startNorm).dot(this.eye)<0?1:-1),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),i==="local"&&t!=="E"&&t!=="XYZE"?(n.quaternion.copy(this._quaternionStart),n.quaternion.multiply(be.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this._parentQuaternionInv),n.quaternion.copy(be.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),n.quaternion.multiply(this._quaternionStart).normalize())}this.dispatchEvent(As),this.dispatchEvent(hn)}}pointerUp(e){e!==null&&e.button!==0||(this.dragging&&this.axis!==null&&(mn.mode=this.mode,this.dispatchEvent(mn)),this.dragging=!1,this.axis=null)}dispose(){this.disconnect(),this._root.dispose()}attach(e){return this.object=e,this._root.visible=!0,this}detach(){return this.object=void 0,this.axis=null,this._root.visible=!1,this}reset(){this.enabled&&this.dragging&&(this.object.position.copy(this._positionStart),this.object.quaternion.copy(this._quaternionStart),this.object.scale.copy(this._scaleStart),this.dispatchEvent(As),this.dispatchEvent(hn),this.pointStart.copy(this.pointEnd))}getRaycaster(){return It}getMode(){return this.mode}setMode(e){this.mode=e}setTranslationSnap(e){this.translationSnap=e}setRotationSnap(e){this.rotationSnap=e}setScaleSnap(e){this.scaleSnap=e}setSize(e){this.size=e}setSpace(e){this.space=e}setColors(e,t,s,n){const i=this._gizmo.materialLib;i.xAxis.color.set(e),i.yAxis.color.set(t),i.zAxis.color.set(s),i.active.color.set(n),i.xAxisTransparent.color.set(e),i.yAxisTransparent.color.set(t),i.zAxisTransparent.color.set(s),i.activeTransparent.color.set(n),i.xAxis._color&&i.xAxis._color.set(e),i.yAxis._color&&i.yAxis._color.set(t),i.zAxis._color&&i.zAxis._color.set(s),i.active._color&&i.active._color.set(n),i.xAxisTransparent._color&&i.xAxisTransparent._color.set(e),i.yAxisTransparent._color&&i.yAxisTransparent._color.set(t),i.zAxisTransparent._color&&i.zAxisTransparent._color.set(s),i.activeTransparent._color&&i.activeTransparent._color.set(n)}}function xo(a){if(this.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:a.button};{const e=this.domElement.getBoundingClientRect();return{x:(a.clientX-e.left)/e.width*2-1,y:-(a.clientY-e.top)/e.height*2+1,button:a.button}}}function vo(a){if(this.enabled)switch(a.pointerType){case"mouse":case"pen":this.pointerHover(this._getPointer(a));break}}function Mo(a){this.enabled&&(document.pointerLockElement||this.domElement.setPointerCapture(a.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.pointerHover(this._getPointer(a)),this.pointerDown(this._getPointer(a)))}function Do(a){this.enabled&&this.pointerMove(this._getPointer(a))}function Ro(a){this.enabled&&(this.domElement.releasePointerCapture(a.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.pointerUp(this._getPointer(a)))}function ls(a,e,t){const s=e.intersectObject(a,!0);for(let n=0;n<s.length;n++)if(s[n].object.visible||t)return s[n];return!1}const Qa=new st,ce=new Z(0,1,0),pn=new Z(0,0,0),bn=new vt,Sa=new je,ka=new je,et=new Z,fn=new vt,ca=new Z(1,0,0),Qt=new Z(0,1,0),ga=new Z(0,0,1),xa=new Z,aa=new Z,sa=new Z;class _o extends ct{constructor(e){super(),this.isTransformControlsRoot=!0,this.controls=e,this.visible=!1}updateMatrixWorld(e){const t=this.controls;t.object!==void 0&&(t.object.updateMatrixWorld(),t.object.parent===null?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):t.object.parent.matrixWorld.decompose(t._parentPosition,t._parentQuaternion,t._parentScale),t.object.matrixWorld.decompose(t.worldPosition,t.worldQuaternion,t._worldScale),t._parentQuaternionInv.copy(t._parentQuaternion).invert(),t._worldQuaternionInv.copy(t.worldQuaternion).invert()),t.camera.updateMatrixWorld(),t.camera.matrixWorld.decompose(t.cameraPosition,t.cameraQuaternion,t._cameraScale),t.camera.isOrthographicCamera?t.camera.getWorldDirection(t.eye).negate():t.eye.copy(t.cameraPosition).sub(t.worldPosition).normalize(),super.updateMatrixWorld(e)}dispose(){this.traverse(function(e){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()})}}class Lo extends ct{constructor(){super(),this.isTransformControlsGizmo=!0,this.type="TransformControlsGizmo";const e=new Ge({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),t=new Ha({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),s=e.clone();s.opacity=.15;const n=t.clone();n.opacity=.5;const i=e.clone();i.color.setHex(16711680);const r=e.clone();r.color.setHex(65280);const o=e.clone();o.color.setHex(255);const d=e.clone();d.color.setHex(16711680),d.opacity=.5;const A=e.clone();A.color.setHex(65280),A.opacity=.5;const c=e.clone();c.color.setHex(255),c.opacity=.5;const g=e.clone();g.opacity=.25;const l=e.clone();l.color.setHex(16776960),l.opacity=.25;const u=e.clone();u.color.setHex(16776960);const m=e.clone();m.color.setHex(7895160),this.materialLib={xAxis:i,yAxis:r,zAxis:o,active:u,xAxisTransparent:d,yAxisTransparent:A,zAxisTransparent:c,activeTransparent:l};const p=new Re(0,.04,.1,12);p.translate(0,.05,0);const h=new Me(.08,.08,.08);h.translate(0,.04,0);const b=new pa;b.setAttribute("position",new Pa([0,0,0,1,0,0],3));const E=new Re(.0075,.0075,.5,3);E.translate(0,.25,0);function f(W,N){const O=new St(W,.0075,3,64,N*Math.PI*2);return O.rotateY(Math.PI/2),O.rotateX(Math.PI/2),O}function y(){const W=new pa;return W.setAttribute("position",new Pa([0,0,0,1,1,1],3)),W}const C={X:[[new U(p,i),[.5,0,0],[0,0,-Math.PI/2]],[new U(p,i),[-.5,0,0],[0,0,Math.PI/2]],[new U(E,i),[0,0,0],[0,0,-Math.PI/2]]],Y:[[new U(p,r),[0,.5,0]],[new U(p,r),[0,-.5,0],[Math.PI,0,0]],[new U(E,r)]],Z:[[new U(p,o),[0,0,.5],[Math.PI/2,0,0]],[new U(p,o),[0,0,-.5],[-Math.PI/2,0,0]],[new U(E,o),null,[Math.PI/2,0,0]]],XYZ:[[new U(new Pt(.1,0),g),[0,0,0]]],XY:[[new U(new Me(.15,.15,.01),c),[.15,.15,0]]],YZ:[[new U(new Me(.15,.15,.01),d),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new U(new Me(.15,.15,.01),A),[.15,0,.15],[-Math.PI/2,0,0]]]},M={X:[[new U(new Re(.2,0,.6,4),s),[.3,0,0],[0,0,-Math.PI/2]],[new U(new Re(.2,0,.6,4),s),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new U(new Re(.2,0,.6,4),s),[0,.3,0]],[new U(new Re(.2,0,.6,4),s),[0,-.3,0],[0,0,Math.PI]]],Z:[[new U(new Re(.2,0,.6,4),s),[0,0,.3],[Math.PI/2,0,0]],[new U(new Re(.2,0,.6,4),s),[0,0,-.3],[-Math.PI/2,0,0]]],XYZ:[[new U(new Pt(.2,0),s)]],XY:[[new U(new Me(.2,.2,.01),s),[.15,.15,0]]],YZ:[[new U(new Me(.2,.2,.01),s),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new U(new Me(.2,.2,.01),s),[.15,0,.15],[-Math.PI/2,0,0]]]},_={START:[[new U(new Pt(.01,2),n),null,null,null,"helper"]],END:[[new U(new Pt(.01,2),n),null,null,null,"helper"]],DELTA:[[new tt(y(),n),null,null,null,"helper"]],X:[[new tt(b,n),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new tt(b,n),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new tt(b,n),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},S={XYZE:[[new U(f(.5,1),m),null,[0,Math.PI/2,0]]],X:[[new U(f(.5,.5),i)]],Y:[[new U(f(.5,.5),r),null,[0,0,-Math.PI/2]]],Z:[[new U(f(.5,.5),o),null,[0,Math.PI/2,0]]],E:[[new U(f(.75,1),l),null,[0,Math.PI/2,0]]]},v={AXIS:[[new tt(b,n),[-1e3,0,0],null,[1e6,1,1],"helper"]]},B={XYZE:[[new U(new Jt(.25,10,8),s)]],X:[[new U(new St(.5,.1,4,24),s),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new U(new St(.5,.1,4,24),s),[0,0,0],[Math.PI/2,0,0]]],Z:[[new U(new St(.5,.1,4,24),s),[0,0,0],[0,0,-Math.PI/2]]],E:[[new U(new St(.75,.1,2,24),s)]]},G={X:[[new U(h,i),[.5,0,0],[0,0,-Math.PI/2]],[new U(E,i),[0,0,0],[0,0,-Math.PI/2]],[new U(h,i),[-.5,0,0],[0,0,Math.PI/2]]],Y:[[new U(h,r),[0,.5,0]],[new U(E,r)],[new U(h,r),[0,-.5,0],[0,0,Math.PI]]],Z:[[new U(h,o),[0,0,.5],[Math.PI/2,0,0]],[new U(E,o),[0,0,0],[Math.PI/2,0,0]],[new U(h,o),[0,0,-.5],[-Math.PI/2,0,0]]],XY:[[new U(new Me(.15,.15,.01),c),[.15,.15,0]]],YZ:[[new U(new Me(.15,.15,.01),d),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new U(new Me(.15,.15,.01),A),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new U(new Me(.1,.1,.1),g)]]},j={X:[[new U(new Re(.2,0,.6,4),s),[.3,0,0],[0,0,-Math.PI/2]],[new U(new Re(.2,0,.6,4),s),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new U(new Re(.2,0,.6,4),s),[0,.3,0]],[new U(new Re(.2,0,.6,4),s),[0,-.3,0],[0,0,Math.PI]]],Z:[[new U(new Re(.2,0,.6,4),s),[0,0,.3],[Math.PI/2,0,0]],[new U(new Re(.2,0,.6,4),s),[0,0,-.3],[-Math.PI/2,0,0]]],XY:[[new U(new Me(.2,.2,.01),s),[.15,.15,0]]],YZ:[[new U(new Me(.2,.2,.01),s),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new U(new Me(.2,.2,.01),s),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new U(new Me(.2,.2,.2),s),[0,0,0]]]},$={X:[[new tt(b,n),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new tt(b,n),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new tt(b,n),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]};function Y(W){const N=new ct;for(const O in W)for(let H=W[O].length;H--;){const F=W[O][H][0].clone(),D=W[O][H][1],k=W[O][H][2],q=W[O][H][3],P=W[O][H][4];F.name=O,F.tag=P,D&&F.position.set(D[0],D[1],D[2]),k&&F.rotation.set(k[0],k[1],k[2]),q&&F.scale.set(q[0],q[1],q[2]),F.updateMatrix();const V=F.geometry.clone();V.applyMatrix4(F.matrix),F.geometry=V,F.renderOrder=1/0,F.position.set(0,0,0),F.rotation.set(0,0,0),F.scale.set(1,1,1),N.add(F)}return N}this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=Y(C)),this.add(this.gizmo.rotate=Y(S)),this.add(this.gizmo.scale=Y(G)),this.add(this.picker.translate=Y(M)),this.add(this.picker.rotate=Y(B)),this.add(this.picker.scale=Y(j)),this.add(this.helper.translate=Y(_)),this.add(this.helper.rotate=Y(v)),this.add(this.helper.scale=Y($)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}updateMatrixWorld(e){const s=(this.mode==="scale"?"local":this.space)==="local"?this.worldQuaternion:ka;this.gizmo.translate.visible=this.mode==="translate",this.gizmo.rotate.visible=this.mode==="rotate",this.gizmo.scale.visible=this.mode==="scale",this.helper.translate.visible=this.mode==="translate",this.helper.rotate.visible=this.mode==="rotate",this.helper.scale.visible=this.mode==="scale";let n=[];n=n.concat(this.picker[this.mode].children),n=n.concat(this.gizmo[this.mode].children),n=n.concat(this.helper[this.mode].children);for(let i=0;i<n.length;i++){const r=n[i];r.visible=!0,r.rotation.set(0,0,0),r.position.copy(this.worldPosition);let o;if(this.camera.isOrthographicCamera?o=(this.camera.top-this.camera.bottom)/this.camera.zoom:o=this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),r.scale.set(1,1,1).multiplyScalar(o*this.size/4),r.tag==="helper"){r.visible=!1,r.name==="AXIS"?(r.visible=!!this.axis,this.axis==="X"&&(be.setFromEuler(Qa.set(0,0,0)),r.quaternion.copy(s).multiply(be),Math.abs(ce.copy(ca).applyQuaternion(s).dot(this.eye))>.9&&(r.visible=!1)),this.axis==="Y"&&(be.setFromEuler(Qa.set(0,0,Math.PI/2)),r.quaternion.copy(s).multiply(be),Math.abs(ce.copy(Qt).applyQuaternion(s).dot(this.eye))>.9&&(r.visible=!1)),this.axis==="Z"&&(be.setFromEuler(Qa.set(0,Math.PI/2,0)),r.quaternion.copy(s).multiply(be),Math.abs(ce.copy(ga).applyQuaternion(s).dot(this.eye))>.9&&(r.visible=!1)),this.axis==="XYZE"&&(be.setFromEuler(Qa.set(0,Math.PI/2,0)),ce.copy(this.rotationAxis),r.quaternion.setFromRotationMatrix(bn.lookAt(pn,ce,Qt)),r.quaternion.multiply(be),r.visible=this.dragging),this.axis==="E"&&(r.visible=!1)):r.name==="START"?(r.position.copy(this.worldPositionStart),r.visible=this.dragging):r.name==="END"?(r.position.copy(this.worldPosition),r.visible=this.dragging):r.name==="DELTA"?(r.position.copy(this.worldPositionStart),r.quaternion.copy(this.worldQuaternionStart),Ne.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),Ne.applyQuaternion(this.worldQuaternionStart.clone().invert()),r.scale.copy(Ne),r.visible=this.dragging):(r.quaternion.copy(s),this.dragging?r.position.copy(this.worldPositionStart):r.position.copy(this.worldPosition),this.axis&&(r.visible=this.axis.search(r.name)!==-1));continue}r.quaternion.copy(s),this.mode==="translate"||this.mode==="scale"?(r.name==="X"&&Math.abs(ce.copy(ca).applyQuaternion(s).dot(this.eye))>.99&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),r.name==="Y"&&Math.abs(ce.copy(Qt).applyQuaternion(s).dot(this.eye))>.99&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),r.name==="Z"&&Math.abs(ce.copy(ga).applyQuaternion(s).dot(this.eye))>.99&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),r.name==="XY"&&Math.abs(ce.copy(ga).applyQuaternion(s).dot(this.eye))<.2&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),r.name==="YZ"&&Math.abs(ce.copy(ca).applyQuaternion(s).dot(this.eye))<.2&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),r.name==="XZ"&&Math.abs(ce.copy(Qt).applyQuaternion(s).dot(this.eye))<.2&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1)):this.mode==="rotate"&&(Sa.copy(s),ce.copy(this.eye).applyQuaternion(be.copy(s).invert()),r.name.search("E")!==-1&&r.quaternion.setFromRotationMatrix(bn.lookAt(this.eye,pn,Qt)),r.name==="X"&&(be.setFromAxisAngle(ca,Math.atan2(-ce.y,ce.z)),be.multiplyQuaternions(Sa,be),r.quaternion.copy(be)),r.name==="Y"&&(be.setFromAxisAngle(Qt,Math.atan2(ce.x,ce.z)),be.multiplyQuaternions(Sa,be),r.quaternion.copy(be)),r.name==="Z"&&(be.setFromAxisAngle(ga,Math.atan2(ce.y,ce.x)),be.multiplyQuaternions(Sa,be),r.quaternion.copy(be))),r.visible=r.visible&&(r.name.indexOf("X")===-1||this.showX),r.visible=r.visible&&(r.name.indexOf("Y")===-1||this.showY),r.visible=r.visible&&(r.name.indexOf("Z")===-1||this.showZ),r.visible=r.visible&&(r.name.indexOf("E")===-1||this.showX&&this.showY&&this.showZ),r.material._color=r.material._color||r.material.color.clone(),r.material._opacity=r.material._opacity||r.material.opacity,r.material.color.copy(r.material._color),r.material.opacity=r.material._opacity,this.enabled&&this.axis&&(r.name===this.axis?(r.material.color.copy(this.materialLib.active.color),r.material.opacity=1):this.axis.split("").some(function(d){return r.name===d})&&(r.material.color.copy(this.materialLib.active.color),r.material.opacity=1))}super.updateMatrixWorld(e)}}class To extends U{constructor(){super(new Ja(1e5,1e5,2,2),new Ge({visible:!1,wireframe:!0,side:_s,transparent:!0,opacity:.1,toneMapped:!1})),this.isTransformControlsPlane=!0,this.type="TransformControlsPlane"}updateMatrixWorld(e){let t=this.space;switch(this.position.copy(this.worldPosition),this.mode==="scale"&&(t="local"),xa.copy(ca).applyQuaternion(t==="local"?this.worldQuaternion:ka),aa.copy(Qt).applyQuaternion(t==="local"?this.worldQuaternion:ka),sa.copy(ga).applyQuaternion(t==="local"?this.worldQuaternion:ka),ce.copy(aa),this.mode){case"translate":case"scale":switch(this.axis){case"X":ce.copy(this.eye).cross(xa),et.copy(xa).cross(ce);break;case"Y":ce.copy(this.eye).cross(aa),et.copy(aa).cross(ce);break;case"Z":ce.copy(this.eye).cross(sa),et.copy(sa).cross(ce);break;case"XY":et.copy(sa);break;case"YZ":et.copy(xa);break;case"XZ":ce.copy(sa),et.copy(aa);break;case"XYZ":case"E":et.set(0,0,0);break}break;case"rotate":default:et.set(0,0,0)}et.length()===0?this.quaternion.copy(this.cameraQuaternion):(fn.lookAt(Ne.set(0,0,0),et,ce),this.quaternion.setFromRotationMatrix(fn)),super.updateMatrixWorld(e)}}class No extends qi{constructor(e){super(),this.enabled=!0,this.center=new Z,this.panSpeed=.002,this.zoomSpeed=.1,this.rotationSpeed=.005;var t=this,s=new Z,n=new Z,i=new Ya,r={NONE:-1,ROTATE:0,ZOOM:1,PAN:2},o=r.NONE,d=this.center,A=new Tn,c=new Je,g=new Je,l=new zi,u=new Nn,m=[],p={},h=null,b={type:"change"};this.focus=function(D){var k;i.setFromObject(D),i.isEmpty()===!1?(i.getCenter(d),k=i.getBoundingSphere(u).radius):(d.setFromMatrixPosition(D.matrixWorld),k=.1),n.set(0,0,1),n.applyQuaternion(e.quaternion),n.multiplyScalar(k*4),e.position.copy(d).add(n),t.dispatchEvent(b)},this.pan=function(D){var k=e.position.distanceTo(d);D.multiplyScalar(k*t.panSpeed),D.applyMatrix3(A.getNormalMatrix(e.matrix)),e.position.add(D),d.add(D),t.dispatchEvent(b)},this.zoom=function(D){var k=e.position.distanceTo(d);D.multiplyScalar(k*t.zoomSpeed),!(D.length()>k)&&(D.applyMatrix3(A.getNormalMatrix(e.matrix)),e.position.add(D),t.dispatchEvent(b))},this.rotate=function(D){s.copy(e.position).sub(d),l.setFromVector3(s),l.theta+=D.x*t.rotationSpeed,l.phi+=D.y*t.rotationSpeed,l.makeSafe(),s.setFromSpherical(l),e.position.copy(d).add(s),e.lookAt(d),t.dispatchEvent(b)};function E(D){t.enabled!==!1&&(m.length===0&&(h.setPointerCapture(D.pointerId),h.ownerDocument.addEventListener("pointermove",f),h.ownerDocument.addEventListener("pointerup",y)),!O(D)&&(W(D),D.pointerType==="touch"?$(D):C(D)))}function f(D){t.enabled!==!1&&(D.pointerType==="touch"?Y(D):M(D))}function y(D){switch(N(D),m.length){case 0:h.releasePointerCapture(D.pointerId),h.ownerDocument.removeEventListener("pointermove",f),h.ownerDocument.removeEventListener("pointerup",y);break;case 1:var k=m[0],q=p[k];$({pointerId:k,pageX:q.x,pageY:q.y});break}}function C(D){D.button===0?o=r.ROTATE:D.button===1?o=r.ZOOM:D.button===2&&(o=r.PAN),g.set(D.clientX,D.clientY)}function M(D){c.set(D.clientX,D.clientY);var k=c.x-g.x,q=c.y-g.y;o===r.ROTATE?t.rotate(n.set(-k,-q,0)):o===r.ZOOM?t.zoom(n.set(0,0,q)):o===r.PAN&&t.pan(n.set(-k,q,0)),g.set(D.clientX,D.clientY)}function _(){o=r.NONE}function S(D){t.enabled!==!1&&(D.preventDefault(),t.zoom(n.set(0,0,D.deltaY>0?1:-1)))}function v(D){D.preventDefault()}this.connect=function(D){h!==null&&this.disconnect(),h=D,h.addEventListener("contextmenu",v),h.addEventListener("dblclick",_),h.addEventListener("wheel",S,{passive:!1}),h.addEventListener("pointerdown",E)},this.disconnect=function(){h.removeEventListener("contextmenu",v),h.removeEventListener("dblclick",_),h.removeEventListener("wheel",S),h.removeEventListener("pointerdown",E),h=null};var B=[new Z,new Z,new Z],G=[new Z,new Z,new Z],j=null;function $(D){switch(H(D),m.length){case 1:B[0].set(D.pageX,D.pageY,0).divideScalar(window.devicePixelRatio),B[1].set(D.pageX,D.pageY,0).divideScalar(window.devicePixelRatio);break;case 2:var k=F(D);B[0].set(D.pageX,D.pageY,0).divideScalar(window.devicePixelRatio),B[1].set(k.x,k.y,0).divideScalar(window.devicePixelRatio),j=B[0].distanceTo(B[1]);break}G[0].copy(B[0]),G[1].copy(B[1])}function Y(D){H(D);function k(Q,R){var L=R[0];for(var X of R)L.distanceTo(Q)>X.distanceTo(Q)&&(L=X);return L}switch(m.length){case 1:B[0].set(D.pageX,D.pageY,0).divideScalar(window.devicePixelRatio),B[1].set(D.pageX,D.pageY,0).divideScalar(window.devicePixelRatio),t.rotate(B[0].sub(k(B[0],G)).multiplyScalar(-1));break;case 2:var q=F(D);B[0].set(D.pageX,D.pageY,0).divideScalar(window.devicePixelRatio),B[1].set(q.x,q.y,0).divideScalar(window.devicePixelRatio);var P=B[0].distanceTo(B[1])/10;t.zoom(n.set(0,0,j-P)),j=P;var V=B[0].clone().sub(k(B[0],G)),K=B[1].clone().sub(k(B[1],G));V.x=-V.x,K.x=-K.x,t.pan(V.add(K));break}G[0].copy(B[0]),G[1].copy(B[1])}function W(D){m.push(D.pointerId)}function N(D){delete p[D.pointerId];for(var k=0;k<m.length;k++)if(m[k]==D.pointerId){m.splice(k,1);return}}function O(D){for(var k=0;k<m.length;k++)if(m[k]==D.pointerId)return!0;return!1}function H(D){var k=p[D.pointerId];k===void 0&&(k=new Je,p[D.pointerId]=k),k.set(D.pageX,D.pageY)}function F(D){var k=D.pointerId===m[0]?m[1]:m[0];return p[k]}}fromJSON(e){e.center!==void 0&&this.center.fromArray(e.center)}toJSON(){return{center:this.center.toArray()}}}function Go(a){const e=a.signals,t=new ie;t.setPosition("absolute"),t.setRight("10px"),t.setTop("10px");const s=new ke;s.setMarginRight("10px"),s.onChange(function(){a.setViewportCamera(this.getValue())}),t.add(s),e.cameraAdded.add(r),e.cameraRemoved.add(r),e.objectChanged.add(function(o){o.isCamera&&i()});const n=new ke;n.setOptions({realistic:"realistic",solid:"solid",normals:"normals",wireframe:"wireframe"}),n.setValue("solid"),n.onChange(function(){a.setViewportShading(this.getValue())}),t.add(n),e.editorCleared.add(function(){a.setViewportCamera(a.camera.uuid),n.setValue("solid"),a.setViewportShading(n.getValue())}),e.cameraResetted.add(r),r();function i(){const o={},d=a.cameras;for(const c in d){const g=d[c];o[g.uuid]=g.name}s.setOptions(o);const A=a.viewportCamera.uuid in o?a.viewportCamera:a.camera;return s.setValue(A.uuid),A}function r(){const o=i();a.setViewportCamera(o.uuid)}return t}function ko(a){const e=a.signals,t=a.strings,s=new ie;s.setId("info"),s.setPosition("absolute"),s.setLeft("10px"),s.setBottom("50px"),s.setFontSize("12px"),s.setColor("#fff"),s.setTextTransform("lowercase");const n=new w("0").setTextAlign("right").setWidth("60px").setMarginRight("6px"),i=new w("0").setTextAlign("right").setWidth("60px").setMarginRight("6px"),r=new w("0").setTextAlign("right").setWidth("60px").setMarginRight("6px"),o=new w("0").setTextAlign("right").setWidth("60px").setMarginRight("6px"),d=new w("0").setTextAlign("right").setWidth("60px").setMarginRight("6px").setHidden(!0),A=new w(t.getKey("viewport/info/objects")),c=new w(t.getKey("viewport/info/vertices")),g=new w(t.getKey("viewport/info/triangles")),l=new w(t.getKey("viewport/info/samples")).setHidden(!0);s.add(n,A,new Te),s.add(i,c,new Te),s.add(r,g,new Te),s.add(o,new w(t.getKey("viewport/info/rendertime")),new Te),s.add(d,l,new Te),e.objectAdded.add(m),e.objectRemoved.add(m),e.objectChanged.add(m),e.geometryChanged.add(m),e.sceneRendered.add(p);const u=new Intl.PluralRules(a.config.getKey("language"));function m(){const h=a.scene;let b=0,E=0,f=0;for(let S=0,v=h.children.length;S<v;S++)h.children[S].traverseVisible(function(G){if(b++,G.isMesh||G.isPoints){const j=G.geometry,$=j.attributes.position;$!=null&&(E+=$.count),G.isMesh&&(j.index!==null?f+=j.index.count/3:$!=null&&(f+=$.count/3))}});n.setValue(a.utils.formatNumber(b)),i.setValue(a.utils.formatNumber(E)),r.setValue(a.utils.formatNumber(f));const y=new Intl.PluralRules(a.config.getKey("language")),C=y.select(b)==="one"?"viewport/info/object":"viewport/info/objects";A.setValue(t.getKey(C));const M=y.select(E)==="one"?"viewport/info/vertex":"viewport/info/vertices";c.setValue(t.getKey(M));const _=y.select(f)==="one"?"viewport/info/triangle":"viewport/info/triangles";g.setValue(t.getKey(_))}function p(h){o.setValue(Number(h).toFixed(2))}return a.signals.pathTracerUpdated.add(function(h){h=Math.floor(h),d.setValue(h);const b=u.select(h)==="one"?"viewport/info/sample":"viewport/info/samples";l.setValue(t.getKey(b))}),a.signals.viewportShadingChanged.add(function(){const h=a.viewportShading==="realistic";d.setHidden(!h),l.setHidden(!h),s.setBottom(h?"62px":"50px")}),s}let jo=class extends ct{constructor(e,t){super(),this.isViewHelper=!0,this.animating=!1,this.center=new Z,this.location={top:null,right:0,bottom:0,left:null};const s=new Fe("#ff4466"),n=new Fe("#88ff44"),i=new Fe("#4488ff"),r=new Fe("#000000"),o={},d=[],A=new Ht,c=new Je,g=new ct,l=new Ls(-2,2,2,-2,0,4);l.position.set(0,0,2);const u=new Re(.04,.04,.8,5).rotateZ(-Math.PI/2).translate(.4,0,0),m=new U(u,k(s)),p=new U(u,k(n)),h=new U(u,k(i));p.rotation.z=Math.PI/2,h.rotation.y=-Math.PI/2,this.add(m),this.add(h),this.add(p);const b=V(s),E=V(n),f=V(i),y=V(r),C=new Bt(b),M=new Bt(E),_=new Bt(f),S=new Bt(y),v=new Bt(y),B=new Bt(y);C.position.x=1,M.position.y=1,_.position.z=1,S.position.x=-1,v.position.y=-1,B.position.z=-1,S.material.opacity=.2,v.material.opacity=.2,B.material.opacity=.2,C.userData.type="posX",M.userData.type="posY",_.userData.type="posZ",S.userData.type="negX",v.userData.type="negY",B.userData.type="negZ",this.add(C),this.add(M),this.add(_),this.add(S),this.add(v),this.add(B),d.push(C),d.push(M),d.push(_),d.push(S),d.push(v),d.push(B);const G=new Z,j=128,$=2*Math.PI;this.render=function(Q){this.quaternion.copy(e.quaternion).invert(),this.updateMatrixWorld(),G.set(0,0,1),G.applyQuaternion(e.quaternion);const R=this.location;let L,X;R.left!==null?L=R.left:L=t.offsetWidth-j-R.right,R.top!==null?X=Q.isWebGPURenderer?R.top:t.offsetHeight-j-R.top:X=Q.isWebGPURenderer?t.offsetHeight-j-R.bottom:R.bottom,Q.clearDepth(),Q.getViewport(H),Q.setViewport(L,X,j,j),Q.render(this,l),Q.setViewport(H.x,H.y,H.z,H.w)};const Y=new Z,W=new je,N=new je,O=new je,H=new Xi;let F=0;this.handleClick=function(Q){if(this.animating===!0)return!1;const R=t.getBoundingClientRect(),L=this.location;let X,T;L.left!==null?X=R.left+L.left:X=R.left+t.offsetWidth-j-L.right,L.top!==null?T=R.top+L.top:T=R.top+t.offsetHeight-j-L.bottom,c.x=(Q.clientX-X)/j*2-1,c.y=-((Q.clientY-T)/j)*2+1,A.setFromCamera(c,l);const z=A.intersectObjects(d);if(z.length>0){const se=z[0].object;return D(se,this.center),this.animating=!0,!0}else return!1},this.setLabels=function(Q,R,L){o.labelX=Q,o.labelY=R,o.labelZ=L,K()},this.setLabelStyle=function(Q,R,L){o.font=Q,o.color=R,o.radius=L,K()},this.update=function(Q){const R=Q*$;N.rotateTowards(O,R),e.position.set(0,0,1).applyQuaternion(N).multiplyScalar(F).add(this.center),e.quaternion.rotateTowards(W,R),N.angleTo(O)===0&&(this.animating=!1)},this.dispose=function(){u.dispose(),m.material.dispose(),p.material.dispose(),h.material.dispose(),C.material.map.dispose(),M.material.map.dispose(),_.material.map.dispose(),S.material.map.dispose(),v.material.map.dispose(),B.material.map.dispose(),C.material.dispose(),M.material.dispose(),_.material.dispose(),S.material.dispose(),v.material.dispose(),B.material.dispose()};function D(Q,R){switch(Q.userData.type){case"posX":Y.set(1,0,0),W.setFromEuler(new st(0,Math.PI*.5,0));break;case"posY":Y.set(0,1,0),W.setFromEuler(new st(-Math.PI*.5,0,0));break;case"posZ":Y.set(0,0,1),W.setFromEuler(new st);break;case"negX":Y.set(-1,0,0),W.setFromEuler(new st(0,-Math.PI*.5,0));break;case"negY":Y.set(0,-1,0),W.setFromEuler(new st(Math.PI*.5,0,0));break;case"negZ":Y.set(0,0,-1),W.setFromEuler(new st(0,Math.PI,0));break;default:console.error("ViewHelper: Invalid axis.")}F=e.position.distanceTo(R),Y.multiplyScalar(F).add(R),g.position.copy(R),g.lookAt(e.position),N.copy(g.quaternion),g.lookAt(Y),O.copy(g.quaternion)}function k(Q){return new Ge({color:Q,toneMapped:!1})}function q(){let Q=!1;try{Q=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}return Q}function P(Q,R){let L;return q()?L=new OffscreenCanvas(Q,R):(L=document.createElement("canvas"),L.width=Q,L.height=R),L}function V(Q,R){const{font:L="24px Arial",color:X="#000000",radius:T=14}=o,z=P(64,64),ee=z.getContext("2d");ee.beginPath(),ee.arc(32,32,T,0,2*Math.PI),ee.closePath(),ee.fillStyle=Q.getStyle(),ee.fill(),R&&(ee.font=L,ee.textAlign="center",ee.fillStyle=X,ee.fillText(R,32,41));const se=new Gn(z);return se.colorSpace=Ye,new Ts({map:se,toneMapped:!1})}function K(){C.material.map.dispose(),M.material.map.dispose(),_.material.map.dispose(),C.material.dispose(),M.material.dispose(),_.material.dispose(),C.material=V(s,o.labelX),M.material=V(n,o.labelY),_.material=V(i,o.labelZ)}}};class Vo extends jo{constructor(e,t){super(e,t.dom),this.location.top=30;const s=new ie;s.setId("viewHelper"),s.setPosition("absolute"),s.setRight("0px"),s.setTop("30px"),s.setHeight("128px"),s.setWidth("128px"),s.dom.addEventListener("pointerup",n=>{n.stopPropagation(),this.handleClick(n)}),s.dom.addEventListener("pointerdown",function(n){n.stopPropagation()}),t.add(s)}}class Fo extends U{constructor(e){const t=new Ko(e),s=new Ja(t.image.width*.001,t.image.height*.001),n=new Ge({map:t,toneMapped:!1,transparent:!0});super(s,n);function i(r){n.map.dispatchDOMEvent(r)}this.addEventListener("mousedown",i),this.addEventListener("mousemove",i),this.addEventListener("mouseup",i),this.addEventListener("click",i),this.dispose=function(){s.dispose(),n.dispose(),n.map.dispose(),xs.delete(e),this.removeEventListener("mousedown",i),this.removeEventListener("mousemove",i),this.removeEventListener("mouseup",i),this.removeEventListener("click",i)}}}class Ko extends Gn{constructor(e){super(yn(e)),this.dom=e,this.anisotropy=16,this.colorSpace=Ye,this.minFilter=ba,this.magFilter=ba,this.generateMipmaps=!1;const t=new MutationObserver(()=>{this.scheduleUpdate||(this.scheduleUpdate=setTimeout(()=>this.update(),16))}),s={attributes:!0,childList:!0,subtree:!0,characterData:!0};t.observe(e,s),this.observer=t}dispatchDOMEvent(e){e.data&&Po(this.dom,e.type,e.data.x,e.data.y)}update(){this.image=yn(this.dom),this.needsUpdate=!0,this.scheduleUpdate=null}dispose(){this.observer&&this.observer.disconnect(),this.scheduleUpdate=clearTimeout(this.scheduleUpdate),super.dispose()}}const xs=new WeakMap;function yn(a){const e=document.createRange(),t=new Fe;function s(l){const u=[];let m=!1;function p(){if(m&&(m=!1,l.restore()),u.length===0)return;let h=-1/0,b=-1/0,E=1/0,f=1/0;for(let y=0;y<u.length;y++){const C=u[y];h=Math.max(h,C.x),b=Math.max(b,C.y),E=Math.min(E,C.x+C.width),f=Math.min(f,C.y+C.height)}l.save(),l.beginPath(),l.rect(h,b,E-h,f-b),l.clip(),m=!0}return{add:function(h){u.push(h),p()},remove:function(){u.pop(),p()}}}function n(l,u,m,p){p!==""&&(l.textTransform==="uppercase"&&(p=p.toUpperCase()),c.font=l.fontWeight+" "+l.fontSize+" "+l.fontFamily,c.textBaseline="top",c.fillStyle=l.color,c.fillText(p,u,m+parseFloat(l.fontSize)*.1))}function i(l,u,m,p,h){m<2*h&&(h=m/2),p<2*h&&(h=p/2),c.beginPath(),c.moveTo(l+h,u),c.arcTo(l+m,u,l+m,u+p,h),c.arcTo(l+m,u+p,l,u+p,h),c.arcTo(l,u+p,l,u,h),c.arcTo(l,u,l+m,u,h),c.closePath()}function r(l,u,m,p,h,b){const E=l[u+"Width"],f=l[u+"Style"],y=l[u+"Color"];E!=="0px"&&f!=="none"&&y!=="transparent"&&y!=="rgba(0, 0, 0, 0)"&&(c.strokeStyle=y,c.lineWidth=parseFloat(E),c.beginPath(),c.moveTo(m,p),c.lineTo(m+h,p+b),c.stroke())}function o(l,u){if(l.nodeType===Node.COMMENT_NODE||l.nodeName==="SCRIPT"||l.style&&l.style.display==="none")return;let m=0,p=0,h=0,b=0;if(l.nodeType===Node.TEXT_NODE){e.selectNode(l);const f=e.getBoundingClientRect();m=f.left-d.left-.5,p=f.top-d.top-.5,h=f.width,b=f.height,n(u,m,p,l.nodeValue.trim())}else if(l instanceof HTMLCanvasElement){const f=l.getBoundingClientRect();m=f.left-d.left-.5,p=f.top-d.top-.5;const y=f.width,C=f.height;c.drawImage(l,m,p,y,C)}else if(l instanceof HTMLImageElement){const f=l.getBoundingClientRect();m=f.left-d.left-.5,p=f.top-d.top-.5,h=f.width,b=f.height,c.drawImage(l,m,p,h,b)}else{const f=l.getBoundingClientRect();m=f.left-d.left-.5,p=f.top-d.top-.5,h=f.width,b=f.height,u=window.getComputedStyle(l),i(m,p,h,b,parseFloat(u.borderRadius));const y=u.backgroundColor;y!=="transparent"&&y!=="rgba(0, 0, 0, 0)"&&(c.fillStyle=y,c.fill());const C=["borderTop","borderLeft","borderBottom","borderRight"];let M=!0,_=null;for(const S of C){if(_!==null&&(M=u[S+"Width"]===u[_+"Width"]&&u[S+"Color"]===u[_+"Color"]&&u[S+"Style"]===u[_+"Style"]),M===!1)break;_=S}if(M===!0){const S=parseFloat(u.borderTopWidth);u.borderTopWidth!=="0px"&&u.borderTopStyle!=="none"&&u.borderTopColor!=="transparent"&&u.borderTopColor!=="rgba(0, 0, 0, 0)"&&(c.strokeStyle=u.borderTopColor,c.lineWidth=S,c.stroke())}else r(u,"borderTop",m,p,h,0),r(u,"borderLeft",m,p,0,b),r(u,"borderBottom",m,p+b,h,0),r(u,"borderRight",m+h,p,0,b);if(l instanceof HTMLInputElement){let S=u.accentColor;(S===void 0||S==="auto")&&(S=u.color),t.set(S);const B=Math.sqrt(.299*t.r**2+.587*t.g**2+.114*t.b**2)<.5?"white":"#111111";if(l.type==="radio"&&(i(m,p,h,b,b),c.fillStyle="white",c.strokeStyle=S,c.lineWidth=1,c.fill(),c.stroke(),l.checked&&(i(m+2,p+2,h-4,b-4,b),c.fillStyle=S,c.strokeStyle=B,c.lineWidth=2,c.fill(),c.stroke())),l.type==="checkbox"&&(i(m,p,h,b,2),c.fillStyle=l.checked?S:"white",c.strokeStyle=l.checked?B:S,c.lineWidth=1,c.stroke(),c.fill(),l.checked)){const G=c.textAlign;c.textAlign="center";const j={color:B,fontFamily:u.fontFamily,fontSize:b+"px",fontWeight:"bold"};n(j,m+h/2,p,""),c.textAlign=G}if(l.type==="range"){const[G,j,$]=["min","max","value"].map(W=>parseFloat(l[W])),Y=($-G)/(j-G)*(h-b);i(m,p+b/4,h,b/2,b/4),c.fillStyle=B,c.strokeStyle=S,c.lineWidth=1,c.fill(),c.stroke(),i(m,p+b/4,Y+b/2,b/2,b/4),c.fillStyle=S,c.fill(),i(m+Y,p,b,b,b/2),c.fillStyle=S,c.fill()}if(l.type==="color"||l.type==="text"||l.type==="number"||l.type==="email"||l.type==="password"){g.add({x:m,y:p,width:h,height:b});const G=l.type==="password"?"*".repeat(l.value.length):l.value;n(u,m+parseInt(u.paddingLeft),p+parseInt(u.paddingTop),G),g.remove()}}}const E=u.overflow==="auto"||u.overflow==="hidden";E&&g.add({x:m,y:p,width:h,height:b});for(let f=0;f<l.childNodes.length;f++)o(l.childNodes[f],u);E&&g.remove()}const d=a.getBoundingClientRect();let A=xs.get(a);A===void 0&&(A=document.createElement("canvas"),xs.set(a,A)),A.width=d.width,A.height=d.height;const c=A.getContext("2d"),g=new s(c);return c.clearRect(0,0,A.width,A.height),o(a),A}function Po(a,e,t,s){const n={clientX:t*a.offsetWidth+a.offsetLeft,clientY:s*a.offsetHeight+a.offsetTop,view:a.ownerDocument.defaultView};window.dispatchEvent(new MouseEvent(e,n));const i=a.getBoundingClientRect();t=t*i.width+i.left,s=s*i.height+i.top;function r(o){if(o.nodeType!==Node.TEXT_NODE&&o.nodeType!==Node.COMMENT_NODE){const d=o.getBoundingClientRect();if(t>d.left&&t<d.right&&s>d.top&&s<d.bottom){if(o.dispatchEvent(new MouseEvent(e,n)),o instanceof HTMLInputElement&&o.type==="range"&&(e==="mousedown"||e==="click")){const[A,c]=["min","max"].map(m=>parseFloat(o[m])),g=d.width,u=(t-d.x)/g;o.value=A+(c-A)*u,o.dispatchEvent(new InputEvent("input",{bubbles:!0}))}o instanceof HTMLInputElement&&(o.type==="text"||o.type==="number"||o.type==="email"||o.type==="password")&&(e==="mousedown"||e==="click")&&o.focus()}for(let A=0;A<o.childNodes.length;A++)r(o.childNodes[A])}}r(a)}const ja=new Je,Ft={type:"",data:ja},Uo={move:"mousemove",select:"click",selectstart:"mousedown",selectend:"mouseup"},Cn=new Ht;class Oo extends ft{constructor(){super(),this.raycaster=new Ht,this.element=null,this.camera=null,this.controllers=[],this._onPointerEvent=this.onPointerEvent.bind(this),this._onXRControllerEvent=this.onXRControllerEvent.bind(this)}onPointerEvent(e){e.stopPropagation();const t=this.element.getBoundingClientRect();ja.x=(e.clientX-t.left)/t.width*2-1,ja.y=-(e.clientY-t.top)/t.height*2+1,this.raycaster.setFromCamera(ja,this.camera);const s=this.raycaster.intersectObjects(this.children,!1);if(s.length>0){const n=s[0],i=n.object,r=n.uv;Ft.type=e.type,Ft.data.set(r.x,1-r.y),i.dispatchEvent(Ft)}}onXRControllerEvent(e){const t=e.target;Cn.setFromXRController(t);const s=Cn.intersectObjects(this.children,!1);if(s.length>0){const n=s[0],i=n.object,r=n.uv;Ft.type=Uo[e.type],Ft.data.set(r.x,1-r.y),i.dispatchEvent(Ft)}}listenToPointerEvents(e,t){this.camera=t,this.element=e.domElement,this.element.addEventListener("pointerdown",this._onPointerEvent),this.element.addEventListener("pointerup",this._onPointerEvent),this.element.addEventListener("pointermove",this._onPointerEvent),this.element.addEventListener("mousedown",this._onPointerEvent),this.element.addEventListener("mouseup",this._onPointerEvent),this.element.addEventListener("mousemove",this._onPointerEvent),this.element.addEventListener("click",this._onPointerEvent)}disconnectionPointerEvents(){this.element!==null&&(this.element.removeEventListener("pointerdown",this._onPointerEvent),this.element.removeEventListener("pointerup",this._onPointerEvent),this.element.removeEventListener("pointermove",this._onPointerEvent),this.element.removeEventListener("mousedown",this._onPointerEvent),this.element.removeEventListener("mouseup",this._onPointerEvent),this.element.removeEventListener("mousemove",this._onPointerEvent),this.element.removeEventListener("click",this._onPointerEvent))}listenToXRControllerEvents(e){this.controllers.push(e),e.addEventListener("move",this._onXRControllerEvent),e.addEventListener("select",this._onXRControllerEvent),e.addEventListener("selectstart",this._onXRControllerEvent),e.addEventListener("selectend",this._onXRControllerEvent)}disconnectXrControllerEvents(){for(const e of this.controllers)e.removeEventListener("move",this._onXRControllerEvent),e.removeEventListener("select",this._onXRControllerEvent),e.removeEventListener("selectstart",this._onXRControllerEvent),e.removeEventListener("selectend",this._onXRControllerEvent)}disconnect(){this.disconnectionPointerEvents(),this.disconnectXrControllerEvents(),this.camera=null,this.element=null,this.controllers=[]}}function Ho(a,e,t=!0){if(!e||!e.isReady)throw new Error("BufferGeometryUtils: Initialized MikkTSpace library required.");if(!a.hasAttribute("position")||!a.hasAttribute("normal")||!a.hasAttribute("uv"))throw new Error('BufferGeometryUtils: Tangents require "position", "normal", and "uv" attributes.');function s(r){if(r.normalized||r.isInterleavedBufferAttribute){const o=new Float32Array(r.count*r.itemSize);for(let d=0,A=0;d<r.count;d++)o[A++]=r.getX(d),o[A++]=r.getY(d),r.itemSize>2&&(o[A++]=r.getZ(d));return o}return r.array instanceof Float32Array?r.array:new Float32Array(r.array)}const n=a.index?a.toNonIndexed():a,i=e.generateTangents(s(n.attributes.position),s(n.attributes.normal),s(n.attributes.uv));if(t)for(let r=3;r<i.length;r+=4)i[r]*=-1;return n.setAttribute("tangent",new La(i,4)),a!==n&&a.copy(n),a}function In(a,e){if(e===Wi)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),a;if(e===bs||e===kn){let t=a.getIndex();if(t===null){const r=[],o=a.getAttribute("position");if(o!==void 0){for(let d=0;d<o.count;d++)r.push(d);a.setIndex(r),t=a.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),a}const s=t.count-2,n=[];if(e===bs)for(let r=1;r<=s;r++)n.push(t.getX(0)),n.push(t.getX(r)),n.push(t.getX(r+1));else for(let r=0;r<s;r++)r%2===0?(n.push(t.getX(r)),n.push(t.getX(r+1)),n.push(t.getX(r+2))):(n.push(t.getX(r+2)),n.push(t.getX(r+1)),n.push(t.getX(r)));n.length/3!==s&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const i=a.clone();return i.setIndex(n),i.clearGroups(),i}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),a}function Ii(a){const e=new Map,t=new Map,s=a.clone();return wi(a,s,function(n,i){e.set(i,n),t.set(n,i)}),s.traverse(function(n){if(!n.isSkinnedMesh)return;const i=n,r=e.get(n),o=r.skeleton.bones;i.skeleton=r.skeleton.clone(),i.bindMatrix.copy(r.bindMatrix),i.skeleton.bones=o.map(function(d){return t.get(d)}),i.bind(i.skeleton,i.bindMatrix)}),s}function wi(a,e,t){t(a,e);for(let s=0;s<a.children.length;s++)wi(a.children[s],e.children[s],t)}class Ei extends Zi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Xo(t)}),this.register(function(t){return new Wo(t)}),this.register(function(t){return new rd(t)}),this.register(function(t){return new od(t)}),this.register(function(t){return new dd(t)}),this.register(function(t){return new $o(t)}),this.register(function(t){return new ed(t)}),this.register(function(t){return new td(t)}),this.register(function(t){return new ad(t)}),this.register(function(t){return new zo(t)}),this.register(function(t){return new sd(t)}),this.register(function(t){return new Zo(t)}),this.register(function(t){return new id(t)}),this.register(function(t){return new nd(t)}),this.register(function(t){return new Yo(t)}),this.register(function(t){return new wn(t,oe.EXT_MESHOPT_COMPRESSION)}),this.register(function(t){return new wn(t,oe.KHR_MESHOPT_COMPRESSION)}),this.register(function(t){return new Ad(t)})}load(e,t,s,n){const i=this;let r;if(this.resourcePath!=="")r=this.resourcePath;else if(this.path!==""){const A=ma.extractUrlBase(e);r=ma.resolveURL(A,this.path)}else r=ma.extractUrlBase(e);this.manager.itemStart(e);const o=function(A){n?n(A):console.error(A),i.manager.itemError(e),i.manager.itemEnd(e)},d=new qa(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(this.withCredentials),d.load(e,function(A){try{i.parse(A,r,function(c){t(c),i.manager.itemEnd(e)},o)}catch(c){o(c)}},s,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,s,n){let i;const r={},o={},d=new TextDecoder;if(typeof e=="string")i=JSON.parse(e);else if(e instanceof ArrayBuffer)if(d.decode(new Uint8Array(e,0,4))===Bi){try{r[oe.KHR_BINARY_GLTF]=new ld(e)}catch(g){n&&n(g);return}i=JSON.parse(r[oe.KHR_BINARY_GLTF].content)}else i=JSON.parse(d.decode(e));else i=e;if(i.asset===void 0||i.asset.version[0]<2){n&&n(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const A=new Ed(i,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});A.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const g=this.pluginCallbacks[c](A);g.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),o[g.name]=g,r[g.name]=!0}if(i.extensionsUsed)for(let c=0;c<i.extensionsUsed.length;++c){const g=i.extensionsUsed[c],l=i.extensionsRequired||[];switch(g){case oe.KHR_MATERIALS_UNLIT:r[g]=new qo;break;case oe.KHR_DRACO_MESH_COMPRESSION:r[g]=new cd(i,this.dracoLoader);break;case oe.KHR_TEXTURE_TRANSFORM:r[g]=new gd;break;case oe.KHR_MESH_QUANTIZATION:r[g]=new ud;break;default:l.indexOf(g)>=0&&o[g]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+g+'".')}}A.setExtensions(r),A.setPlugins(o),A.parse(s,n)}parseAsync(e,t){const s=this;return new Promise(function(n,i){s.parse(e,t,n,i)})}}function Jo(){let a={};return{get:function(e){return a[e]},add:function(e,t){a[e]=t},remove:function(e){delete a[e]},removeAll:function(){a={}}}}function Qe(a,e,t){const s=a.json.materials[e];return s.extensions&&s.extensions[t]?s.extensions[t]:null}const oe={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",KHR_MESHOPT_COMPRESSION:"KHR_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Yo{constructor(e){this.parser=e,this.name=oe.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let s=0,n=t.length;s<n;s++){const i=t[s];i.extensions&&i.extensions[this.name]&&i.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}_loadLight(e){const t=this.parser,s="light:"+e;let n=t.cache.get(s);if(n)return n;const i=t.json,d=((i.extensions&&i.extensions[this.name]||{}).lights||[])[e];let A;const c=new Fe(16777215);d.color!==void 0&&c.setRGB(d.color[0],d.color[1],d.color[2],ot);const g=d.range!==void 0?d.range:0;switch(d.type){case"directional":A=new Vn(c),A.target.position.set(0,0,-1),A.add(A.target);break;case"point":A=new Ns(c),A.distance=g;break;case"spot":A=new jn(c),A.distance=g,d.spot=d.spot||{},d.spot.innerConeAngle=d.spot.innerConeAngle!==void 0?d.spot.innerConeAngle:0,d.spot.outerConeAngle=d.spot.outerConeAngle!==void 0?d.spot.outerConeAngle:Math.PI/4,A.angle=d.spot.outerConeAngle,A.penumbra=1-d.spot.innerConeAngle/d.spot.outerConeAngle,A.target.position.set(0,0,-1),A.add(A.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+d.type)}return A.position.set(0,0,0),at(A,d),d.intensity!==void 0&&(A.intensity=d.intensity),A.name=t.createUniqueName(d.name||"light_"+e),n=Promise.resolve(A),t.cache.add(s,n),n}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,s=this.parser,i=s.json.nodes[e],o=(i.extensions&&i.extensions[this.name]||{}).light;return o===void 0?null:this._loadLight(o).then(function(d){return s._getNodeRef(t.cache,o,d)})}}class qo{constructor(){this.name=oe.KHR_MATERIALS_UNLIT}getMaterialType(){return Ge}extendParams(e,t,s){const n=[];e.color=new Fe(1,1,1),e.opacity=1;const i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){const r=i.baseColorFactor;e.color.setRGB(r[0],r[1],r[2],ot),e.opacity=r[3]}i.baseColorTexture!==void 0&&n.push(s.assignTexture(e,"map",i.baseColorTexture,Ye))}return Promise.all(n)}}class zo{constructor(e){this.parser=e,this.name=oe.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const s=Qe(this.parser,e,this.name);return s===null||s.emissiveStrength!==void 0&&(t.emissiveIntensity=s.emissiveStrength),Promise.resolve()}}class Xo{constructor(e){this.parser=e,this.name=oe.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){return Qe(this.parser,e,this.name)!==null?Ze:null}extendMaterialParams(e,t){const s=Qe(this.parser,e,this.name);if(s===null)return Promise.resolve();const n=[];if(s.clearcoatFactor!==void 0&&(t.clearcoat=s.clearcoatFactor),s.clearcoatTexture!==void 0&&n.push(this.parser.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),s.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),s.clearcoatRoughnessTexture!==void 0&&n.push(this.parser.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),s.clearcoatNormalTexture!==void 0&&(n.push(this.parser.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),s.clearcoatNormalTexture.scale!==void 0)){const i=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Je(i,i)}return Promise.all(n)}}class Wo{constructor(e){this.parser=e,this.name=oe.KHR_MATERIALS_DISPERSION}getMaterialType(e){return Qe(this.parser,e,this.name)!==null?Ze:null}extendMaterialParams(e,t){const s=Qe(this.parser,e,this.name);return s===null||(t.dispersion=s.dispersion!==void 0?s.dispersion:0),Promise.resolve()}}class Zo{constructor(e){this.parser=e,this.name=oe.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){return Qe(this.parser,e,this.name)!==null?Ze:null}extendMaterialParams(e,t){const s=Qe(this.parser,e,this.name);if(s===null)return Promise.resolve();const n=[];return s.iridescenceFactor!==void 0&&(t.iridescence=s.iridescenceFactor),s.iridescenceTexture!==void 0&&n.push(this.parser.assignTexture(t,"iridescenceMap",s.iridescenceTexture)),s.iridescenceIor!==void 0&&(t.iridescenceIOR=s.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),s.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),s.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),s.iridescenceThicknessTexture!==void 0&&n.push(this.parser.assignTexture(t,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(n)}}class $o{constructor(e){this.parser=e,this.name=oe.KHR_MATERIALS_SHEEN}getMaterialType(e){return Qe(this.parser,e,this.name)!==null?Ze:null}extendMaterialParams(e,t){const s=Qe(this.parser,e,this.name);if(s===null)return Promise.resolve();const n=[];if(t.sheenColor=new Fe(0,0,0),t.sheenRoughness=0,t.sheen=1,s.sheenColorFactor!==void 0){const i=s.sheenColorFactor;t.sheenColor.setRGB(i[0],i[1],i[2],ot)}return s.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=s.sheenRoughnessFactor),s.sheenColorTexture!==void 0&&n.push(this.parser.assignTexture(t,"sheenColorMap",s.sheenColorTexture,Ye)),s.sheenRoughnessTexture!==void 0&&n.push(this.parser.assignTexture(t,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(n)}}class ed{constructor(e){this.parser=e,this.name=oe.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){return Qe(this.parser,e,this.name)!==null?Ze:null}extendMaterialParams(e,t){const s=Qe(this.parser,e,this.name);if(s===null)return Promise.resolve();const n=[];return s.transmissionFactor!==void 0&&(t.transmission=s.transmissionFactor),s.transmissionTexture!==void 0&&n.push(this.parser.assignTexture(t,"transmissionMap",s.transmissionTexture)),Promise.all(n)}}class td{constructor(e){this.parser=e,this.name=oe.KHR_MATERIALS_VOLUME}getMaterialType(e){return Qe(this.parser,e,this.name)!==null?Ze:null}extendMaterialParams(e,t){const s=Qe(this.parser,e,this.name);if(s===null)return Promise.resolve();const n=[];t.thickness=s.thicknessFactor!==void 0?s.thicknessFactor:0,s.thicknessTexture!==void 0&&n.push(this.parser.assignTexture(t,"thicknessMap",s.thicknessTexture)),t.attenuationDistance=s.attenuationDistance||1/0;const i=s.attenuationColor||[1,1,1];return t.attenuationColor=new Fe().setRGB(i[0],i[1],i[2],ot),Promise.all(n)}}class ad{constructor(e){this.parser=e,this.name=oe.KHR_MATERIALS_IOR}getMaterialType(e){return Qe(this.parser,e,this.name)!==null?Ze:null}extendMaterialParams(e,t){const s=Qe(this.parser,e,this.name);return s===null||(t.ior=s.ior!==void 0?s.ior:1.5),Promise.resolve()}}class sd{constructor(e){this.parser=e,this.name=oe.KHR_MATERIALS_SPECULAR}getMaterialType(e){return Qe(this.parser,e,this.name)!==null?Ze:null}extendMaterialParams(e,t){const s=Qe(this.parser,e,this.name);if(s===null)return Promise.resolve();const n=[];t.specularIntensity=s.specularFactor!==void 0?s.specularFactor:1,s.specularTexture!==void 0&&n.push(this.parser.assignTexture(t,"specularIntensityMap",s.specularTexture));const i=s.specularColorFactor||[1,1,1];return t.specularColor=new Fe().setRGB(i[0],i[1],i[2],ot),s.specularColorTexture!==void 0&&n.push(this.parser.assignTexture(t,"specularColorMap",s.specularColorTexture,Ye)),Promise.all(n)}}class nd{constructor(e){this.parser=e,this.name=oe.EXT_MATERIALS_BUMP}getMaterialType(e){return Qe(this.parser,e,this.name)!==null?Ze:null}extendMaterialParams(e,t){const s=Qe(this.parser,e,this.name);if(s===null)return Promise.resolve();const n=[];return t.bumpScale=s.bumpFactor!==void 0?s.bumpFactor:1,s.bumpTexture!==void 0&&n.push(this.parser.assignTexture(t,"bumpMap",s.bumpTexture)),Promise.all(n)}}class id{constructor(e){this.parser=e,this.name=oe.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){return Qe(this.parser,e,this.name)!==null?Ze:null}extendMaterialParams(e,t){const s=Qe(this.parser,e,this.name);if(s===null)return Promise.resolve();const n=[];return s.anisotropyStrength!==void 0&&(t.anisotropy=s.anisotropyStrength),s.anisotropyRotation!==void 0&&(t.anisotropyRotation=s.anisotropyRotation),s.anisotropyTexture!==void 0&&n.push(this.parser.assignTexture(t,"anisotropyMap",s.anisotropyTexture)),Promise.all(n)}}class rd{constructor(e){this.parser=e,this.name=oe.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,s=t.json,n=s.textures[e];if(!n.extensions||!n.extensions[this.name])return null;const i=n.extensions[this.name],r=t.options.ktx2Loader;if(!r){if(s.extensionsRequired&&s.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,r)}}class od{constructor(e){this.parser=e,this.name=oe.EXT_TEXTURE_WEBP}loadTexture(e){const t=this.name,s=this.parser,n=s.json,i=n.textures[e];if(!i.extensions||!i.extensions[t])return null;const r=i.extensions[t],o=n.images[r.source];let d=s.textureLoader;if(o.uri){const A=s.options.manager.getHandler(o.uri);A!==null&&(d=A)}return s.loadTextureImage(e,r.source,d)}}class dd{constructor(e){this.parser=e,this.name=oe.EXT_TEXTURE_AVIF}loadTexture(e){const t=this.name,s=this.parser,n=s.json,i=n.textures[e];if(!i.extensions||!i.extensions[t])return null;const r=i.extensions[t],o=n.images[r.source];let d=s.textureLoader;if(o.uri){const A=s.options.manager.getHandler(o.uri);A!==null&&(d=A)}return s.loadTextureImage(e,r.source,d)}}class wn{constructor(e,t){this.name=t,this.parser=e}loadBufferView(e){const t=this.parser.json,s=t.bufferViews[e];if(s.extensions&&s.extensions[this.name]){const n=s.extensions[this.name],i=this.parser.getDependency("buffer",n.buffer),r=this.parser.options.meshoptDecoder;if(!r||!r.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then(function(o){const d=n.byteOffset||0,A=n.byteLength||0,c=n.count,g=n.byteStride,l=new Uint8Array(o,d,A);return r.decodeGltfBufferAsync?r.decodeGltfBufferAsync(c,g,l,n.mode,n.filter).then(function(u){return u.buffer}):r.ready.then(function(){const u=new ArrayBuffer(c*g);return r.decodeGltfBuffer(new Uint8Array(u),c,g,l,n.mode,n.filter),u})})}else return null}}class Ad{constructor(e){this.name=oe.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,s=t.nodes[e];if(!s.extensions||!s.extensions[this.name]||s.mesh===void 0)return null;const n=t.meshes[s.mesh];for(const A of n.primitives)if(A.mode!==He.TRIANGLES&&A.mode!==He.TRIANGLE_STRIP&&A.mode!==He.TRIANGLE_FAN&&A.mode!==void 0)return null;const r=s.extensions[this.name].attributes,o=[],d={};for(const A in r)o.push(this.parser.getDependency("accessor",r[A]).then(c=>(d[A]=c,d[A])));return o.length<1?null:(o.push(this.parser.createNodeMesh(e)),Promise.all(o).then(A=>{const c=A.pop(),g=c.isGroup?c.children:[c],l=A[0].count,u=[];for(const m of g){const p=new vt,h=new Z,b=new je,E=new Z(1,1,1),f=new Fn(m.geometry,m.material,l);for(let y=0;y<l;y++)d.TRANSLATION&&h.fromBufferAttribute(d.TRANSLATION,y),d.ROTATION&&b.fromBufferAttribute(d.ROTATION,y),d.SCALE&&E.fromBufferAttribute(d.SCALE,y),f.setMatrixAt(y,p.compose(h,b,E));for(const y in d)if(y==="_COLOR_0"){const C=d[y];f.instanceColor=new $i(C.array,C.itemSize,C.normalized)}else y!=="TRANSLATION"&&y!=="ROTATION"&&y!=="SCALE"&&m.geometry.setAttribute(y,d[y]);ct.prototype.copy.call(f,m),this.parser.assignFinalMaterial(f),u.push(f)}return c.isGroup?(c.clear(),c.add(...u),c):u[0]}))}}const Bi="glTF",na=12,En={JSON:1313821514,BIN:5130562};class ld{constructor(e){this.name=oe.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,na),s=new TextDecoder;if(this.header={magic:s.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==Bi)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-na,i=new DataView(e,na);let r=0;for(;r<n;){const o=i.getUint32(r,!0);r+=4;const d=i.getUint32(r,!0);if(r+=4,d===En.JSON){const A=new Uint8Array(e,na+r,o);this.content=s.decode(A)}else if(d===En.BIN){const A=na+r;this.body=e.slice(A,A+o)}r+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class cd{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=oe.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const s=this.json,n=this.dracoLoader,i=e.extensions[this.name].bufferView,r=e.extensions[this.name].attributes,o={},d={},A={};for(const c in r){const g=vs[c]||c.toLowerCase();o[g]=r[c]}for(const c in e.attributes){const g=vs[c]||c.toLowerCase();if(r[c]!==void 0){const l=s.accessors[e.attributes[c]],u=Ut[l.componentType];A[g]=u.name,d[g]=l.normalized===!0}}return t.getDependency("bufferView",i).then(function(c){return new Promise(function(g,l){n.decodeDracoFile(c,function(u){for(const m in u.attributes){const p=u.attributes[m],h=d[m];h!==void 0&&(p.normalized=h)}g(u)},o,A,ot,l)})})}}class gd{constructor(){this.name=oe.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class ud{constructor(){this.name=oe.KHR_MESH_QUANTIZATION}}class Qi extends br{constructor(e,t,s,n){super(e,t,s,n)}copySampleValue_(e){const t=this.resultBuffer,s=this.sampleValues,n=this.valueSize,i=e*n*3+n;for(let r=0;r!==n;r++)t[r]=s[i+r];return t}interpolate_(e,t,s,n){const i=this.resultBuffer,r=this.sampleValues,o=this.valueSize,d=o*2,A=o*3,c=n-t,g=(s-t)/c,l=g*g,u=l*g,m=e*A,p=m-A,h=-2*u+3*l,b=u-l,E=1-h,f=b-l+g;for(let y=0;y!==o;y++){const C=r[p+y+o],M=r[p+y+d]*c,_=r[m+y+o],S=r[m+y]*c;i[y]=E*C+f*M+h*_+b*S}return i}}const md=new je;class hd extends Qi{interpolate_(e,t,s,n){const i=super.interpolate_(e,t,s,n);return md.fromArray(i).normalize().toArray(i),i}}const He={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Ut={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Bn={9728:Kn,9729:ba,9984:ir,9985:nr,9986:sr,9987:Ds},Qn={33071:or,33648:rr,10497:fs},cs={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},vs={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},pt={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},pd={CUBICSPLINE:void 0,LINEAR:Un,STEP:mr},gs={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function bd(a){return a.DefaultMaterial===void 0&&(a.DefaultMaterial=new ue({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:pr})),a.DefaultMaterial}function wt(a,e,t){for(const s in t.extensions)a[s]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[s]=t.extensions[s])}function at(a,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(a.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function fd(a,e,t){let s=!1,n=!1,i=!1;for(let A=0,c=e.length;A<c;A++){const g=e[A];if(g.POSITION!==void 0&&(s=!0),g.NORMAL!==void 0&&(n=!0),g.COLOR_0!==void 0&&(i=!0),s&&n&&i)break}if(!s&&!n&&!i)return Promise.resolve(a);const r=[],o=[],d=[];for(let A=0,c=e.length;A<c;A++){const g=e[A];if(s){const l=g.POSITION!==void 0?t.getDependency("accessor",g.POSITION):a.attributes.position;r.push(l)}if(n){const l=g.NORMAL!==void 0?t.getDependency("accessor",g.NORMAL):a.attributes.normal;o.push(l)}if(i){const l=g.COLOR_0!==void 0?t.getDependency("accessor",g.COLOR_0):a.attributes.color;d.push(l)}}return Promise.all([Promise.all(r),Promise.all(o),Promise.all(d)]).then(function(A){const c=A[0],g=A[1],l=A[2];return s&&(a.morphAttributes.position=c),n&&(a.morphAttributes.normal=g),i&&(a.morphAttributes.color=l),a.morphTargetsRelative=!0,a})}function yd(a,e){if(a.updateMorphTargets(),e.weights!==void 0)for(let t=0,s=e.weights.length;t<s;t++)a.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(a.morphTargetInfluences.length===t.length){a.morphTargetDictionary={};for(let s=0,n=t.length;s<n;s++)a.morphTargetDictionary[t[s]]=s}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Cd(a){let e;const t=a.extensions&&a.extensions[oe.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+us(t.attributes):e=a.indices+":"+us(a.attributes)+":"+a.mode,a.targets!==void 0)for(let s=0,n=a.targets.length;s<n;s++)e+=":"+us(a.targets[s]);return e}function us(a){let e="";const t=Object.keys(a).sort();for(let s=0,n=t.length;s<n;s++)e+=t[s]+":"+a[t[s]]+";";return e}function Ms(a){switch(a){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Id(a){return a.search(/\.jpe?g($|\?)/i)>0||a.search(/^data\:image\/jpeg/)===0?"image/jpeg":a.search(/\.webp($|\?)/i)>0||a.search(/^data\:image\/webp/)===0?"image/webp":a.search(/\.ktx2($|\?)/i)>0||a.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}const wd=new vt;class Ed{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Jo,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let s=!1,n=-1,i=!1,r=-1;if(typeof navigator<"u"&&typeof navigator.userAgent<"u"){const o=navigator.userAgent;s=/^((?!chrome|android).)*safari/i.test(o)===!0;const d=o.match(/Version\/(\d+)/);n=s&&d?parseInt(d[1],10):-1,i=o.indexOf("Firefox")>-1,r=i?o.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||s&&n<17||i&&r<98?this.textureLoader=new er(this.options.manager):this.textureLoader=new tr(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new qa(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const s=this,n=this.json,i=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(r){return r._markDefs&&r._markDefs()}),Promise.all(this._invokeAll(function(r){return r.beforeRoot&&r.beforeRoot()})).then(function(){return Promise.all([s.getDependencies("scene"),s.getDependencies("animation"),s.getDependencies("camera")])}).then(function(r){const o={scene:r[0][n.scene||0],scenes:r[0],animations:r[1],cameras:r[2],asset:n.asset,parser:s,userData:{}};return wt(i,o,n),at(o,n),Promise.all(s._invokeAll(function(d){return d.afterRoot&&d.afterRoot(o)})).then(function(){for(const d of o.scenes)d.updateMatrixWorld();e(o)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],s=this.json.meshes||[];for(let n=0,i=t.length;n<i;n++){const r=t[n].joints;for(let o=0,d=r.length;o<d;o++)e[r[o]].isBone=!0}for(let n=0,i=e.length;n<i;n++){const r=e[n];r.mesh!==void 0&&(this._addNodeRef(this.meshCache,r.mesh),r.skin!==void 0&&(s[r.mesh].isSkinnedMesh=!0)),r.camera!==void 0&&this._addNodeRef(this.cameraCache,r.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,s){if(e.refs[t]<=1)return s;const n=s.clone(),i=(r,o)=>{const d=this.associations.get(r);d!=null&&this.associations.set(o,d);for(const[A,c]of r.children.entries())i(c,o.children[A])};return i(s,n),n.name+="_instance_"+e.uses[t]++,n}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let s=0;s<t.length;s++){const n=e(t[s]);if(n)return n}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const s=[];for(let n=0;n<t.length;n++){const i=e(t[n]);i&&s.push(i)}return s}getDependency(e,t){const s=e+":"+t;let n=this.cache.get(s);if(!n){switch(e){case"scene":n=this.loadScene(t);break;case"node":n=this._invokeOne(function(i){return i.loadNode&&i.loadNode(t)});break;case"mesh":n=this._invokeOne(function(i){return i.loadMesh&&i.loadMesh(t)});break;case"accessor":n=this.loadAccessor(t);break;case"bufferView":n=this._invokeOne(function(i){return i.loadBufferView&&i.loadBufferView(t)});break;case"buffer":n=this.loadBuffer(t);break;case"material":n=this._invokeOne(function(i){return i.loadMaterial&&i.loadMaterial(t)});break;case"texture":n=this._invokeOne(function(i){return i.loadTexture&&i.loadTexture(t)});break;case"skin":n=this.loadSkin(t);break;case"animation":n=this._invokeOne(function(i){return i.loadAnimation&&i.loadAnimation(t)});break;case"camera":n=this.loadCamera(t);break;default:if(n=this._invokeOne(function(i){return i!=this&&i.getDependency&&i.getDependency(e,t)}),!n)throw new Error("Unknown type: "+e);break}this.cache.add(s,n)}return n}getDependencies(e){let t=this.cache.get(e);if(!t){const s=this,n=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(n.map(function(i,r){return s.getDependency(e,r)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],s=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[oe.KHR_BINARY_GLTF].body);const n=this.options;return new Promise(function(i,r){s.load(ma.resolveURL(t.uri,n.path),i,void 0,function(){r(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(s){const n=t.byteLength||0,i=t.byteOffset||0;return s.slice(i,i+n)})}loadAccessor(e){const t=this,s=this.json,n=this.json.accessors[e];if(n.bufferView===void 0&&n.sparse===void 0){const r=cs[n.type],o=Ut[n.componentType],d=n.normalized===!0,A=new o(n.count*r);return Promise.resolve(new La(A,r,d))}const i=[];return n.bufferView!==void 0?i.push(this.getDependency("bufferView",n.bufferView)):i.push(null),n.sparse!==void 0&&(i.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(i).then(function(r){const o=r[0],d=cs[n.type],A=Ut[n.componentType],c=A.BYTES_PER_ELEMENT,g=c*d,l=n.byteOffset||0,u=n.bufferView!==void 0?s.bufferViews[n.bufferView].byteStride:void 0,m=n.normalized===!0;let p,h;if(u&&u!==g){const b=Math.floor(l/u),E="InterleavedBuffer:"+n.bufferView+":"+n.componentType+":"+b+":"+n.count;let f=t.cache.get(E);f||(p=new A(o,b*u,n.count*u/c),f=new ar(p,u/c),t.cache.add(E,f)),h=new hr(f,d,l%u/c,m)}else o===null?p=new A(n.count*d):p=new A(o,l,n.count*d),h=new La(p,d,m);if(n.sparse!==void 0){const b=cs.SCALAR,E=Ut[n.sparse.indices.componentType],f=n.sparse.indices.byteOffset||0,y=n.sparse.values.byteOffset||0,C=new E(r[1],f,n.sparse.count*b),M=new A(r[2],y,n.sparse.count*d);o!==null&&(h=new La(h.array.slice(),h.itemSize,h.normalized)),h.normalized=!1;for(let _=0,S=C.length;_<S;_++){const v=C[_];if(h.setX(v,M[_*d]),d>=2&&h.setY(v,M[_*d+1]),d>=3&&h.setZ(v,M[_*d+2]),d>=4&&h.setW(v,M[_*d+3]),d>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}h.normalized=m}return h})}loadTexture(e){const t=this.json,s=this.options,i=t.textures[e].source,r=t.images[i];let o=this.textureLoader;if(r.uri){const d=s.manager.getHandler(r.uri);d!==null&&(o=d)}return this.loadTextureImage(e,i,o)}loadTextureImage(e,t,s){const n=this,i=this.json,r=i.textures[e],o=i.images[t],d=(o.uri||o.bufferView)+":"+r.sampler;if(this.textureCache[d])return this.textureCache[d];const A=this.loadImageSource(t,s).then(function(c){c.flipY=!1,c.name=r.name||o.name||"",c.name===""&&typeof o.uri=="string"&&o.uri.startsWith("data:image/")===!1&&(c.name=o.uri);const l=(i.samplers||{})[r.sampler]||{};return c.magFilter=Bn[l.magFilter]||ba,c.minFilter=Bn[l.minFilter]||Ds,c.wrapS=Qn[l.wrapS]||fs,c.wrapT=Qn[l.wrapT]||fs,c.generateMipmaps=!c.isCompressedTexture&&c.minFilter!==Kn&&c.minFilter!==ba,n.associations.set(c,{textures:e}),c}).catch(function(){return null});return this.textureCache[d]=A,A}loadImageSource(e,t){const s=this,n=this.json,i=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(g=>g.clone());const r=n.images[e],o=self.URL||self.webkitURL;let d=r.uri||"",A=!1;if(r.bufferView!==void 0)d=s.getDependency("bufferView",r.bufferView).then(function(g){A=!0;const l=new Blob([g],{type:r.mimeType});return d=o.createObjectURL(l),d});else if(r.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const c=Promise.resolve(d).then(function(g){return new Promise(function(l,u){let m=l;t.isImageBitmapLoader===!0&&(m=function(p){const h=new ys(p);h.needsUpdate=!0,l(h)}),t.load(ma.resolveURL(g,i.path),m,void 0,u)})}).then(function(g){return A===!0&&o.revokeObjectURL(d),at(g,r),g.userData.mimeType=r.mimeType||Id(r.uri),g}).catch(function(g){throw console.error("THREE.GLTFLoader: Couldn't load texture",d),g});return this.sourceCache[e]=c,c}assignTexture(e,t,s,n){const i=this;return this.getDependency("texture",s.index).then(function(r){if(!r)return null;if(s.texCoord!==void 0&&s.texCoord>0&&(r=r.clone(),r.channel=s.texCoord),i.extensions[oe.KHR_TEXTURE_TRANSFORM]){const o=s.extensions!==void 0?s.extensions[oe.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const d=i.associations.get(r);r=i.extensions[oe.KHR_TEXTURE_TRANSFORM].extendTexture(r,o),i.associations.set(r,d)}}return n!==void 0&&(r.colorSpace=n),e[t]=r,r})}assignFinalMaterial(e){const t=e.geometry;let s=e.material;const n=t.attributes.tangent===void 0,i=t.attributes.color!==void 0,r=t.attributes.normal===void 0;if(e.isPoints){const o="PointsMaterial:"+s.uuid;let d=this.cache.get(o);d||(d=new ua,as.prototype.copy.call(d,s),d.color.copy(s.color),d.map=s.map,d.sizeAttenuation=!1,this.cache.add(o,d)),s=d}else if(e.isLine){const o="LineBasicMaterial:"+s.uuid;let d=this.cache.get(o);d||(d=new Ha,as.prototype.copy.call(d,s),d.color.copy(s.color),d.map=s.map,this.cache.add(o,d)),s=d}if(n||i||r){let o="ClonedMaterial:"+s.uuid+":";n&&(o+="derivative-tangents:"),i&&(o+="vertex-colors:"),r&&(o+="flat-shading:");let d=this.cache.get(o);d||(d=s.clone(),i&&(d.vertexColors=!0),r&&(d.flatShading=!0),n&&(d.normalScale&&(d.normalScale.y*=-1),d.clearcoatNormalScale&&(d.clearcoatNormalScale.y*=-1)),this.cache.add(o,d),this.associations.set(d,this.associations.get(s))),s=d}e.material=s}getMaterialType(){return ue}loadMaterial(e){const t=this,s=this.json,n=this.extensions,i=s.materials[e];let r;const o={},d=i.extensions||{},A=[];if(d[oe.KHR_MATERIALS_UNLIT]){const g=n[oe.KHR_MATERIALS_UNLIT];r=g.getMaterialType(),A.push(g.extendParams(o,i,t))}else{const g=i.pbrMetallicRoughness||{};if(o.color=new Fe(1,1,1),o.opacity=1,Array.isArray(g.baseColorFactor)){const l=g.baseColorFactor;o.color.setRGB(l[0],l[1],l[2],ot),o.opacity=l[3]}g.baseColorTexture!==void 0&&A.push(t.assignTexture(o,"map",g.baseColorTexture,Ye)),o.metalness=g.metallicFactor!==void 0?g.metallicFactor:1,o.roughness=g.roughnessFactor!==void 0?g.roughnessFactor:1,g.metallicRoughnessTexture!==void 0&&(A.push(t.assignTexture(o,"metalnessMap",g.metallicRoughnessTexture)),A.push(t.assignTexture(o,"roughnessMap",g.metallicRoughnessTexture))),r=this._invokeOne(function(l){return l.getMaterialType&&l.getMaterialType(e)}),A.push(Promise.all(this._invokeAll(function(l){return l.extendMaterialParams&&l.extendMaterialParams(e,o)})))}i.doubleSided===!0&&(o.side=_s);const c=i.alphaMode||gs.OPAQUE;if(c===gs.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,c===gs.MASK&&(o.alphaTest=i.alphaCutoff!==void 0?i.alphaCutoff:.5)),i.normalTexture!==void 0&&r!==Ge&&(A.push(t.assignTexture(o,"normalMap",i.normalTexture)),o.normalScale=new Je(1,1),i.normalTexture.scale!==void 0)){const g=i.normalTexture.scale;o.normalScale.set(g,g)}if(i.occlusionTexture!==void 0&&r!==Ge&&(A.push(t.assignTexture(o,"aoMap",i.occlusionTexture)),i.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=i.occlusionTexture.strength)),i.emissiveFactor!==void 0&&r!==Ge){const g=i.emissiveFactor;o.emissive=new Fe().setRGB(g[0],g[1],g[2],ot)}return i.emissiveTexture!==void 0&&r!==Ge&&A.push(t.assignTexture(o,"emissiveMap",i.emissiveTexture,Ye)),Promise.all(A).then(function(){const g=new r(o);return i.name&&(g.name=i.name),at(g,i),t.associations.set(g,{materials:e}),i.extensions&&wt(n,g,i),g})}createUniqueName(e){const t=dr.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,s=this.extensions,n=this.primitiveCache;function i(o){return s[oe.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,t).then(function(d){return Sn(d,o,t)})}const r=[];for(let o=0,d=e.length;o<d;o++){const A=e[o],c=Cd(A),g=n[c];if(g)r.push(g.promise);else{let l;A.extensions&&A.extensions[oe.KHR_DRACO_MESH_COMPRESSION]?l=i(A):l=Sn(new pa,A,t),n[c]={primitive:A,promise:l},r.push(l)}}return Promise.all(r)}loadMesh(e){const t=this,s=this.json,n=this.extensions,i=s.meshes[e],r=i.primitives,o=[];for(let d=0,A=r.length;d<A;d++){const c=r[d].material===void 0?bd(this.cache):this.getDependency("material",r[d].material);o.push(c)}return o.push(t.loadGeometries(r)),Promise.all(o).then(function(d){const A=d.slice(0,d.length-1),c=d[d.length-1],g=[];for(let u=0,m=c.length;u<m;u++){const p=c[u],h=r[u];let b;const E=A[u];if(h.mode===He.TRIANGLES||h.mode===He.TRIANGLE_STRIP||h.mode===He.TRIANGLE_FAN||h.mode===void 0)b=i.isSkinnedMesh===!0?new Ar(p,E):new U(p,E),b.isSkinnedMesh===!0&&b.normalizeSkinWeights(),h.mode===He.TRIANGLE_STRIP?b.geometry=In(b.geometry,kn):h.mode===He.TRIANGLE_FAN&&(b.geometry=In(b.geometry,bs));else if(h.mode===He.LINES)b=new Pn(p,E);else if(h.mode===He.LINE_STRIP)b=new tt(p,E);else if(h.mode===He.LINE_LOOP)b=new lr(p,E);else if(h.mode===He.POINTS)b=new _a(p,E);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+h.mode);Object.keys(b.geometry.morphAttributes).length>0&&yd(b,i),b.name=t.createUniqueName(i.name||"mesh_"+e),at(b,i),h.extensions&&wt(n,b,h),t.assignFinalMaterial(b),g.push(b)}for(let u=0,m=g.length;u<m;u++)t.associations.set(g[u],{meshes:e,primitives:u});if(g.length===1)return i.extensions&&wt(n,g[0],i),g[0];const l=new ft;i.extensions&&wt(n,l,i),t.associations.set(l,{meshes:e});for(let u=0,m=g.length;u<m;u++)l.add(g[u]);return l})}loadCamera(e){let t;const s=this.json.cameras[e],n=s[s.type];if(!n){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return s.type==="perspective"?t=new Oa(ne.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):s.type==="orthographic"&&(t=new Ls(-n.xmag,n.xmag,n.ymag,-n.ymag,n.znear,n.zfar)),s.name&&(t.name=this.createUniqueName(s.name)),at(t,s),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],s=[];for(let n=0,i=t.joints.length;n<i;n++)s.push(this._loadNodeShallow(t.joints[n]));return t.inverseBindMatrices!==void 0?s.push(this.getDependency("accessor",t.inverseBindMatrices)):s.push(null),Promise.all(s).then(function(n){const i=n.pop(),r=n,o=[],d=[];for(let A=0,c=r.length;A<c;A++){const g=r[A];if(g){o.push(g);const l=new vt;i!==null&&l.fromArray(i.array,A*16),d.push(l)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[A])}return new cr(o,d)})}loadAnimation(e){const t=this.json,s=this,n=t.animations[e],i=n.name?n.name:"animation_"+e,r=[],o=[],d=[],A=[],c=[];for(let g=0,l=n.channels.length;g<l;g++){const u=n.channels[g],m=n.samplers[u.sampler],p=u.target,h=p.node,b=n.parameters!==void 0?n.parameters[m.input]:m.input,E=n.parameters!==void 0?n.parameters[m.output]:m.output;p.node!==void 0&&(r.push(this.getDependency("node",h)),o.push(this.getDependency("accessor",b)),d.push(this.getDependency("accessor",E)),A.push(m),c.push(p))}return Promise.all([Promise.all(r),Promise.all(o),Promise.all(d),Promise.all(A),Promise.all(c)]).then(function(g){const l=g[0],u=g[1],m=g[2],p=g[3],h=g[4],b=[];for(let f=0,y=l.length;f<y;f++){const C=l[f],M=u[f],_=m[f],S=p[f],v=h[f];if(C===void 0)continue;C.updateMatrix&&C.updateMatrix();const B=s._createAnimationTracks(C,M,_,S,v);if(B)for(let G=0;G<B.length;G++)b.push(B[G])}const E=new gr(i,void 0,b);return at(E,n),E})}createNodeMesh(e){const t=this.json,s=this,n=t.nodes[e];return n.mesh===void 0?null:s.getDependency("mesh",n.mesh).then(function(i){const r=s._getNodeRef(s.meshCache,n.mesh,i);return n.weights!==void 0&&r.traverse(function(o){if(o.isMesh)for(let d=0,A=n.weights.length;d<A;d++)o.morphTargetInfluences[d]=n.weights[d]}),r})}loadNode(e){const t=this.json,s=this,n=t.nodes[e],i=s._loadNodeShallow(e),r=[],o=n.children||[];for(let A=0,c=o.length;A<c;A++)r.push(s.getDependency("node",o[A]));const d=n.skin===void 0?Promise.resolve(null):s.getDependency("skin",n.skin);return Promise.all([i,Promise.all(r),d]).then(function(A){const c=A[0],g=A[1],l=A[2];l!==null&&c.traverse(function(u){u.isSkinnedMesh&&u.bind(l,wd)});for(let u=0,m=g.length;u<m;u++)c.add(g[u]);return c})}_loadNodeShallow(e){const t=this.json,s=this.extensions,n=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const i=t.nodes[e],r=i.name?n.createUniqueName(i.name):"",o=[],d=n._invokeOne(function(A){return A.createNodeMesh&&A.createNodeMesh(e)});return d&&o.push(d),i.camera!==void 0&&o.push(n.getDependency("camera",i.camera).then(function(A){return n._getNodeRef(n.cameraCache,i.camera,A)})),n._invokeAll(function(A){return A.createNodeAttachment&&A.createNodeAttachment(e)}).forEach(function(A){o.push(A)}),this.nodeCache[e]=Promise.all(o).then(function(A){let c;if(i.isBone===!0?c=new ur:A.length>1?c=new ft:A.length===1?c=A[0]:c=new ct,c!==A[0])for(let g=0,l=A.length;g<l;g++)c.add(A[g]);if(i.name&&(c.userData.name=i.name,c.name=r),at(c,i),i.extensions&&wt(s,c,i),i.matrix!==void 0){const g=new vt;g.fromArray(i.matrix),c.applyMatrix4(g)}else i.translation!==void 0&&c.position.fromArray(i.translation),i.rotation!==void 0&&c.quaternion.fromArray(i.rotation),i.scale!==void 0&&c.scale.fromArray(i.scale);if(!n.associations.has(c))n.associations.set(c,{});else if(i.mesh!==void 0&&n.meshCache.refs[i.mesh]>1){const g=n.associations.get(c);n.associations.set(c,{...g})}return n.associations.get(c).nodes=e,c}),this.nodeCache[e]}loadScene(e){const t=this.extensions,s=this.json.scenes[e],n=this,i=new ft;s.name&&(i.name=n.createUniqueName(s.name)),at(i,s),s.extensions&&wt(t,i,s);const r=s.nodes||[],o=[];for(let d=0,A=r.length;d<A;d++)o.push(n.getDependency("node",r[d]));return Promise.all(o).then(function(d){for(let c=0,g=d.length;c<g;c++){const l=d[c];l.parent!==null?i.add(Ii(l)):i.add(l)}const A=c=>{const g=new Map;for(const[l,u]of n.associations)(l instanceof as||l instanceof ys)&&g.set(l,u);return c.traverse(l=>{const u=n.associations.get(l);u!=null&&g.set(l,u)}),g};return n.associations=A(i),i})}_createAnimationTracks(e,t,s,n,i){const r=[],o=e.name?e.name:e.uuid,d=[];pt[i.path]===pt.weights?e.traverse(function(l){l.morphTargetInfluences&&d.push(l.name?l.name:l.uuid)}):d.push(o);let A;switch(pt[i.path]){case pt.weights:A=Xs;break;case pt.rotation:A=Ws;break;case pt.translation:case pt.scale:A=zs;break;default:switch(s.itemSize){case 1:A=Xs;break;case 2:case 3:default:A=zs;break}break}const c=n.interpolation!==void 0?pd[n.interpolation]:Un,g=this._getArrayFromAccessor(s);for(let l=0,u=d.length;l<u;l++){const m=new A(d[l]+"."+pt[i.path],t.array,g,c);n.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(m),r.push(m)}return r}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const s=Ms(t.constructor),n=new Float32Array(t.length);for(let i=0,r=t.length;i<r;i++)n[i]=t[i]*s;t=n}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(s){const n=this instanceof Ws?hd:Qi;return new n(this.times,this.values,this.getValueSize()/3,s)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Bd(a,e,t){const s=e.attributes,n=new Ya;if(s.POSITION!==void 0){const o=t.json.accessors[s.POSITION],d=o.min,A=o.max;if(d!==void 0&&A!==void 0){if(n.set(new Z(d[0],d[1],d[2]),new Z(A[0],A[1],A[2])),o.normalized){const c=Ms(Ut[o.componentType]);n.min.multiplyScalar(c),n.max.multiplyScalar(c)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const i=e.targets;if(i!==void 0){const o=new Z,d=new Z;for(let A=0,c=i.length;A<c;A++){const g=i[A];if(g.POSITION!==void 0){const l=t.json.accessors[g.POSITION],u=l.min,m=l.max;if(u!==void 0&&m!==void 0){if(d.setX(Math.max(Math.abs(u[0]),Math.abs(m[0]))),d.setY(Math.max(Math.abs(u[1]),Math.abs(m[1]))),d.setZ(Math.max(Math.abs(u[2]),Math.abs(m[2]))),l.normalized){const p=Ms(Ut[l.componentType]);d.multiplyScalar(p)}o.max(d)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}n.expandByVector(o)}a.boundingBox=n;const r=new Nn;n.getCenter(r.center),r.radius=n.min.distanceTo(n.max)/2,a.boundingSphere=r}function Sn(a,e,t){const s=e.attributes,n=[];function i(r,o){return t.getDependency("accessor",r).then(function(d){a.setAttribute(o,d)})}for(const r in s){const o=vs[r]||r.toLowerCase();o in a.attributes||n.push(i(s[r],o))}if(e.indices!==void 0&&!a.index){const r=t.getDependency("accessor",e.indices).then(function(o){a.setIndex(o)});n.push(r)}return Zs.workingColorSpace!==ot&&"COLOR_0"in s&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${Zs.workingColorSpace}" not supported.`),at(a,e),Bd(a,e,t),Promise.all(n).then(function(){return e.targets!==void 0?fd(a,e.targets,t):a})}const Qd=Object.freeze(Object.defineProperty({__proto__:null,GLTFLoader:Ei},Symbol.toStringTag,{value:"Module"})),we={ComponentState:Object.freeze({DEFAULT:"default",TOUCHED:"touched",PRESSED:"pressed"}),ComponentProperty:Object.freeze({BUTTON:"button",X_AXIS:"xAxis",Y_AXIS:"yAxis",STATE:"state"}),ComponentType:Object.freeze({TRIGGER:"trigger",SQUEEZE:"squeeze",TOUCHPAD:"touchpad",THUMBSTICK:"thumbstick",BUTTON:"button"}),ButtonTouchThreshold:.05,AxisTouchThreshold:.1,VisualResponseProperty:Object.freeze({TRANSFORM:"transform",VISIBILITY:"visibility"})};async function Si(a){const e=await fetch(a);if(e.ok)return e.json();throw new Error(e.statusText)}async function Sd(a){if(!a)throw new Error("No basePath supplied");return await Si(`${a}/profilesList.json`)}async function xd(a,e,t=null,s=!0){if(!a)throw new Error("No xrInputSource supplied");if(!e)throw new Error("No basePath supplied");const n=await Sd(e);let i;if(a.profiles.some(d=>{const A=n[d];return A&&(i={profileId:d,profilePath:`${e}/${A.path}`,deprecated:!!A.deprecated}),!!i}),!i){if(!t)throw new Error("No matching profile name found");const d=n[t];if(!d)throw new Error(`No matching profile name found and default profile "${t}" missing.`);i={profileId:t,profilePath:`${e}/${d.path}`,deprecated:!!d.deprecated}}const r=await Si(i.profilePath);let o;if(s){let d;if(a.handedness==="any"?d=r.layouts[Object.keys(r.layouts)[0]]:d=r.layouts[a.handedness],!d)throw new Error(`No matching handedness, ${a.handedness}, in profile ${i.profileId}`);d.assetPath&&(o=i.profilePath.replace("profile.json",d.assetPath))}return{profile:r,assetPath:o}}const vd={xAxis:0,yAxis:0,button:0,state:we.ComponentState.DEFAULT};function Md(a=0,e=0){let t=a,s=e;if(Math.sqrt(a*a+e*e)>1){const r=Math.atan2(e,a);t=Math.cos(r),s=Math.sin(r)}return{normalizedXAxis:t*.5+.5,normalizedYAxis:s*.5+.5}}class Dd{constructor(e){this.componentProperty=e.componentProperty,this.states=e.states,this.valueNodeName=e.valueNodeName,this.valueNodeProperty=e.valueNodeProperty,this.valueNodeProperty===we.VisualResponseProperty.TRANSFORM&&(this.minNodeName=e.minNodeName,this.maxNodeName=e.maxNodeName),this.value=0,this.updateFromComponent(vd)}updateFromComponent({xAxis:e,yAxis:t,button:s,state:n}){const{normalizedXAxis:i,normalizedYAxis:r}=Md(e,t);switch(this.componentProperty){case we.ComponentProperty.X_AXIS:this.value=this.states.includes(n)?i:.5;break;case we.ComponentProperty.Y_AXIS:this.value=this.states.includes(n)?r:.5;break;case we.ComponentProperty.BUTTON:this.value=this.states.includes(n)?s:0;break;case we.ComponentProperty.STATE:this.valueNodeProperty===we.VisualResponseProperty.VISIBILITY?this.value=this.states.includes(n):this.value=this.states.includes(n)?1:0;break;default:throw new Error(`Unexpected visualResponse componentProperty ${this.componentProperty}`)}}}class Rd{constructor(e,t){if(!e||!t||!t.visualResponses||!t.gamepadIndices||Object.keys(t.gamepadIndices).length===0)throw new Error("Invalid arguments supplied");this.id=e,this.type=t.type,this.rootNodeName=t.rootNodeName,this.touchPointNodeName=t.touchPointNodeName,this.visualResponses={},Object.keys(t.visualResponses).forEach(s=>{const n=new Dd(t.visualResponses[s]);this.visualResponses[s]=n}),this.gamepadIndices=Object.assign({},t.gamepadIndices),this.values={state:we.ComponentState.DEFAULT,button:this.gamepadIndices.button!==void 0?0:void 0,xAxis:this.gamepadIndices.xAxis!==void 0?0:void 0,yAxis:this.gamepadIndices.yAxis!==void 0?0:void 0}}get data(){return{id:this.id,...this.values}}updateFromGamepad(e){if(this.values.state=we.ComponentState.DEFAULT,this.gamepadIndices.button!==void 0&&e.buttons.length>this.gamepadIndices.button){const t=e.buttons[this.gamepadIndices.button];this.values.button=t.value,this.values.button=this.values.button<0?0:this.values.button,this.values.button=this.values.button>1?1:this.values.button,t.pressed||this.values.button===1?this.values.state=we.ComponentState.PRESSED:(t.touched||this.values.button>we.ButtonTouchThreshold)&&(this.values.state=we.ComponentState.TOUCHED)}this.gamepadIndices.xAxis!==void 0&&e.axes.length>this.gamepadIndices.xAxis&&(this.values.xAxis=e.axes[this.gamepadIndices.xAxis],this.values.xAxis=this.values.xAxis<-1?-1:this.values.xAxis,this.values.xAxis=this.values.xAxis>1?1:this.values.xAxis,this.values.state===we.ComponentState.DEFAULT&&Math.abs(this.values.xAxis)>we.AxisTouchThreshold&&(this.values.state=we.ComponentState.TOUCHED)),this.gamepadIndices.yAxis!==void 0&&e.axes.length>this.gamepadIndices.yAxis&&(this.values.yAxis=e.axes[this.gamepadIndices.yAxis],this.values.yAxis=this.values.yAxis<-1?-1:this.values.yAxis,this.values.yAxis=this.values.yAxis>1?1:this.values.yAxis,this.values.state===we.ComponentState.DEFAULT&&Math.abs(this.values.yAxis)>we.AxisTouchThreshold&&(this.values.state=we.ComponentState.TOUCHED)),Object.values(this.visualResponses).forEach(t=>{t.updateFromComponent(this.values)})}}class _d{constructor(e,t,s){if(!e)throw new Error("No xrInputSource supplied");if(!t)throw new Error("No profile supplied");this.xrInputSource=e,this.assetUrl=s,this.id=t.profileId,this.layoutDescription=t.layouts[e.handedness],this.components={},Object.keys(this.layoutDescription.components).forEach(n=>{const i=this.layoutDescription.components[n];this.components[n]=new Rd(n,i)}),this.updateFromGamepad()}get gripSpace(){return this.xrInputSource.gripSpace}get targetRaySpace(){return this.xrInputSource.targetRaySpace}get data(){const e=[];return Object.values(this.components).forEach(t=>{e.push(t.data)}),e}updateFromGamepad(){Object.values(this.components).forEach(e=>{e.updateFromGamepad(this.xrInputSource.gamepad)})}}const Ld="https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles",Td="generic-trigger";class Nd extends ct{constructor(){super(),this.motionController=null,this.envMap=null}setEnvironmentMap(e){return this.envMap==e?this:(this.envMap=e,this.traverse(t=>{t.isMesh&&(t.material.envMap=this.envMap,t.material.needsUpdate=!0)}),this)}updateMatrixWorld(e){super.updateMatrixWorld(e),this.motionController&&(this.motionController.updateFromGamepad(),Object.values(this.motionController.components).forEach(t=>{Object.values(t.visualResponses).forEach(s=>{const{valueNode:n,minNode:i,maxNode:r,value:o,valueNodeProperty:d}=s;n&&(d===we.VisualResponseProperty.VISIBILITY?n.visible=o:d===we.VisualResponseProperty.TRANSFORM&&(n.quaternion.slerpQuaternions(i.quaternion,r.quaternion,o),n.position.lerpVectors(i.position,r.position,o)))})}))}}function Gd(a,e){Object.values(a.components).forEach(t=>{const{type:s,touchPointNodeName:n,visualResponses:i}=t;if(s===we.ComponentType.TOUCHPAD)if(t.touchPointNode=e.getObjectByName(n),t.touchPointNode){const r=new Jt(.001),o=new Ge({color:255}),d=new U(r,o);t.touchPointNode.add(d)}else console.warn(`Could not find touch dot, ${t.touchPointNodeName}, in touchpad component ${t.id}`);Object.values(i).forEach(r=>{const{valueNodeName:o,minNodeName:d,maxNodeName:A,valueNodeProperty:c}=r;if(c===we.VisualResponseProperty.TRANSFORM){if(r.minNode=e.getObjectByName(d),r.maxNode=e.getObjectByName(A),!r.minNode){console.warn(`Could not find ${d} in the model`);return}if(!r.maxNode){console.warn(`Could not find ${A} in the model`);return}}r.valueNode=e.getObjectByName(o),r.valueNode||console.warn(`Could not find ${o} in the model`)})})}function xn(a,e){Gd(a.motionController,e),a.envMap&&e.traverse(t=>{t.isMesh&&(t.material.envMap=a.envMap,t.material.needsUpdate=!0)}),a.add(e)}class kd{constructor(e=null,t=null){this.gltfLoader=e,this.path=Ld,this._assetCache={},this.onLoad=t,this.gltfLoader||(this.gltfLoader=new Ei)}setPath(e){return this.path=e,this}createControllerModel(e){const t=new Nd;let s=null;return e.addEventListener("connected",n=>{const i=n.data;i.targetRayMode!=="tracked-pointer"||!i.gamepad||i.hand||xd(i,this.path,Td).then(({profile:r,assetPath:o})=>{t.motionController=new _d(i,r,o);const d=this._assetCache[t.motionController.assetUrl];if(d)s=d.scene.clone(),xn(t,s),this.onLoad&&this.onLoad(s);else{if(!this.gltfLoader)throw new Error("GLTFLoader not set.");this.gltfLoader.setPath(""),this.gltfLoader.load(t.motionController.assetUrl,A=>{this._assetCache[t.motionController.assetUrl]=A,s=A.scene.clone(),xn(t,s),this.onLoad&&this.onLoad(s)},null,()=>{throw new Error(`Asset ${t.motionController.assetUrl} missing or malformed.`)})}}).catch(r=>{console.warn(r)})}),e.addEventListener("disconnected",()=>{t.motionController=null,t.remove(s),s=null}),t}}class jd{constructor(e,t){const s=e.selector,n=e.signals;let i=null,r=null,o=null;const d=new Oa,A=async l=>{d.copy(e.camera);const u=document.getElementById("sidebar");if(u.style.width="350px",u.style.height="700px",i===null){let b=function(v){const B=v.target;f.userData.active=!1,y.userData.active=!1,B===f&&(f.userData.active=!0,f.add(p)),B===y&&(y.userData.active=!0,y.add(p)),h.setFromXRController(B);const G=s.getIntersects(h);G.length>0&&G[0].object===r.children[0]||n.intersectionsDetected.dispatch(G)},E=function(v){const B=v.target;if(B.userData.active!==!1)switch(t.getRaycaster().setFromXRController(B),v.type){case"selectstart":t.pointerDown(null);break;case"selectend":t.pointerUp(null);break;case"move":t.pointerHover(null),t.pointerMove(null);break}};const m=new pa;m.setAttribute("position",new Pa([0,0,0,0,0,-5],3));const p=new tt(m),h=new Ht;i=new ft;const f=o.xr.getController(0);f.addEventListener("select",b),f.addEventListener("selectstart",E),f.addEventListener("selectend",E),f.addEventListener("move",E),f.userData.active=!1,i.add(f);const y=o.xr.getController(1);y.addEventListener("select",b),y.addEventListener("selectstart",E),y.addEventListener("selectend",E),y.addEventListener("move",E),y.userData.active=!0,i.add(y);const C=new kd,M=o.xr.getControllerGrip(0);M.add(C.createControllerModel(M)),i.add(M);const _=o.xr.getControllerGrip(1);_.add(C.createControllerModel(_)),i.add(_),r=new Oo;const S=new Fo(u);S.name="picker",S.position.set(.5,1,-.5),S.rotation.y=-.5,r.add(S),r.listenToXRControllerEvents(f),r.listenToXRControllerEvents(y)}e.sceneHelpers.add(r),e.sceneHelpers.add(i),o.xr.enabled=!0,o.xr.addEventListener("sessionend",c),await o.xr.setSession(l)},c=async()=>{e.sceneHelpers.remove(r),e.sceneHelpers.remove(i);const l=document.getElementById("sidebar");l.style.width="",l.style.height="",o.xr.removeEventListener("sessionend",c),o.xr.enabled=!1,e.camera.copy(d),n.windowResize.dispatch(),n.leaveXR.dispatch()},g={optionalFeatures:["local-floor"]};n.enterXR.add(l=>{"xr"in navigator&&navigator.xr.requestSession(l,g).then(A)}),n.offerXR.add(function(l){"xr"in navigator&&(navigator.xr.offerSession(l,g).then(A),n.leaveXR.add(function(){navigator.xr.offerSession(l,g).then(A)}))}),n.rendererCreated.add(l=>{o=l})}}class Vd extends Ka{constructor(e=16777215){super(),this.name="ColorEnvironment";const t=new Jt(1,16,16),s=new Ge({color:e,side:On});this.add(new U(t,s))}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}}class Fd extends Ka{constructor(){super(),this.name="RoomEnvironment",this.position.y=-3.5;const e=new Me;e.deleteAttribute("uv");const t=new ue({side:On}),s=new ue,n=new Ns(16777215,900,28,2);n.position.set(.418,16.199,.3),this.add(n);const i=new U(e,t);i.position.set(-.757,13.219,.717),i.scale.set(31.713,28.305,28.591),this.add(i);const r=new Fn(e,s,6),o=new ct;o.position.set(-10.906,2.009,1.846),o.rotation.set(0,-.195,0),o.scale.set(2.328,7.905,4.651),o.updateMatrix(),r.setMatrixAt(0,o.matrix),o.position.set(-5.607,-.754,-.758),o.rotation.set(0,.994,0),o.scale.set(1.97,1.534,3.955),o.updateMatrix(),r.setMatrixAt(1,o.matrix),o.position.set(6.167,.857,7.803),o.rotation.set(0,.561,0),o.scale.set(3.927,6.285,3.687),o.updateMatrix(),r.setMatrixAt(2,o.matrix),o.position.set(-2.017,.018,6.124),o.rotation.set(0,.333,0),o.scale.set(2.002,4.566,2.064),o.updateMatrix(),r.setMatrixAt(3,o.matrix),o.position.set(2.291,-.756,-2.621),o.rotation.set(0,-.286,0),o.scale.set(1.546,1.552,1.496),o.updateMatrix(),r.setMatrixAt(4,o.matrix),o.position.set(-2.193,-.369,-5.547),o.rotation.set(0,.516,0),o.scale.set(3.875,3.487,2.986),o.updateMatrix(),r.setMatrixAt(5,o.matrix),this.add(r);const d=new U(e,Kt(50));d.position.set(-16.116,14.37,8.208),d.scale.set(.1,2.428,2.739),this.add(d);const A=new U(e,Kt(50));A.position.set(-16.109,18.021,-8.207),A.scale.set(.1,2.425,2.751),this.add(A);const c=new U(e,Kt(17));c.position.set(14.904,12.198,-1.832),c.scale.set(.15,4.265,6.331),this.add(c);const g=new U(e,Kt(43));g.position.set(-.462,8.89,14.52),g.scale.set(4.38,5.441,.088),this.add(g);const l=new U(e,Kt(20));l.position.set(3.235,11.486,-12.541),l.scale.set(2.5,2,.1),this.add(l);const u=new U(e,Kt(100));u.position.set(0,20,0),u.scale.set(1,.1,1),this.add(u)}dispose(){const e=new Set;this.traverse(t=>{t.isMesh&&(e.add(t.geometry),e.add(t.material))});for(const t of e)t.dispose()}}function Kt(a){return new Hn({color:0,emissive:16777215,emissiveIntensity:a})}function xi(a){let e=null;function t(c,g){e===null&&(e=new kr(a),e.filterGlossyFactor=.5),e.setScene(c,g)}function s(){e!==null&&e.updateCamera()}function n(){e!==null&&e.updateEnvironment()}function i(){e!==null&&e.updateMaterials()}function r(){e!==null&&e.updateEnvironment()}function o(){e!==null&&e.renderSample()}function d(){e!==null&&e.updateCamera()}function A(){if(e!==null)return e.samples}return{init:t,setSize:s,setBackground:n,setEnvironment:r,updateMaterials:i,update:o,reset:d,getSamples:A}}function Il(a){const e=a.selector,t=a.signals,s=new ie;s.setId("viewport"),s.setPosition("absolute"),s.add(new Go(a)),s.add(new ko(a));let n=null,i=null,r=null;const o=a.camera,d=a.scene,A=a.sceneHelpers,c=[10066329,7829367],g=[5592405,8947848],l=new ft,u=new $s(30,30);u.material.color.setHex(c[0]),u.material.vertexColors=!1,l.add(u);const m=new $s(30,6);m.material.color.setHex(c[1]),m.material.vertexColors=!1,l.add(m);const p=new Vo(o,s),h=new Ya,b=new fr(h);b.material.depthTest=!1,b.material.transparent=!0,b.visible=!1,A.add(b);let E=null,f=null,y=null;const C=new So(o);C.addEventListener("axis-changed",function(){a.viewportShading!=="realistic"&&X()}),C.addEventListener("objectChange",function(){t.objectChanged.dispatch(C.object)}),C.addEventListener("mouseDown",function(){const T=C.object;E=T.position.clone(),f=T.rotation.clone(),y=T.scale.clone(),O.enabled=!1}),C.addEventListener("mouseUp",function(){const T=C.object;if(T!==void 0)switch(C.getMode()){case"translate":E.equals(T.position)||a.execute(new Wa(a,T,T.position,E));break;case"rotate":f.equals(T.rotation)||a.execute(new Os(a,T,T.rotation,f));break;case"scale":y.equals(T.scale)||a.execute(new Hs(a,T,T.scale,y));break}O.enabled=!0}),A.add(C.getHelper()),new jd(a,C);function M(){for(const T in a.cameras){const z=a.cameras[T],ee=s.dom.offsetWidth/s.dom.offsetHeight;z.isPerspectiveCamera?z.aspect=ee:(z.left=-ee,z.right=ee),z.updateProjectionMatrix();const se=a.helpers[z.id];se&&se.update()}}const _=new Je,S=new Je,v=new Je;function B(T,z,ee){const se=T.getBoundingClientRect();return[(z-se.left)/se.width,(ee-se.top)/se.height]}function G(){if(_.distanceTo(S)===0){const T=e.getPointerIntersects(S,o);t.intersectionsDetected.dispatch(T),X()}}function j(T){if(T.target!==n.domElement)return;const z=B(s.dom,T.clientX,T.clientY);_.fromArray(z),document.addEventListener("mouseup",$)}function $(T){const z=B(s.dom,T.clientX,T.clientY);S.fromArray(z),G(),document.removeEventListener("mouseup",$)}function Y(T){const z=T.changedTouches[0],ee=B(s.dom,z.clientX,z.clientY);_.fromArray(ee),document.addEventListener("touchend",W)}function W(T){const z=T.changedTouches[0],ee=B(s.dom,z.clientX,z.clientY);S.fromArray(ee),G(),document.removeEventListener("touchend",W)}function N(T){const z=B(s.dom,T.clientX,T.clientY);v.fromArray(z);const ee=e.getPointerIntersects(v,o);if(ee.length>0){const se=ee[0];t.objectFocused.dispatch(se.object)}}s.dom.addEventListener("mousedown",j),s.dom.addEventListener("touchstart",Y,{passive:!1}),s.dom.addEventListener("dblclick",N);const O=new No(o);O.addEventListener("change",function(){t.cameraChanged.dispatch(o),t.refreshSidebarObject3D.dispatch(o)}),p.center=O.center,a.controls=O,t.editorCleared.add(function(){O.center.set(0,0,0),r&&r.reset(),q(),t.sceneEnvironmentChanged.dispatch(a.environmentType)}),t.transformModeChanged.add(function(T){C.setMode(T),X()}),t.snapChanged.add(function(T){C.setTranslationSnap(T)}),t.spaceChanged.add(function(T){C.setSpace(T),X()}),t.rendererUpdated.add(function(){d.traverse(function(T){T.material!==void 0&&(T.material.needsUpdate=!0)}),X()}),t.rendererCreated.add(function(T){if(n!==null){n.setAnimationLoop(null);try{i.dispose()}catch(z){console.warn("PMREMGenerator dispose error:",z)}n.dispose(),s.dom.removeChild(n.domElement)}if(O.connect(T.domElement),C.connect(T.domElement),n=T,n.setAnimationLoop(k),n.setClearColor(11184810),window.matchMedia){const z=window.matchMedia("(prefers-color-scheme: dark)");z.addEventListener("change",function(ee){n.setClearColor(ee.matches?3355443:11184810),vn(u,m,ee.matches?g:c),X()}),n.setClearColor(z.matches?3355443:11184810),vn(u,m,z.matches?g:c)}n.getClearColor(a.viewportColor),n.setPixelRatio(window.devicePixelRatio),n.setSize(s.dom.offsetWidth,s.dom.offsetHeight),n.isWebGLRenderer?(i=new en(n),i.compileEquirectangularShader(),r=new xi(n)):(i=new en(n),r=null),s.dom.appendChild(n.domElement),t.sceneEnvironmentChanged.dispatch(a.environmentType),X()}),t.rendererDetectKTX2Support.add(function(T){T.detectSupport(n)}),t.sceneGraphChanged.add(function(){q(),X()}),t.cameraChanged.add(function(){r&&r.reset(),X()}),t.objectSelected.add(function(T){b.visible=!1,C.detach(),T!==null&&T!==d&&T!==o&&(h.setFromObject(T,!0),h.isEmpty()===!1&&(b.visible=!0),C.attach(T)),X()}),t.objectFocused.add(function(T){O.focus(T)}),t.geometryChanged.add(function(T){T!==void 0&&h.setFromObject(T,!0),q(),X()}),t.objectChanged.add(function(T){a.selected===T&&h.setFromObject(T,!0),T.isPerspectiveCamera&&T.updateProjectionMatrix();const z=a.helpers[T.id];z!==void 0&&z.isSkeletonHelper!==!0&&z.update(),q(),X()}),t.objectRemoved.add(function(T){O.enabled=!0,T===C.object&&C.detach()}),t.materialChanged.add(function(){K(),X()}),t.sceneBackgroundChanged.add(function(T,z,ee,se,fe,Ke,ut,$e){switch(a.backgroundType=T,d.background=null,T){case"Color":d.background=new Fe(z);break;case"Texture":ee&&(ee.colorSpace=fe,ee.needsUpdate=!0,d.background=ee);break;case"Equirectangular":se&&(se.mapping=Ta,se.colorSpace=fe,se.needsUpdate=!0,d.background=se,d.backgroundBlurriness=Ke,d.backgroundIntensity=ut,d.backgroundRotation.y=$e*ne.DEG2RAD);break}H&&t.sceneEnvironmentChanged.dispatch(a.environmentType),P(),X()});let H=!1;t.sceneEnvironmentChanged.add(function(T,z){switch(a.environmentType=T,d.environment=null,H=!1,T){case"Equirectangular":z&&(d.environment=z,d.environment.mapping=Ta);break;case"Default":H=!0,d.background!==null?d.background.isColor?d.environment=i.fromScene(new Vd(d.background),.04).texture:d.background.isTexture&&(d.environment=d.background,d.environment.mapping=Ta,d.environmentRotation.y=d.backgroundRotation.y):d.environment=i.fromScene(new Fd,.04).texture;break}V(),X()}),t.sceneFogChanged.add(function(T,z,ee,se,fe){switch(T){case"None":d.fog=null;break;case"Fog":d.fog=new Cr(z,ee,se);break;case"FogExp2":d.fog=new yr(z,fe);break}X()}),t.sceneFogSettingsChanged.add(function(T,z,ee,se,fe){switch(T){case"Fog":d.fog.color.setHex(z),d.fog.near=ee,d.fog.far=se;break;case"FogExp2":d.fog.color.setHex(z),d.fog.density=fe;break}X()}),t.viewportCameraChanged.add(function(){const T=a.viewportCamera;(T.isPerspectiveCamera||T.isOrthographicCamera)&&M(),O.enabled=T===a.camera,q(),X()}),t.viewportShadingChanged.add(function(){switch(a.viewportShading){case"realistic":r&&r.init(d,a.viewportCamera);break;case"solid":d.overrideMaterial=null;break;case"normals":d.overrideMaterial=new Jn;break;case"wireframe":d.overrideMaterial=new Ge({color:0,wireframe:!0});break}X()}),t.windowResize.add(function(){M(),n!==null&&(n.setSize(s.dom.offsetWidth,s.dom.offsetHeight),r&&r.setSize(s.dom.offsetWidth,s.dom.offsetHeight),X())}),t.showHelpersChanged.add(function(T){l.visible=T.gridHelper,A.traverse(function(z){switch(z.type){case"CameraHelper":{z.visible=T.cameraHelpers;break}case"PointLightHelper":case"DirectionalLightHelper":case"SpotLightHelper":case"HemisphereLightHelper":{z.visible=T.lightHelpers;break}case"SkeletonHelper":{z.visible=T.skeletonHelpers;break}}}),X()}),t.cameraResetted.add(M);let F=0;const D=new Ir;function k(){D.update();const T=a.mixer,z=D.getDelta();let ee=!1;const se=T.stats.actions;(se.inUse>0||F>0)&&(F=se.inUse,T.update(z),ee=!0,a.selected!==null&&(a.selected.updateWorldMatrix(!1,!0),b.box.setFromObject(a.selected,!0)),t.morphTargetsUpdated.dispatch()),p.animating===!0&&(p.update(z),ee=!0),n.xr.isPresenting===!0&&(ee=!0),ee===!0&&X(),Q()}function q(){r&&a.viewportShading==="realistic"&&r.init(d,a.viewportCamera)}function P(){r&&a.viewportShading==="realistic"&&r.setBackground(d.background,d.backgroundBlurriness)}function V(){r&&a.viewportShading==="realistic"&&r.setEnvironment(d.environment)}function K(){r&&a.viewportShading==="realistic"&&r.updateMaterials()}function Q(){r&&a.viewportShading==="realistic"&&(r.update(),a.signals.pathTracerUpdated.dispatch(r.getSamples()))}let R=0,L=0;function X(){n!==null&&(R=performance.now(),n.setViewport(0,0,s.dom.offsetWidth,s.dom.offsetHeight),n.render(d,a.viewportCamera),o===a.viewportCamera&&(n.autoClear=!1,l.visible===!0&&n.render(l,o),A.visible===!0&&n.render(A,o),n.xr.isPresenting!==!0&&p.render(n),n.autoClear=!0),L=performance.now(),a.signals.sceneRendered.dispatch(L-R))}return s}function vn(a,e,t){a.material.color.setHex(t[0]),e.material.color.setHex(t[1])}function wl(a){const e=a.signals,t=a.strings,s=new ie;s.setId("toolbar");const n=document.createElement("img");n.title=t.getKey("toolbar/translate"),n.src="images/translate.svg";const i=new de;i.dom.className="Button selected",i.dom.appendChild(n),i.onClick(function(){e.transformModeChanged.dispatch("translate")}),s.add(i);const r=document.createElement("img");r.title=t.getKey("toolbar/rotate"),r.src="images/rotate.svg";const o=new de;o.dom.appendChild(r),o.onClick(function(){e.transformModeChanged.dispatch("rotate")}),s.add(o);const d=document.createElement("img");d.title=t.getKey("toolbar/scale"),d.src="images/scale.svg";const A=new de;return A.dom.appendChild(d),A.onClick(function(){e.transformModeChanged.dispatch("scale")}),s.add(A),e.transformModeChanged.add(function(c){switch(i.dom.classList.remove("selected"),o.dom.classList.remove("selected"),A.dom.classList.remove("selected"),c){case"translate":i.dom.classList.add("selected");break;case"rotate":o.dom.classList.add("selected");break;case"scale":A.dom.classList.add("selected");break}}),s}const Et=new Map;class Va extends dt{constructor(e){super();const t=this,s=document.createElement("form"),n=document.createElement("input");n.type="file",n.addEventListener("change",function(o){r(o.target.files[0])}),s.appendChild(n);const i=document.createElement("canvas");i.width=32,i.height=16,i.style.cursor="pointer",i.style.marginRight="5px",i.style.border="1px solid #888",i.addEventListener("click",function(){n.click()}),i.addEventListener("drop",function(o){o.preventDefault(),o.stopPropagation(),r(o.dataTransfer.files[0])}),this.dom.appendChild(i);async function r(o){const d=o.name.split(".").pop().toLowerCase(),A=new FileReader,c=`${o.lastModified}_${o.size}_${o.name}`;if(Et.has(c)){const g=Et.get(c);t.setValue(g),t.onChangeCallback&&t.onChangeCallback(g)}else d==="hdr"||d==="pic"?(A.addEventListener("load",async function(g){const{HDRLoader:l}=await te(async()=>{const{HDRLoader:m}=await import("./HDRLoader-BrXVc7LT.js");return{HDRLoader:m}},__vite__mapDeps([25,1]));new l().load(g.target.result,function(m){m.sourceFile=o.name,Et.set(c,m),t.setValue(m),t.onChangeCallback&&t.onChangeCallback(m)})}),A.readAsDataURL(o)):d==="tga"?(A.addEventListener("load",async function(g){const{TGALoader:l}=await te(async()=>{const{TGALoader:m}=await Promise.resolve().then(()=>Pr);return{TGALoader:m}},void 0);new l().load(g.target.result,function(m){m.colorSpace=Ye,m.sourceFile=o.name,Et.set(c,m),t.setValue(m),t.onChangeCallback&&t.onChangeCallback(m)})},!1),A.readAsDataURL(o)):d==="ktx2"?(A.addEventListener("load",async function(g){const{KTX2Loader:l}=await te(async()=>{const{KTX2Loader:h}=await import("./KTX2Loader-6uHWZIm4.js");return{KTX2Loader:h}},__vite__mapDeps([24,1])),u=g.target.result,m=URL.createObjectURL(new Blob([u])),p=new l;p.setTranscoderPath("../../examples/jsm/libs/basis/"),e.signals.rendererDetectKTX2Support.dispatch(p),p.load(m,function(h){h.colorSpace=Ye,h.sourceFile=o.name,h.needsUpdate=!0,Et.set(c,h),t.setValue(h),t.onChangeCallback&&t.onChangeCallback(h),p.dispose()})}),A.readAsArrayBuffer(o)):d==="exr"?(A.addEventListener("load",async function(g){const{EXRLoader:l}=await te(async()=>{const{EXRLoader:h}=await import("./EXRLoader-D9GqRU5M.js");return{EXRLoader:h}},__vite__mapDeps([2,1,3])),u=g.target.result,m=URL.createObjectURL(new Blob([u]));new l().load(m,function(h){h.sourceFile=o.name,h.needsUpdate=!0,Et.set(c,h),t.setValue(h),t.onChangeCallback&&t.onChangeCallback(h)})}),A.readAsArrayBuffer(o)):o.type.match("image.*")&&(A.addEventListener("load",function(g){const l=document.createElement("img");l.addEventListener("load",function(){const u=new ys(this);u.sourceFile=o.name,u.needsUpdate=!0,Et.set(c,u),t.setValue(u),t.onChangeCallback&&t.onChangeCallback(u)},!1),l.src=g.target.result},!1),A.readAsDataURL(o));s.reset()}this.texture=null,this.onChangeCallback=null}getValue(){return this.texture}setValue(e){const t=this.dom.children[0],s=t.getContext("2d");if(s&&s.clearRect(0,0,t.width,t.height),e!==null){const n=e.image;if(n!=null&&n.width>0){t.title=e.sourceFile;const i=t.width/n.width;if(e.isDataTexture||e.isCompressedTexture){const r=Ud(e);s.drawImage(r,0,0,n.width*i,n.height*i)}else s.drawImage(n,0,0,n.width*i,n.height*i)}else t.title=e.sourceFile+" (error)"}else t.title="empty";this.texture=e}setColorSpace(e){const t=this.getValue();return t!==null&&(t.colorSpace=e),this}onChange(e){return this.onChangeCallback=e,this}}class vi extends le{constructor(e){super(),this.dom.className="Outliner",this.dom.tabIndex=0;const t=this;this.scene=e.scene,this.dom.addEventListener("keydown",function(s){switch(s.code){case"ArrowUp":case"ArrowDown":s.preventDefault(),s.stopPropagation();break}}),this.dom.addEventListener("keyup",function(s){switch(s.code){case"ArrowUp":t.selectIndex(t.selectedIndex-1);break;case"ArrowDown":t.selectIndex(t.selectedIndex+1);break}}),this.editor=e,this.options=[],this.selectedIndex=-1,this.selectedValue=null}selectIndex(e){if(e>=0&&e<this.options.length){this.setValue(this.options[e].value);const t=new Event("change",{bubbles:!0,cancelable:!0});this.dom.dispatchEvent(t)}}setOptions(e){const t=this;for(;t.dom.children.length>0;)t.dom.removeChild(t.dom.firstChild);function s(){t.setValue(this.value);const g=new Event("change",{bubbles:!0,cancelable:!0});t.dom.dispatchEvent(g)}let n;function i(){n=this}function r(g){g.dataTransfer.setData("text","foo")}function o(g){if(this===n)return;const l=g.offsetY/this.clientHeight;l<.25?this.className="option dragTop":l>.75?this.className="option dragBottom":this.className="option drag"}function d(){this!==n&&(this.className="option")}function A(g){if(this===n||n===void 0)return;this.className="option";const l=t.scene,u=l.getObjectById(n.value),m=g.offsetY/this.clientHeight;if(m<.25){const p=l.getObjectById(this.value);c(u,p.parent,p)}else if(m>.75){let p,h;this.nextSibling!==null?(p=l.getObjectById(this.nextSibling.value),h=p.parent):(p=null,h=l.getObjectById(this.value).parent),c(u,h,p)}else{const p=l.getObjectById(this.value);c(u,p)}}function c(g,l,u){u===null&&(u=void 0);let m=!1;if(g.traverse(function(b){b===l&&(m=!0)}),m)return;const p=t.editor;p.execute(new hi(p,g,l,u));const h=new Event("change",{bubbles:!0,cancelable:!0});t.dom.dispatchEvent(h)}t.options=[];for(let g=0;g<e.length;g++){const l=e[g];l.className="option",t.dom.appendChild(l),t.options.push(l),l.addEventListener("click",s),l.draggable===!0&&(l.addEventListener("drag",i),l.addEventListener("dragstart",r),l.addEventListener("dragover",o),l.addEventListener("dragleave",d),l.addEventListener("drop",A))}return t}getValue(){return this.selectedValue}setValue(e){for(let t=0;t<this.options.length;t++){const s=this.options[t];if(s.value===e){s.classList.add("active");const n=s.offsetTop-this.dom.offsetTop,r=n+s.offsetHeight-this.dom.offsetHeight;this.dom.scrollTop>n?this.dom.scrollTop=n:this.dom.scrollTop<r&&(this.dom.scrollTop=r),this.selectedIndex=t}else s.classList.remove("active")}return this.selectedValue=e,this}}class Mi extends dt{constructor(){super(),this.dom.style.display="inline-block",this.pointsList=new le,this.add(this.pointsList),this.pointsUI=[],this.lastPointIdx=0,this.onChangeCallback=null,this.update=()=>{this.onChangeCallback!==null&&this.onChangeCallback()}}onChange(e){return this.onChangeCallback=e,this}clear(){for(let e=this.pointsUI.length-1;e>=0;--e)this.deletePointRow(e,!1);this.lastPointIdx=0}deletePointRow(e,t=!0){this.pointsUI[e]&&(this.pointsList.remove(this.pointsUI[e].row),this.pointsUI.splice(e,1),t===!0&&this.update(),this.lastPointIdx--)}}class Kd extends Mi{constructor(){super();const e=new I;this.add(e);const t=new de("+");t.onClick(()=>{if(this.pointsUI.length===0)this.pointsList.add(this.createPointRow(0,0));else{const s=this.pointsUI[this.pointsUI.length-1];this.pointsList.add(this.createPointRow(s.x.getValue(),s.y.getValue()))}this.update()}),e.add(t)}getValue(){const e=[];let t=0;for(let s=0;s<this.pointsUI.length;s++){const n=this.pointsUI[s];n&&(e.push(new Je(n.x.getValue(),n.y.getValue())),++t,n.lbl.setValue(t))}return e}setValue(e,t=!0){this.clear();for(let s=0;s<e.length;s++){const n=e[s];this.pointsList.add(this.createPointRow(n.x,n.y))}return t===!0&&this.update(),this}createPointRow(e,t){const s=new le,n=new w(this.lastPointIdx+1).setWidth("20px"),i=new J(e).setWidth("30px").onChange(this.update),r=new J(t).setWidth("30px").onChange(this.update),o=this,d=new de("-").onClick(function(){if(o.isEditing)return;const A=o.pointsList.getIndexOfChild(s);o.deletePointRow(A)});return this.pointsUI.push({row:s,lbl:n,x:i,y:r}),++this.lastPointIdx,s.add(n,i,r,d),s}}class Pd extends Mi{constructor(){super();const e=new I;this.add(e);const t=new de("+");t.onClick(()=>{if(this.pointsUI.length===0)this.pointsList.add(this.createPointRow(0,0,0));else{const s=this.pointsUI[this.pointsUI.length-1];this.pointsList.add(this.createPointRow(s.x.getValue(),s.y.getValue(),s.z.getValue()))}this.update()}),e.add(t)}getValue(){const e=[];let t=0;for(let s=0;s<this.pointsUI.length;s++){const n=this.pointsUI[s];n&&(e.push(new Z(n.x.getValue(),n.y.getValue(),n.z.getValue())),++t,n.lbl.setValue(t))}return e}setValue(e,t=!0){this.clear();for(let s=0;s<e.length;s++){const n=e[s];this.pointsList.add(this.createPointRow(n.x,n.y,n.z))}return t===!0&&this.update(),this}createPointRow(e,t,s){const n=new le,i=new w(this.lastPointIdx+1).setWidth("20px"),r=new J(e).setWidth("30px").onChange(this.update),o=new J(t).setWidth("30px").onChange(this.update),d=new J(s).setWidth("30px").onChange(this.update),A=this,c=new de("-").onClick(function(){if(A.isEditing)return;const g=A.pointsList.getIndexOfChild(n);A.deletePointRow(g)});return this.pointsUI.push({row:n,lbl:i,x:r,y:o,z:d}),++this.lastPointIdx,n.add(i,r,o,d,c),n}}class Ot extends dt{constructor(e,t){super(),this.setMarginRight("4px"),this.checkbox=new We(e),this.text=new w(t).setMarginLeft("3px"),this.add(this.checkbox),this.add(this.text)}getValue(){return this.checkbox.getValue()}setValue(e){return this.checkbox.setValue(e)}}let ia,va;function Ud(a){ia===void 0&&(ia=new(void 0)),va===void 0&&(va=new jr(new Ge));const e=a.image;return ia.setSize(e.width,e.height,!1),va.material.map=a,va.render(ia),ia.domElement}function Od(a){const e=a.signals,t=a.strings,s=new ie;s.setBorderTop("0"),s.setPaddingTop("20px");const n=new WeakMap;function i(Q,R){const L=document.createElement("div");if(L.draggable=R,L.innerHTML=A(Q),L.value=Q.id,n.has(Q)){const X=n.get(Q),T=document.createElement("span");T.classList.add("opener"),Q.children.length>0&&T.classList.add(X?"open":"closed"),T.addEventListener("click",function(){n.set(Q,n.get(Q)===!1),V()}),L.insertBefore(T,L.firstChild)}return L}function r(Q){if(Array.isArray(Q)){const R=[];for(let L=0;L<Q.length;L++)R.push(Q[L].name);return R.join(",")}return Q.name}function o(Q){return Q.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function d(Q){return Q.isScene?"Scene":Q.isCamera?"Camera":Q.isLight?"Light":Q.isMesh?"Mesh":Q.isLine?"Line":Q.isPoints?"Points":"Object3D"}function A(Q){let R=`<span class="type ${d(Q)}"></span> ${o(Q.name)}`;if(Q.isMesh){const L=Q.geometry,X=Q.material;R+=` <span class="type Geometry"></span> ${o(L.name)}`,R+=` <span class="type Material"></span> ${o(r(X))}`}return R+=c(Q.uuid),R}function c(Q){return a.scripts[Q]===void 0||a.scripts[Q].length===0?"":' <span class="type Script"></span>'}let g=!1;const l=new vi(a);l.setId("outliner"),l.onChange(function(){g=!0,a.selectById(parseInt(l.getValue())),g=!1}),l.onDblClick(function(){a.focusById(parseInt(l.getValue()))}),s.add(l),s.add(new Te);const u=new I,m=new ke().setOptions({Default:"Default",Color:"Color",Texture:"Texture",Equirectangular:"Equirect"}).setWidth("150px");m.setValue("Default"),m.onChange(function(){S(),v()}),u.add(new w(t.getKey("sidebar/scene/background")).setClass("Label")),u.add(m);const p=new fa().setValue("#000000").setMarginLeft("8px").onInput(S);u.add(p);const h=new Va(a).setMarginLeft("8px").onChange(S);h.setDisplay("none"),u.add(h);const b=new Va(a).setMarginLeft("8px").onChange(S);b.setDisplay("none"),u.add(b);const E=new I;E.setDisplay("none"),E.setMarginLeft("120px");const f=new ke().setOptions({[ss]:"No Color Space",[ot]:"srgb-linear",[Ye]:"srgb"}).setWidth("150px");f.setValue(ss),f.onChange(S),E.add(f),s.add(u),s.add(E);const y=new I;y.setDisplay("none"),y.setMarginLeft("120px");const C=new J(0).setWidth("40px").setRange(0,1).onChange(S);y.add(C);const M=new J(1).setWidth("40px").setRange(0,1/0).onChange(S);y.add(M);const _=new J(0).setWidth("40px").setRange(-180,180).setStep(10).setNudge(.1).setUnit("").onChange(S);y.add(_),s.add(y);function S(){e.sceneBackgroundChanged.dispatch(m.getValue(),p.getHexValue(),h.getValue(),b.getValue(),f.getValue(),C.getValue(),M.getValue(),_.getValue())}function v(){const Q=m.getValue();m.setWidth(Q==="Default"?"150px":"110px"),p.setDisplay(Q==="Color"?"":"none"),h.setDisplay(Q==="Texture"?"":"none"),b.setDisplay(Q==="Equirectangular"?"":"none"),y.setDisplay(Q==="Equirectangular"?"":"none"),Q==="Texture"||Q==="Equirectangular"?E.setDisplay(""):E.setDisplay("none")}const B=new I,G=new ke().setOptions({Default:"Default",Equirectangular:"Equirect",None:"None"}).setWidth("150px");G.setValue("Default"),G.onChange(function(){$(),Y()}),B.add(new w(t.getKey("sidebar/scene/environment")).setClass("Label")),B.add(G);const j=new Va(a).setMarginLeft("8px").onChange($);j.setDisplay("none"),B.add(j),s.add(B);function $(){e.sceneEnvironmentChanged.dispatch(G.getValue(),j.getValue())}function Y(){const Q=G.getValue();G.setWidth(Q!=="Equirectangular"?"150px":"110px"),j.setDisplay(Q==="Equirectangular"?"":"none")}function W(){e.sceneFogChanged.dispatch(H.getValue(),D.getHexValue(),k.getValue(),q.getValue(),P.getValue())}function N(){e.sceneFogSettingsChanged.dispatch(H.getValue(),D.getHexValue(),k.getValue(),q.getValue(),P.getValue())}const O=new I,H=new ke().setOptions({None:"None",Fog:"Linear",FogExp2:"Exponential"}).setWidth("150px");H.onChange(function(){W(),K()}),O.add(new w(t.getKey("sidebar/scene/fog")).setClass("Label")),O.add(H),s.add(O);const F=new I;F.setDisplay("none"),F.setMarginLeft("120px"),s.add(F);const D=new fa().setValue("#aaaaaa");D.onInput(N),F.add(D);const k=new J(.1).setWidth("40px").setRange(0,1/0).onChange(N);F.add(k);const q=new J(50).setWidth("40px").setRange(0,1/0).onChange(N);F.add(q);const P=new J(.05).setWidth("40px").setRange(0,.1).setStep(.001).setPrecision(3).onChange(N);F.add(P);function V(){const Q=a.camera,R=a.scene,L=[];switch(L.push(i(Q,!1)),L.push(i(R,!1)),(function X(T,z){for(let ee=0,se=T.length;ee<se;ee++){const fe=T[ee];n.has(fe)===!1&&n.set(fe,!1);const Ke=i(fe,!0);Ke.style.paddingLeft=z*18+"px",L.push(Ke),n.get(fe)===!0&&X(fe.children,z+1)}})(R.children,0),l.setOptions(L),a.selected!==null&&l.setValue(a.selected.id),m.setValue(a.backgroundType),a.backgroundType){case"Color":p.setHexValue(R.background.getHex());break;case"Texture":h.setValue(R.background),f.setValue(R.background.colorSpace);break;case"Equirectangular":b.setValue(R.background),C.setValue(R.backgroundBlurriness),M.setValue(R.backgroundIntensity),f.setValue(R.background.colorSpace);break;default:h.setValue(null),b.setValue(null),f.setValue(ss)}G.setValue(a.environmentType),a.environmentType==="Equirectangular"?j.setValue(R.environment):j.setValue(null),R.fog?(D.setHexValue(R.fog.color.getHex()),R.fog.isFog?(H.setValue("Fog"),k.setValue(R.fog.near),q.setValue(R.fog.far)):R.fog.isFogExp2&&(H.setValue("FogExp2"),P.setValue(R.fog.density))):H.setValue("None"),v(),Y(),K()}function K(){const Q=H.getValue();F.setDisplay(Q==="None"?"none":""),k.setDisplay(Q==="Fog"?"":"none"),q.setDisplay(Q==="Fog"?"":"none"),P.setDisplay(Q==="FogExp2"?"":"none")}return V(),e.editorCleared.add(V),e.sceneGraphChanged.add(V),e.objectChanged.add(function(Q){const R=l.options;for(let L=0;L<R.length;L++){const X=R[L];if(X.value===Q.id){const T=X.querySelector(":scope > .opener"),z=T?T.outerHTML:"";X.innerHTML=z+A(Q);return}}}),e.scriptAdded.add(function(){a.selected!==null&&e.objectChanged.dispatch(a.selected)}),e.scriptRemoved.add(function(){a.selected!==null&&e.objectChanged.dispatch(a.selected)}),e.objectSelected.add(function(Q){if(g!==!0)if(Q!==null&&Q.parent!==null){let R=!1,L=Q.parent;for(;L!==a.scene;)n.get(L)!==!0&&(n.set(L,!0),R=!0),L=L.parent;R&&V(),l.setValue(Q.id)}else l.setValue(null)}),e.sceneBackgroundChanged.add(function(){G.getValue()==="Background"&&($(),Y())}),s}function Hd(a){const e=a.strings,t=a.signals,s=a.mixer;function n(c){return c.isRunning()?e.getKey("sidebar/animations/stop"):e.getKey("sidebar/animations/play")}function i(c,g){const l=s.clipAction(c,g),u=new I,m=new w(c.name).setWidth("200px");u.add(m);const p=new de(n(l));return p.onClick(function(){l.isRunning()?l.stop():l.play(),p.setTextContent(n(l))}),u.add(p),u}t.objectSelected.add(function(c){if(c!==null&&c.animations.length>0){o.clear();const g=c.animations;for(const l of g)o.add(new i(l,c));r.setDisplay("")}else r.setDisplay("none")}),t.objectRemoved.add(function(c){c!==null&&c.animations.length>0&&s.uncacheRoot(c)});const r=new le;r.setMarginTop("20px"),r.setDisplay("none"),r.add(new w(e.getKey("sidebar/animations")).setTextTransform("uppercase")),r.add(new Te),r.add(new Te);const o=new le;r.add(o);const d=new I,A=new J(1).setWidth("60px").setRange(-10,10);return A.onChange(function(){s.timeScale=A.getValue()}),d.add(new w(e.getKey("sidebar/animations/timescale")).setClass("Label")),d.add(A),r.add(d),r}function Jd(a){const e=a.strings,t=a.signals,s=new ie;s.setBorderTop("0"),s.setPaddingTop("20px"),s.setDisplay("none");const n=new I,i=new w;n.add(new w(e.getKey("sidebar/object/type")).setClass("Label")),n.add(i),s.add(n);const r=new I,o=new gt().setWidth("102px").setFontSize("12px").setDisabled(!0),d=new de(e.getKey("sidebar/object/new")).setMarginLeft("7px").onClick(function(){o.setValue(ne.generateUUID()),a.execute(new Gs(a,a.selected,o.getValue()))});r.add(new w(e.getKey("sidebar/object/uuid")).setClass("Label")),r.add(o),r.add(d),s.add(r);const A=new I,c=new gt().setWidth("150px").setFontSize("12px").onChange(function(){a.execute(new Ie(a,a.selected,"name",c.getValue()))});A.add(new w(e.getKey("sidebar/object/name")).setClass("Label")),A.add(c),s.add(A);const g=new I,l=new J().setPrecision(3).setWidth("50px").onChange(Ae),u=new J().setPrecision(3).setWidth("50px").onChange(Ae),m=new J().setPrecision(3).setWidth("50px").onChange(Ae);g.add(new w(e.getKey("sidebar/object/position")).setClass("Label")),g.add(l,u,m),s.add(g);const p=new I,h=new J().setStep(10).setNudge(.1).setUnit("").setWidth("50px").onChange(Ae),b=new J().setStep(10).setNudge(.1).setUnit("").setWidth("50px").onChange(Ae),E=new J().setStep(10).setNudge(.1).setUnit("").setWidth("50px").onChange(Ae);p.add(new w(e.getKey("sidebar/object/rotation")).setClass("Label")),p.add(h,b,E),s.add(p);const f=new I,y=new J(1).setPrecision(3).setWidth("50px").onChange(Ae),C=new J(1).setPrecision(3).setWidth("50px").onChange(Ae),M=new J(1).setPrecision(3).setWidth("50px").onChange(Ae);f.add(new w(e.getKey("sidebar/object/scale")).setClass("Label")),f.add(y,C,M),s.add(f);const _=new I,S=new J().onChange(Ae);_.add(new w(e.getKey("sidebar/object/fov")).setClass("Label")),_.add(S),s.add(_);const v=new I,B=new J().onChange(Ae);v.add(new w(e.getKey("sidebar/object/left")).setClass("Label")),v.add(B),s.add(v);const G=new I,j=new J().onChange(Ae);G.add(new w(e.getKey("sidebar/object/right")).setClass("Label")),G.add(j),s.add(G);const $=new I,Y=new J().onChange(Ae);$.add(new w(e.getKey("sidebar/object/top")).setClass("Label")),$.add(Y),s.add($);const W=new I,N=new J().onChange(Ae);W.add(new w(e.getKey("sidebar/object/bottom")).setClass("Label")),W.add(N),s.add(W);const O=new I,H=new J().onChange(Ae);O.add(new w(e.getKey("sidebar/object/near")).setClass("Label")),O.add(H),s.add(O);const F=new I,D=new J().onChange(Ae);F.add(new w(e.getKey("sidebar/object/far")).setClass("Label")),F.add(D),s.add(F);const k=new I,q=new J().onChange(Ae);k.add(new w(e.getKey("sidebar/object/intensity")).setClass("Label")),k.add(q),s.add(k);const P=new I,V=new fa().onInput(Ae);P.add(new w(e.getKey("sidebar/object/color")).setClass("Label")),P.add(V),s.add(P);const K=new I,Q=new fa().onInput(Ae);K.add(new w(e.getKey("sidebar/object/groundcolor")).setClass("Label")),K.add(Q),s.add(K);const R=new I,L=new J().setRange(0,1/0).onChange(Ae);R.add(new w(e.getKey("sidebar/object/distance")).setClass("Label")),R.add(L),s.add(R);const X=new I,T=new J().setPrecision(3).setRange(0,Math.PI/2).onChange(Ae);X.add(new w(e.getKey("sidebar/object/angle")).setClass("Label")),X.add(T),s.add(X);const z=new I,ee=new J().setRange(0,1).onChange(Ae);z.add(new w(e.getKey("sidebar/object/penumbra")).setClass("Label")),z.add(ee),s.add(z);const se=new I,fe=new J().setRange(0,1/0).onChange(Ae);se.add(new w(e.getKey("sidebar/object/decay")).setClass("Label")),se.add(fe),s.add(se);const Ke=new I;Ke.add(new w(e.getKey("sidebar/object/shadow")).setClass("Label"));const ut=new Ot(!1,e.getKey("sidebar/object/cast")).onChange(Ae);Ke.add(ut);const $e=new Ot(!1,e.getKey("sidebar/object/receive")).onChange(Ae);Ke.add($e),s.add(Ke);const Mt=new I;Mt.add(new w(e.getKey("sidebar/object/shadowIntensity")).setClass("Label"));const Dt=new J(0).setRange(0,1).onChange(Ae);Mt.add(Dt),s.add(Mt);const Rt=new I;Rt.add(new w(e.getKey("sidebar/object/shadowBias")).setClass("Label"));const _t=new J(0).setPrecision(5).setStep(1e-4).setNudge(1e-5).onChange(Ae);Rt.add(_t),s.add(Rt);const Lt=new I;Lt.add(new w(e.getKey("sidebar/object/shadowNormalBias")).setClass("Label"));const Tt=new J(0).onChange(Ae);Lt.add(Tt),s.add(Lt);const Nt=new I;Nt.add(new w(e.getKey("sidebar/object/shadowRadius")).setClass("Label"));const Gt=new J(1).onChange(Ae);Nt.add(Gt),s.add(Nt);const Yt=new I,kt=new We().onChange(Ae);Yt.add(new w(e.getKey("sidebar/object/visible")).setClass("Label")),Yt.add(kt),s.add(Yt);const qt=new I,jt=new We().onChange(Ae);qt.add(new w(e.getKey("sidebar/object/frustumcull")).setClass("Label")),qt.add(jt),s.add(qt);const zt=new I,Vt=new re().setWidth("50px").onChange(Ae);zt.add(new w(e.getKey("sidebar/object/renderorder")).setClass("Label")),zt.add(Vt),s.add(zt);const Xt=new I,Pe=new ks().setWidth("150px").setHeight("40px").setFontSize("12px").onChange(Ae);Pe.onKeyUp(function(){try{JSON.parse(Pe.getValue()),Pe.dom.classList.add("success"),Pe.dom.classList.remove("fail")}catch{Pe.dom.classList.remove("success"),Pe.dom.classList.add("fail")}}),Xt.add(new w(e.getKey("sidebar/object/userdata")).setClass("Label")),Xt.add(Pe),s.add(Xt);const Wt=new de(e.getKey("sidebar/object/export"));Wt.setMarginLeft("120px"),Wt.onClick(function(){let De=a.selected.toJSON();try{De=JSON.stringify(De,null,"	"),De=De.replace(/[\n\t]+([\d\.e\-\[\]]+)/g,"$1")}catch{De=JSON.stringify(De)}a.utils.save(new Blob([De]),`${c.getValue()||"object"}.json`)}),s.add(Wt),s.add(new Hd(a));function Ae(){const x=a.selected;if(x!==null){const De=new Z(l.getValue(),u.getValue(),m.getValue());x.position.distanceTo(De)>=.01&&a.execute(new Wa(a,x,De));const qe=new st(h.getValue()*ne.DEG2RAD,b.getValue()*ne.DEG2RAD,E.getValue()*ne.DEG2RAD);new Z().setFromEuler(x.rotation).distanceTo(new Z().setFromEuler(qe))>=.01&&a.execute(new Os(a,x,qe));const Se=new Z(y.getValue(),C.getValue(),M.getValue());x.scale.distanceTo(Se)>=.01&&a.execute(new Hs(a,x,Se)),x.fov!==void 0&&Math.abs(x.fov-S.getValue())>=.01&&(a.execute(new Ie(a,x,"fov",S.getValue())),x.updateProjectionMatrix()),x.left!==void 0&&Math.abs(x.left-B.getValue())>=.01&&(a.execute(new Ie(a,x,"left",B.getValue())),x.updateProjectionMatrix()),x.right!==void 0&&Math.abs(x.right-j.getValue())>=.01&&(a.execute(new Ie(a,x,"right",j.getValue())),x.updateProjectionMatrix()),x.top!==void 0&&Math.abs(x.top-Y.getValue())>=.01&&(a.execute(new Ie(a,x,"top",Y.getValue())),x.updateProjectionMatrix()),x.bottom!==void 0&&Math.abs(x.bottom-N.getValue())>=.01&&(a.execute(new Ie(a,x,"bottom",N.getValue())),x.updateProjectionMatrix()),x.near!==void 0&&Math.abs(x.near-H.getValue())>=.01&&(a.execute(new Ie(a,x,"near",H.getValue())),x.isOrthographicCamera&&x.updateProjectionMatrix()),x.far!==void 0&&Math.abs(x.far-D.getValue())>=.01&&(a.execute(new Ie(a,x,"far",D.getValue())),x.isOrthographicCamera&&x.updateProjectionMatrix()),x.intensity!==void 0&&Math.abs(x.intensity-q.getValue())>=.01&&a.execute(new Ie(a,x,"intensity",q.getValue())),x.color!==void 0&&x.color.getHex()!==V.getHexValue()&&a.execute(new Ss(a,x,"color",V.getHexValue())),x.groundColor!==void 0&&x.groundColor.getHex()!==Q.getHexValue()&&a.execute(new Ss(a,x,"groundColor",Q.getHexValue())),x.distance!==void 0&&Math.abs(x.distance-L.getValue())>=.01&&a.execute(new Ie(a,x,"distance",L.getValue())),x.angle!==void 0&&Math.abs(x.angle-T.getValue())>=.01&&a.execute(new Ie(a,x,"angle",T.getValue())),x.penumbra!==void 0&&Math.abs(x.penumbra-ee.getValue())>=.01&&a.execute(new Ie(a,x,"penumbra",ee.getValue())),x.decay!==void 0&&Math.abs(x.decay-fe.getValue())>=.01&&a.execute(new Ie(a,x,"decay",fe.getValue())),x.visible!==kt.getValue()&&a.execute(new Ie(a,x,"visible",kt.getValue())),x.frustumCulled!==jt.getValue()&&a.execute(new Ie(a,x,"frustumCulled",jt.getValue())),x.renderOrder!==Vt.getValue()&&a.execute(new Ie(a,x,"renderOrder",Vt.getValue())),x.castShadow!==void 0&&x.castShadow!==ut.getValue()&&a.execute(new Ie(a,x,"castShadow",ut.getValue())),x.receiveShadow!==$e.getValue()&&(x.material!==void 0&&(x.material.needsUpdate=!0),a.execute(new Ie(a,x,"receiveShadow",$e.getValue()))),x.shadow!==void 0&&(x.shadow.intensity!==Dt.getValue()&&a.execute(new la(a,x,"intensity",Dt.getValue())),x.shadow.bias!==_t.getValue()&&a.execute(new la(a,x,"bias",_t.getValue())),x.shadow.normalBias!==Tt.getValue()&&a.execute(new la(a,x,"normalBias",Tt.getValue())),x.shadow.radius!==Gt.getValue()&&a.execute(new la(a,x,"radius",Gt.getValue())));try{const Oe=JSON.parse(Pe.getValue());JSON.stringify(x.userData)!=JSON.stringify(Oe)&&a.execute(new Ie(a,x,"userData",Oe))}catch(Oe){console.warn(Oe)}}}function Za(x){const De={fov:_,left:v,right:G,top:$,bottom:W,near:O,far:F,intensity:k,color:P,groundColor:K,distance:R,angle:X,penumbra:z,decay:se,castShadow:Ke,receiveShadow:$e,shadow:[Mt,Rt,Lt,Nt]};for(const qe in De){const Se=De[qe];if(Array.isArray(Se)===!0)for(let Oe=0;Oe<Se.length;Oe++)Se[Oe].setDisplay(x[qe]!==void 0?"":"none");else Se.setDisplay(x[qe]!==void 0?"":"none")}x.isLight&&$e.setDisplay("none"),(x.isAmbientLight||x.isHemisphereLight)&&Ke.setDisplay("none")}function $a(x){x.isLight?(p.setDisplay("none"),f.setDisplay("none")):(p.setDisplay(""),f.setDisplay(""))}t.objectSelected.add(function(x){x!==null?(s.setDisplay("block"),Za(x),Zt(x)):s.setDisplay("none")}),t.objectChanged.add(function(x){x===a.selected&&Zt(x)}),t.refreshSidebarObject3D.add(function(x){x===a.selected&&Zt(x)});function Zt(x){i.setValue(x.type),o.setValue(x.uuid),c.setValue(x.name),l.setValue(x.position.x),u.setValue(x.position.y),m.setValue(x.position.z),h.setValue(x.rotation.x*ne.RAD2DEG),b.setValue(x.rotation.y*ne.RAD2DEG),E.setValue(x.rotation.z*ne.RAD2DEG),y.setValue(x.scale.x),C.setValue(x.scale.y),M.setValue(x.scale.z),x.fov!==void 0&&S.setValue(x.fov),x.left!==void 0&&B.setValue(x.left),x.right!==void 0&&j.setValue(x.right),x.top!==void 0&&Y.setValue(x.top),x.bottom!==void 0&&N.setValue(x.bottom),x.near!==void 0&&H.setValue(x.near),x.far!==void 0&&D.setValue(x.far),x.intensity!==void 0&&q.setValue(x.intensity),x.color!==void 0&&V.setHexValue(x.color.getHexString()),x.groundColor!==void 0&&Q.setHexValue(x.groundColor.getHexString()),x.distance!==void 0&&L.setValue(x.distance),x.angle!==void 0&&T.setValue(x.angle),x.penumbra!==void 0&&ee.setValue(x.penumbra),x.decay!==void 0&&fe.setValue(x.decay),x.castShadow!==void 0&&ut.setValue(x.castShadow),x.receiveShadow!==void 0&&$e.setValue(x.receiveShadow),x.shadow!==void 0&&(Dt.setValue(x.shadow.intensity),_t.setValue(x.shadow.bias),Tt.setValue(x.shadow.normalBias),Gt.setValue(x.shadow.radius)),kt.setValue(x.visible),jt.setValue(x.frustumCulled),Vt.setValue(x.renderOrder);try{Pe.setValue(JSON.stringify(x.userData,null,"  "))}catch(De){console.log(De)}Pe.setBorderColor("transparent"),Pe.setBackgroundColor(""),$a(x)}return s}const Yd=(a,e,t)=>{const s=a[e];return s?typeof s=="function"?s():Promise.resolve(s):new Promise((n,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==t?". Note that variables only represent file names one level deep.":""))))})};function Di(a){const e=a.strings,t=a.signals,s=new I;function n(i){if(i===null||i===void 0)return;const r=i.geometry;if(r){s.clear(),s.setDisplay("block");const o=new I,d=new w(e.getKey("sidebar/geometry/buffer_geometry/attributes")).setClass("Label");o.add(d);const A=new dt().setDisplay("inline-block").setVerticalAlign("middle").setWidth("160px");o.add(A);const c=r.index;c!==null&&(A.add(new w(e.getKey("sidebar/geometry/buffer_geometry/index")).setWidth("70px")),A.add(new w(a.utils.formatNumber(c.count)).setFontSize("12px")),A.add(new Te));const g=r.attributes;for(const m in g){const p=g[m];A.add(new w(m).setWidth("70px"));let h=a.utils.formatNumber(p.count)+" ("+p.itemSize+")";p.isInterleavedBufferAttribute&&(h+=" ("+p.data.stride+")"),A.add(new w(h).setFontSize("12px")),A.add(new Te)}s.add(o);const l=r.morphAttributes;if(Object.keys(l).length>0===!0){const m=new I,p=new w(e.getKey("sidebar/geometry/buffer_geometry/morphAttributes")).setClass("Label");m.add(p);const h=new dt().setDisplay("inline-block").setVerticalAlign("middle").setWidth("160px");m.add(h);for(const y in l){const C=l[y];h.add(new w(y).setWidth("70px")),h.add(new w(a.utils.formatNumber(C.length)).setFontSize("12px")),h.add(new Te)}s.add(m);const b=new I,E=new w(e.getKey("sidebar/geometry/buffer_geometry/morphRelative")).setClass("Label");b.add(E);const f=new We().setValue(r.morphTargetsRelative).setDisabled(!0);b.add(f),s.add(b)}}else s.setDisplay("none")}return t.objectSelected.add(n),t.geometryChanged.add(n),s}const qd=Object.freeze(Object.defineProperty({__proto__:null,SidebarGeometryBufferGeometry:Di},Symbol.toStringTag,{value:"Module"})),zd=typeof TextDecoder>"u"?(0,module.require)("util").TextDecoder:TextDecoder;let Ri=new zd("utf-8",{ignoreBOM:!0,fatal:!0});Ri.decode();let Ma=null;function Xd(){return(Ma===null||Ma.buffer!==Ve.memory.buffer)&&(Ma=new Uint8Array(Ve.memory.buffer)),Ma}function Wd(a,e){return Ri.decode(Xd().subarray(a,a+e))}const lt=new Array(32).fill(void 0);lt.push(void 0,null,!0,!1);let ha=lt.length;function Zd(a){ha===lt.length&&lt.push(lt.length+1);const e=ha;return ha=lt[e],lt[e]=a,e}function $d(a){return lt[a]}function eA(a){a<36||(lt[a]=ha,ha=a)}function tA(a){const e=$d(a);return eA(a),e}let Da=null;function _i(){return(Da===null||Da.buffer!==Ve.memory.buffer)&&(Da=new Float32Array(Ve.memory.buffer)),Da}let Fa=0;function ms(a,e){const t=e(a.length*4);return _i().set(a,t/4),Fa=a.length,t}let Ra=null;function Mn(){return(Ra===null||Ra.buffer!==Ve.memory.buffer)&&(Ra=new Int32Array(Ve.memory.buffer)),Ra}function aA(a,e){return _i().subarray(a/4,a/4+e)}function sA(a,e,t){try{const l=Ve.__wbindgen_add_to_stack_pointer(-16);var s=ms(a,Ve.__wbindgen_malloc),n=Fa,i=ms(e,Ve.__wbindgen_malloc),r=Fa,o=ms(t,Ve.__wbindgen_malloc),d=Fa;Ve.generateTangents(l,s,n,i,r,o,d);var A=Mn()[l/4+0],c=Mn()[l/4+1],g=aA(A,c).slice();return Ve.__wbindgen_free(A,c*4),g}finally{Ve.__wbindgen_add_to_stack_pointer(16)}}const Li=function(a,e){var t=Wd(a,e);return Zd(t)},Ti=function(a){throw tA(a)},nA="data:application/octet-stream;base64,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TQ0WIARBAnRqIgQgBCgCAEEBajYCACACQQRqIQIgA0F/aiIDDQALCyABQdgFaigCACABKALgBUUNFUEAIQJBADYCAEEBIQQDQCABQfgCaiABQdgFahBjIAEoAvwCIgMgBEF/aiIHTQ0UIAEoAvgCIAJqKAIAIQMgAUHwAmogAUHoBWoQYyABKAL0AiINIAdNDRMgASgC8AIgAmooAgAhByABQdgFaigCACENIAEoAuAFIhEgBE0NEiACIA1qQQRqIAMgB2o2AgAgAkEEaiECIARBAWoiBEGAEEcNAAsgCEEJTwRAQQAhBCABQZgGakEAQQRBCCAGGyALG2ohCCAFIQMDQCABQegCaiADKAIAEGEgAUGYBmogACABKALoAiABKALsAhAxIDAgLiAIKgIAEDwhAiABQeACaiABQdgFahBjIAEoAuQCIgYgAk0NEiABQcgFaigCACABKALQBSINIAJBAnQiBiABKALgAmooAgAiC00NESABQdgCaiABQfgFahBjIAEoAtwCIg0gAk0NECALQQJ0aiABKALYAiAGaigCAEECdGogBDYCACABQfgFaigCACELIAEoAoAGIgcgAk0NDyAGIAtqIgIgAigCAEEBajYCACADQQRqIQMgCiAEQQFqIgRHDQALCyABQdACaiABQegFahBjIAEoAtQCRQ0MIAEoAtACKAIAIQNBBCECQQEhBANAIAFByAJqIAFB6AVqEGMgASgCzAIiCiAETQ0MIAMgASgCyAIgAmooAgBJBEAgAUHAAmogAUHoBWoQYyABKALEAiIDIARNDQwgASgCwAIgAmooAgAhAwsgAkEEaiECIARBAWoiBEGAEEcNAAsgAUHgA2oiAkIANwIAIAJBCGpCADcCACABQaAGaiABQegDaikDADcDACABIAEpA+ADNwOYBiABQYgGaiABQZgGaiADEEEgASgCiAYhCiABKAKQBiELQQAhBgNAIAFBuAJqIAFB2AVqEGMgASgCvAIiAyAGTQ0KIAFByAVqKAIAIQIgASgC0AUiBCAGQQJ0IgggASgCuAJqKAIAIgNNDQkgAUGwAmogAUHoBWoQYyABKAK0AiIEIAZNDQggASgCsAIgCGooAgAiCEECTwRAIAIgA0ECdGohBEEAIQMgCiECA0AgAUGoAmogBSAEKAIAIgdBAnRqKAIAEGEgAUGYBmogACABKAKoAiABKAKsAhAxIAMgC0YNCSACIAEoApgGNgIAIAJBBGogASgCnAY2AgAgASgCoAYhDSACQQxqIAc2AgAgAkEIaiANNgIAIARBBGohBCACQRBqIQIgCCADQQFqIgNHDQALIAUgCiAAQQAgCEF/ahAECyAGQQFqIgZBgBBHDQALIBNBASATQQFLGyEFIA5BPGohAyABQYgGahBSIAFB+AVqKAIAGiABQfgFahBWIAFB6AVqKAIAGiABQegFahBWIAFB2AVqKAIAGiABQdgFahBWIAFByAVqKAIAGiABQcgFahBWQQAhAkEAIQRBACEGQQAhBwNAIAFBoAJqIAFBwANqEGMgASgCpAIiCiAETQ0GIAEoAqACIAJqKAIAIQogAUGYAmogAUHAA2oQYyABKAKcAiILIARBAWpNDQUgASgCmAIgAmpBBGooAgAhCyABQZACaiABQcADahBjIAEoApQCIgggBEECak0NBCABKAKQAiACakEIaigCACEIIAFBiAJqIAoQYSABQYgGaiAAIAEoAogCIAEoAowCEDEgAUGAAmogCxBhIAFB4ANqIAAgASgCgAIgASgChAIQMSABQfgBaiAIEGEgAUGYBmogACABKAL4ASABKAL8ARAxAkACQCABQYgGaiABQeADahALDQAgAUGIBmogAUGYBmoQCw0AIAFB4ANqIAFBmAZqEAtFDQELIAwgBk0NBCADIAMoAgBBAXI2AgAgB0EBaiEHCyACQQxqIQIgBEEDaiEEIANByABqIQMgBSAGQQFqIgZHDQALIA4gAUHAA2ooAgAgEyAHayIKIBMQECABQcADaigCACELAkACQCAKRQRAQX8hBgwBC0EAIQYDQCAOIAZByABsaiIDQn83AgAgA0EIakF/NgIAIANBDGpCADcCACADQRRqQQA2AgAgA0E8aiADQRhqIQIgAygCPCEEQQMhAwNAIAJCADcCACACQRhqQgA3AgAgAkEQakIANwIAIAJBCGpCADcCACAEQQRyIQQgA0F/aiIDDQALIAQ2AgAgBkEBaiIGIApHDQALIAFBpAZqIQYgAUHsA2ohDEEAIQUDQCABQfABaiALIAVBDGxqIgMoAgAQYSABQagFaiAAIAEoAvABIAEoAvQBEDEgAUHoAWogA0EEaiICKAIAEGEgAUG4BWogACABKALoASABKALsARAxIAFB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AkAgASgCRBAxIAEpA4gGISsgASgCkAYhFyABQThqIAIQYSABQYgGaiAAIAEoAjggASgCPBAxIAEoAogGIQIgASgCjAYhECABKAKQBiESIAFBMGogHRBhIAFBiAZqIAAgASgCMCABKAI0EDEgASkDiAYhLCABKAKQBiEdIAEgFzYCgAYgASArNwP4BSABIBI2ApAGIAEgEDYCjAYgASACNgKIBiABQcgFaiABQfgFaiABQYgGahAVIAEgHTYCgAYgASAsNwP4BSABIBI2ApAGIAEgEDYCjAYgASACNgKIBiABQdgFaiABQfgFaiABQYgGahAVIBYgAUHQBWoiECgCADYCACABIAEpA8gFNwP4BSABQbgFaiABQcgFahARITUgBCAYKAIANgIAIAEgASkDuAU3A4gGIAFBKGogAUGIBmogGRBoIAEoAigiAiABKAIsIhJHBEADQCACIDUgAioCAJQ4AgAgEiACQQRqIgJHDQALCyABQcgFaiABQfgFaiABQYgGahAVIAQgECgCADYCACABIAEpA8gFNwOIBiABQYgGahBRBEAgBCAQKAIANgIAIAEgASkDyAU3A4gGIAFByAVqIAFBiAZqECMLIBYgAUHgBWoiECgCADYCACABIAEpA9gFNwP4BSABQbgFaiABQdgFahARITUgBCAYKAIANgIAIAEgASkDuAU3A4gGIAFBIGogAUGIBmogGRBoIAEoAiAiAiABKAIkIhJHBEADQCACIDUgAioCAJQ4AgAgEiACQQRqIgJHDQALCyABQdgFaiABQfgFaiABQYgGahAVIAQgECgCADYCACABIAEpA9gFNwOIBiABQYgGahBRBEAgBCAQKAIANgIAIAEgASkD2AU3A4gGIAFB2AVqIAFBiAZqECMLQwAAgD8gAUHIBWogAUHYBWoQESI1QwAAgL+XIDVDAACAP14buxAOIA8qAjQhNSAPKgIwITcgFiADKAIANgIAIAEgASkDmAY3A/gFIAEgMjgCkAYgASAvOAKMBiABIDM4AogGIAFBGGogAUGIBmogGRBotiEvIAEoAhgiAiABKAIcIg9HBEADQCACIAIqAgAgL5Q4AgAgDyACQQRqIgJHDQALCyABQZgGaiABQfgFaiABQYgGahAWIBYgFUEIaiIPKAIANgIAIAEgFSkCADcD+AUgASAxOAKQBiABIDA4AowGIAEgNDgCiAYgAUEQaiABQYgGaiAZEGggASgCECICIAEoAhQiEEcEQANAIAIgAioCACAvlDgCACAQIAJBBGoiAkcNAAsLIAFB6AVqIAFB+AVqIAFBiAZqEBYgDyABQfAFaigCADYCACAVIAEpA+gFNwIAIAEgNyAvlCABKgKkBpI4AqQGIAEgNSAvlCABKgK0BpI4ArQGIC4gL5IhLgsgCSAHQQFqIgdHDQALDAQLIAkgD0HcgsAAED8ACyAFIAJB7ILAABA/AAsgDCACQfyCwAAQPwALIAwgB0GMg8AAED8ACyAEIAMoAgA2AgAgASABKQOYBjcDiAYgAUGIBmoQUQRAIAQgAygCADYCACABIAEpA5gGNwOIBiABQZgGaiABQYgGahAjCyAEIBVBCGoiAigCADYCACABIBUpAgA3A4gGIAFBiAZqEFEEQCAEIAIoAgA2AgAgASAVKQIANwOIBiABQfgFaiABQYgGahAjIAIgAUGABmooAgA2AgAgFSABKQP4BTcCAAsgLkMAAAAAXkEBc0UEQCABIAEqAqQGIC6VOAKkBiABIAEqArQGIC6VOAK0BgsgASgC4AQiAiAMTQ0DIAEoAtgEIAxBKGxqIAFBmAZqQSgQTiAMQQFqIQwLICAEQCAIKAJAIAggKGpBxABqLQAAaiICICJPDQICfyAUIAJBKGxqIgIoAiBBAUcEQCABKALgBCIEIAVNDQYgAiABKALYBCAFQShsakEoEDsaQQEMAQsgASgC4AQiBCAFTQ0GIAFBmAZqIAIgASgC2AQgBUEobGoQBSACIAFBmAZqQSgQTkECCyEFIAJBIGogBTYCACACICYtAAA6ACQgESgCABogERBWIB9BAWoiHyANKAIASA0BDAYLC0F/QQRBrIPAABA/AAsgAiAiQbyDwAAQPwALIAwgAkGcg8AAED8ACyAFIARBzIPAABA/AAsgBSAEQdyDwAAQPwALICNBAWoiIyAGRw0ACyABQfgEaigCABogAUH4BGoQViABQegEahBJIAFB6ARqEFIgAUHYBGoQVCABKALIBCEUIAEoAtADIQsLIAFBwANqKAIAIQUgCiATSARAIBtBAUghCSAKIQMDQCALIANByABsaiIELQA8QQJxRQRAIANBA2whDCAEQUBrIQhBACEGA0ACQCAJDQAgBSAGIAxqQQJ0aigCACEOQQAhAgNAAkAgAiAOIAUgAkECdGooAgAiB0ciDWohAiAHIA5GDQAgAiAbSA0BCwsgDQ0AIBQgCCgCACAEIAZqQcQAai0AAGpBKGxqIBQgCyACQQNuIg5ByABsaiIHKAJAIAcgAiAOQQNsa2pBxABqLQAAakEobGpBKBA7GgsgBkEBaiIGQQNHDQALCyADICVGIANBAWohA0UNAAsLIApBAU4EQCALQcQAaiEEQQAhBQNAAkAgCyAFQcgAbGoiAy0APEECcUUNACABQQA2AugDIAFCADcD4AMgAUEIaiADKAI4IgYCf0EBQQEgA0HFAGotAABBH3F0QQEgAy0AREEfcXRyQQEgA0HGAGotAABBH3F0ciICQQJxRQ0AGkECIAJBBHFFDQAaQQBBAyACQQhxGwsiDhBmEGEgAUGYBmogACABKAIIIAEoAgwQMSABQegDaiABQaAGaigCADYCACABIAEpA5gGNwPgAyADQUBrIQNBACECA0AgASAGIAIgBGotAAAiCRBmEGEgAUGYBmogACABKAIAIAEoAgQQMSABQZgGaiABQeADahALBEAgFCADKAIAIgMgDmpBKGxqIBQgAyAJakEobGpBKBA7GgwCCyACQQFqIgJBA0cNAAsLIARByABqIQQgBUEBaiIFIApHDQALCyABKALQBCEFQQAhBkEAIQkDQEEAIAUgCWsiAyADIAVLGyEKIBQgCUEobGohDkEAIQNBACEEA0AgBCAKRg0DIAMgDmoiAikCACErIAEgAkEIaigCADYC6AMgASArNwLgAyAAIAFB4ANqIAJBDGoqAgAgAkEcaioCACACQSRqLQAAEB8gBEEBaiEEIANBKGoiA0H4AEcNAAsgBCAJaiEJIAZBAWoiBiATRw0ACyABQcgEahBUIAFBuARqKAIAGiABQbgEahBWIAFBqARqEFIgAUHQA2oQUyABQcADaigCABogAUHAA2oQVkEBIQILIAFB4AZqJAAgAg8LIAQgCWogBUHMgsAAED8ACyAGIAxBvILAABA/AAsgBEECaiAIQayCwAAQPwALIARBAWogC0GcgsAAED8ACyAEIApBjILAABA/AAsgCyALQdyFwAAQPwALIAYgBEHMhcAAED8ACyADIARBvIXAABA/AAsgBiADQayFwAAQPwALIAQgA0GchcAAED8ACyAEIApBjIXAABA/AAtBAEEA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AiALIANBEGogAiABIANBIGoQLSADQRhqKAIAIQEgAygCFCECIAMoAhBBAUYNASAAIAI2AgAgACABQShuNgIECyADQTBqJAAPCyADQQhqIAIgARBoIAMoAgghASADKAIMDAELIAMgAkEAEGggAygCACEBIAMoAgQLIgAEQCABIAAQcAALEGsAC6cCAgN/AX4jAEEwayIDJAACfwJAAkAgACgCBCIEIAFrIAJJBEAgASACaiICIAFJDQJBBCEBAkAgBEEBdCIFIAIgBSACSxsiAkEEIAJBBEsbrUIMfiIGQiCIp0UEQCAGpyECDAELIAAoAgQhBEEAIQELAkAgBARAIAAoAgAhBSADQShqQQQ2AgAgAyAEQQxsNgIkIAMgBTYCIAwBCyADQQA2AiALIANBEGogAiABIANBIGoQLSADQRhqKAIAIQEgAygCFCECIAMoAhBBAUYNASAAIAI2AgAgACABQQxuNgIECyADQTBqJAAPCyADQQhqIAIgARBoIAMoAgghASADKAIMDAELIAMgAkEAEGggAygCACEBIAMoAgQLIgAEQCABIAAQcAALEGsAC6gCAQN/IwBBMGsiAyQAAn8CQAJAIAAoAgQiBCABayACSQRAIAEgAmoiAiABSQ0CQQQhAQJAIARBAXQiBSACIAUgAksbIgJBBCACQQRLGyICQf////8DcSACRgRAIAJBAnQhAgwBCyAAKAIEIQRBACEBCwJAIAQEQCAAKAIAIQUgA0EoakEENgIAIAMgBEECdDYCJCADIAU2AiAMAQsgA0EANgIgCyADQRBqIAIgASADQSBqEC0gA0EYaigCACEBIAMoAhQhAiADKAIQQQFGDQEgACACNgIAIAAgAUECdjYCBAsgA0EwaiQADwsgA0EIaiACIAEQaCADKAIIIQEgAygCDAwBCyADIAJBABBoIAMoAgAhASADKAIECyIABEAgASAAEHAACxBrAAuoAgEDfyMAQTBrIgMkAAJ/AkACQCAAKAIEIgQgAWsgAkkEQCABIAJqIgIgAUkNAkEEIQECQCAEQQF0IgUgAiAFIAJLGyICQQQgAkEESxsiAkH/////AHEgAkYEQCACQQR0IQIMAQsgACgCBCEEQQAhAQsCQCAEBEAgACgCACEFIANBKGpBBDYCACADIARBBHQ2AiQgAyAFNgIgDAELIANBADYCIAsgA0EQ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aiEDIAUoAggiBiAFKAIMIgdJBEAgByAGayEIA0AgAikCACEJIANBCGogAkEIaikCADcCACADIAk3AgAgA0EQaiEDIAhBf2oiCA0ACyAEIAdqIAZrIQQLIAAgAQR/IAIpAgAhCSADQQhqIAJBCGopAgA3AgAgAyAJNwIAIARBAWoFIAQLNgIIIAVBEGokAAuqAQMBfwN+An0jAEEgayICJAAgAkEYaiABKAIAEGEgACACKAIYIAIoAhwQPSEDIAJBEGogASgCBBBhIAAgAigCECACKAIUED0hBCACQQhqIAEoAggQYSAAIAIoAgggAigCDBA9IQUgAkEgaiQAIASnviADp74iBpMgBUIgiKe+IANCIIinviIHk5QgBEIgiKe+IAeTIAWnviAGk5STIgaMIAYgBkMAAAAAXRsLsQEBBX8jAEEQayIDJAACQCAAKAIEIgIgAU8EQAJAIAIEQCACQQJ0IQIgACgCACEEAkAgAUECdCIFRQRAQQQhBiACRQ0BIAQgAkEEEGoMAQsgBCACQQQgBRBiIgZFDQILIAAgBjYCACAAIAFB/////wNxNgIECyADQRBqJAAPCyADQQhqIAVBBBBoIAMoAgwiAEUNASADKAIIIAAQcAALQcWIwABBJEHsiMAAEEgACxBrAAu2AQEBfyMAQRBrIgMkAAJAIABFDQAgAyAANgIEIAFFDQACQCACQQRLDQAgAUEDakECdkF/aiIAQf8BSw0AIANBoJXAADYCCCADIABBAnRBpJXAAGoiACgCADYCDCADQQRqIANBDGogA0EIakGUicAAEBMgACADKAIMNgIADAELIANBoJXAACgCADYCDCADQQRqIANBDGpB/IjAAEH8iMAAEBNBoJXAACADKAIMNgIACyADQRBqJAALmQEBBn8jAEEQayIFJAAgACAAKAIIIAEQGCAAKAIAIAAoAgghAyAFQQhqQQEgARBoIANByABsaiEEIAUoAggiBiAFKAIMIgdJBEAgByAGayEIA0AgBCACQcgAEDtByABqIQQgCEF/aiIIDQALIAMgB2ogBmshAwsgACABBH8gBCACQcgAEDsaIANBAWoFIAMLNgIIIAVBEGokAAuVAQEGfyMAQRBrIgUkACAAIAAoAgggARAZIAAoAgAgACgCCCEDIAVBCGpBASABEGggA0EobGohBCAFKAIIIgYgBSgCDCIHSQRAIAcgBmshCANAIAQgAkEoEDtBKGohBCAIQX9qIggNAAsgAyAHaiAGayEDCyAAIAEEfyAEIAJBKBA7GiADQQFqBSADCzYCCCAFQRBqJAALqgEBAn8CQAJAAkAgAgRAQQEhBCABQQBODQEMAgsgACABNgIEQQEhBAwBCwJAAkACQAJAAkAgAygCACIFRQRAIAFFDQEMAwsgAygCBCIDDQEgAQ0CCyACIQMMAwsgBSADIAIgARBiIgNFDQEMAgsgASACEGciAw0BCyAAIAE2AgQgAiEBDAILIAAgAzYCBEEAIQQMAQtBACEBCyAAIAQ2AgAgAEEIaiABNgIAC7IBAQJ/IwBBEGsiAiQAAkAgAEUNACAAQQNqQQJ2IQACQCABQQRLDQAgAEF/aiIDQf8BSw0AIAJBoJXAADYCBCACIANBAnRBpJXAAGoiAygCADYCDCAAIAEgAkEMaiACQQRqQZSJwAAQPiEBIAMgAigCDDYCAAwBCyACQaCVwAAoAgA2AgggACABIAJBCGpB/IjAAEH8iMAAED4hAUGglcAAIAIoAgg2AgALIAJBEGokACABC5cBAQJ/AkACQCABQRRqKAIAIgQgA0EDbCACQQlsaiICSwRAIAQgAkEBaiIDTQ0BIAQgAkECaiIFTQ0CIAAgASgCDCIBIAJBAnRqKAIANgIAIAAgASAFQQJ0aigCADYCCCAAIAEgA0ECdGooAgA2AgQPCyACIARBvIDAABA/AAsgAyAEQcyAwAAQPwALIAUgBEHcgMAAED8AC5MBAQZ/AkACQAJAIAAoAgAiBCABKAIARw0AIARFBEBBAQ8LIABBDGooAgAhBQNAIAUgAk0NAiABKAIMIgMgAk0NAyACIAJBAnQiAyAAKAIEaigCACIGIAEoAgQgA2ooAgAiB0YiA2oiAiAETw0BIAYgB0YNAAsLIAMPCyACIAVBhI3AABA/AAsgAiADQZSNwAAQPwALlAEBAn8CQAJAIAEoAggiBCADQQNsIAJBCWxqIgJLBEAgBCACQQFqIgNNDQEgBCACQQJqIgVNDQIgACABKAIAIgEgAkECdGooAgA2AgAgACABIAVBAnRqKAIANgIIIAAgASADQQJ0aigCADYCBA8LIAIgBEGMgMAAED8ACyADIARBnIDAABA/AAsgBSAEQayAwAAQPwALiwEBAX8jAEEQayIDJAAgAyABKAIAIgEoAgA2AgwgAkECaiICIAJsIgJBgBAgAkGAEEsbIgRBBCADQQxqQayJwABBrInAABA+IQIgASADKAIMNgIAIAIEfyACQgA3AgQgAiACIARBAnRqQQJyNgIAQQAFQQELIQEgACACNgIEIAAgATYCACADQRBqJAALogEBA38jAEEQayIBJAAgACgCACICQRRqKAIAIQMCQAJ/AkACQCACKAIEDgIAAQMLIAMNAkEAIQJB8I3AAAwBCyADDQEgAigCACIDKAIEIQIgAygCAAshAyABIAI2AgQgASADNgIAIAFB/I7AACAAKAIEKAIIIAAoAggQJQALIAFBADYCBCABIAI2AgAgAUHojsAAIAAoAgQoAgggACgCCBAlAAtTAgF/AX4CQCABrUIMfiIDQiCIpw0AIAOnIgFBf0wNAAJAIAEEQCABQQQQZyICDQEgAUEEEHAAC0EEIQILIAAgAjYCACAAIAFBDG42AgQPCxBrAAtTAgF/AX4CQCABrUIofiIDQiCIpw0AIAOnIgFBf0wNAAJAIAEEQCABQQQQZyICDQEgAUEEEHAAC0EEIQILIAAgAjYCACAAIAFBKG42AgQPCxBrAAtVAgF/AX4CQCABrULIAH4iA0IgiKcNACADpyIBQX9MDQACQCABBEAgAUEEEGciAg0BIAFBBBBwAAtBBCECCyAAIAI2AgAgACABQcgAbjYCBA8LEGsAC1MBAX8CQCABIAFB/////wBxRw0AIAFBBHQiAUF/TA0AAkAgAQRAIAFBBBBnIgINASABQQQQcAALQQQhAgsgACACNgIAIAAgAUEEdjYCBA8LEGsAC4MBAQF/AkAgASABQf////8DcUcNACABQQJ0IgFBf0wNAAJAAkACQAJAIAIEQCABDQEMAwsgAUUNAiABQQQQZyICDQMMAQsgASICQQQQLiIDBEAgAyACEFoaCyADIgINAgsgAUEEEHAAC0EEIQILIAAgAjYCACAAIAFBAnY2AgQPCxBrAAt0AgJ/AX4jAEEQayICJAAgAkEIaiABEGMgAigCCCEDIAIgAigCDCIBQQAQOCACKQMAIQQgAEEANgIIIAAgBDcCACAAQQAgARAbIAAoAgAgACgCCEECdGogAyABQQJ0EE4gACABIAAoAghqNgIIIAJBEGokAAtxAAJ/IAJBAnQiASADQQN0QYCAAWoiAiABIAJLG0GHgARqIgFBEHZAACICQX9GBEBBACEDQQEMAQsgAkEQdCIDQgA3AwAgA0EANgIIIAMgAyABQYCAfHFqQQJyNgIAQQALIQIgACADNgIEIAAgAjYCAAtvAQF/AkAgASAATwRAIAJFDQEgACEDA0AgAyABLQAAOgAAIAFBAWohASADQQFqIQMgAkF/aiICDQALDAELIAJFDQAgAUF/aiEBIABBf2ohAwNAIAIgA2ogASACai0AADoAACACQX9qIgINAAsLIAALbwECfwJ/IAIgAJMgASAAk5VDAAAARZQiAEMAAADPYCIDQQFzIABD////Tl9FckUEQCAAqAwBC0H/////B0GAgICAeCADGyIEIARBACAAQ////05fGyADGwsiA0EAIANBAEobIgNB/w8gA0H/D0gbC2YBAX8CQCAAQSBqKAIAIgMgAUEGbCACQQF0aiIBSwRAIAMgAUEBciICTQ0BIAAoAhgiACACQQJ0ajUCAEIghiAAIAFBAnRqNQIAhA8LIAEgA0HsgMAAED8ACyACIANB/IDAABA/AAtrAQJ/IwBBEGsiBiQAAkAgACABIAIgAyAEEAoiBQ0AIAZBCGogAyAAIAEgBCgCDBEFAEEAIQUgBigCCA0AIAYoAgwiBSACKAIANgIIIAIgBTYCACAAIAEgAiADIAQQCiEFCyAGQRBqJAAgBQtsAQF/IwBBMGsiAyQAIAMgATYCBCADIAA2AgAgA0EcakECNgIAIANBLGpBHTYCACADQgI3AgwgA0G0kMAANgIIIANBHTYCJCADIANBIGo2AhggAyADNgIoIAMgA0EEajYCICADQQhqIAIQWQALVAEBfyMAQSBrIgIkACACIAAoAgA2AgQgAkEYaiABQRBqKQIANwMAIAJBEGogAUEIaikCADcDACACIAEpAgA3AwggAkEEaiACQQhqEAggAkEgaiQAC1kCAX8BfiMAQSBrIgMkACADQQhqIAIQNyADKQMIIQQgAEEANgIIIAAgBDcCACADQRhqIAFBCGopAgA3AwAgAyABKQIANwMQIAAgAiADQRBqECcgA0EgaiQAC1kCAX8BfiMAQSBrIgMkACADQQhqIAIQNCADKQMIIQQgAEEANgIIIAAgBDcCACADQRhqIAFBCGooAgA2AgAgAyABKQIANwMQIAAgAiADQRBqECYgA0EgaiQAC1kCAX8BfiMAQSBrIgMkACADQQhqIAIQNyADKQMIIQQgAEEANgIIIAAgBDcCACADQRhqIAFBCGopAgA3AwAgAyABKQIANwMQIAAgAiADQRBqECAgA0EgaiQAC1QBAn8gASgCACECIAFBADYCAAJAIAIEQCABKAIEIQNBCEEEEGciAUUNASABIAM2AgQgASACNgIAIABByI3AADYCBCAAIAE2AgAPCwALQQhBBBBwAAtKAgF/AX4jAEHQAGsiAyQAIAMgAhA2IAMpAwAhBCAAQQA2AgggACAENwIAIANBCGogAUHIABBOIAAgAiADQQhqECsgA0HQAGokAAtHAgF/AX4jAEEwayIDJAAgAyACEDUgAykDACEEIABBADYCCCAAIAQ3AgAgA0EIaiABQSgQTiAAIAIgA0EIahAsIANBMGokAAtKAAJ/IAFBgIDEAEcEQEEBIAAoAhggASAAQRxqKAIAKAIQEQIADQEaCyACRQRAQQAPCyAAKAIYIAJBACAAQRxqKAIAKAIMEQQACwtHAQF/IwBBIGsiAyQAIANBFGpBADYCACADQfCPwAA2AhAgA0IBNwIEIAMgATYCHCADIAA2AhggAyADQRhqNgIAIAMgAhBZAAs8AQF/IAAoAggiAQRAIAFBBHQhASAAKAIAQQRqIQADQCAAKAIAGiAAEFYgAEEQaiEAIAFBcGoiAQ0ACwsLOAAgAEIANwIAIABBCGpBADYCACAAQSRqQQA6AAAgAEEcakIANwIAIABBFGpCADcCACAAQgA3AgwLRAECfyABKAIEIQIgASgCACEDQQhBBBBnIgFFBEBBCEEEEHAACyABIAI2AgQgASADNgIAIABBoI/AADYCBCAAIAE2AgALPQAgAEIANwIgIAAgASkCADcCACAAIAIpAgA3AhAgAEEIaiABQQhqKQIANwIAIABBGGogAkEIaikCADcCAAtbAQN/IwBBEGsiASQAIAAoAgwiAkUEQEGAjsAAQStByI7AABBIAAsgACgCCCIDRQRAQYCOwABBK0HYjsAAEEgACyABIAI2AgggASAANgIEIAEgAzYCACABEFgACysAIAIEQANAIAAgAS0AADoAACABQQFqIQEgAEEBaiEAIAJBf2oiAg0ACwsLKQEBfyADIAIQLiIEBEAgBCAAIAMgASABIANLGxBOIAAgASACECoLIAQLLAACQCAAQXxNBEAgAEUEQEEEIQAMAgsgACAAQX1JQQJ0EGciAA0BCwALIAALNwEBf0EBIQECQCAAKgIAi0MAAIAAXg0AIAAqAgSLQwAAgABeDQAgACoCCItDAACAAF4hAQsgAQsmAQF/AkAgACgCBCIBRQ0AIAAoAgAgAUEEdCIBRQ0AIAFBBBBqCwsnAQF/AkAgACgCBCIBRQ0AIAAoAgAgAUHIAGwiAUUNACABQQQQagsLJgEBfwJAIAAoAgQiAUUNACAAKAIAIAFBKGwiAUUNACABQQQQagsLJgEBfwJAIAAoAgQiAUUNACAAKAIAIAFBDGwiAUUNACABQQQQagsLJgEBfwJAIAAoAgQiAUUNACAAKAIAIAFBAnQiAUUNACABQQQQagsLLAEBfyMAQRBrIgEkACABQQhqIABBCGooAgA2AgAgASAAKQIANwMAIAEQWwALLAEBfyMAQRBrIgEkACABQQhqIABBCGooAgA2AgAgASAAKQIANwMAIAEQMwALNAEBfyMAQRBrIgIkACACIAE2AgwgAiAANgIIIAJB8I/AADYCBCACQfCPwAA2AgAgAhBNAAspAQF/IAEEQCAAIQIDQCACQQA6AAAgAkEBaiECIAFBf2oiAQ0ACwsgAAsrAQF/IwBBEGsiASQAIAEgACkCADcDCCABQQhqQbSNwABBACAAKAIIECUACycBAX8jAEEQayICJAAgAiABNgIIIAJBHTYCBCACIAA2AgAgAhBXAAsmAQF/AkAgACgCACIBRQ0AIABBBGooAgAiAEUNACABIABBARBqCwsmAQF/AkAgACgCBCIBRQ0AIABBCGooAgAiAEUNACABIABBARBqCwshACAAQQM2AgwgACABNgIEIAAgATYCACAAIAFBDGo2AggLHQAgASgCAEUEQAALIABByI3AADYCBCAAIAE2AgALFgAgACABQQNxNgIEIAAgAUECdjYCAAsMACAAIAEgAiADEE8LFgAgACABKAIINgIEIAAgASgCADYCAAsPACABBEAgACABQQQQagsLEgAgACgCACABIAEgAmoQIkEACw0AIAFBA3EgAEECdHILCAAgACABEC4LEAAgACACNgIEIAAgATYCAAsTACAAQaCPwAA2AgQgACABNgIACwoAIAAgASACECoLEQBBzI/AAEERQeCPwAAQSAALDgAgACgCABoDQAwACwALCwAgADUCACABEBQLCwAgACMAaiQAIwALCwAgAItDAACAAF4LGQAgACABQcSdwAAoAgAiAEEPIAAbEQEAAAsFAEGABAsEAEEBCwQAIAELBABBAAsNAEL0+Z7m7qOq+f4ACw0AQve47vqqzNXu5QALDABC6dCi28yi6rtGCwMAAQsDAAELC6QVAgBBgIDAAAvBCnNyYy9saWIucnMAAAAAEAAKAAAANgAAAA0AAAAAABAACgAAADcAAAANAAAAAAAQAAoAAAA4AAAADQAAAAAAEAAKAAAAPgAAAA0AAAAAABAACgAAAD8AAAANAAAAAAAQAAoAAABAAAAADQAAAAAAEAAKAAAARgAAAA0AAAAAABAACgAAAEcAAAANAAAARmFpbGVkIHRvIGdlbmVyYXRlIHRhbmdlbnRzLi9Vc2Vycy9kb25tY2N1cmR5Ly5jYXJnby9yZWdpc3RyeS9zcmMvZ2l0aHViLmNvbS0xZWNjNjI5OWRiOWVjODIzL21pa2t0c3BhY2UtMC4yLjAvc3JjL2dlbmVyYXRlZC5ycwCoABAAYwAAANcAAAASAAAAqAAQAGMAAADYAAAAEgAAAKgAEABjAAAA2QAAABIAAACoABAAYwAAAN4AAAANAAAAqAAQAGMAAAAjAQAAOAAAAKgAEABjAAAA/QEAABUAAACoABAAYwAAAA8CAABAAAAAqAAQAGMAAAAVAgAAEQAAAKgAEABjAAAAFgIAABEAAACoABAAYwAAABgCAAARAAAAqAAQAGMAAAAjAgAAGQAAAKgAEABjAAAAJAIAADIAAACoABAAYwAAACoCAAAcAAAAqAAQAGMAAAAmAgAANAAAAKgAEABjAAAAvQUAAAkAAACoABAAYwAAAMAFAAAFAAAAqAAQAGMAAADDBQAAHAAAAKgAEABjAAAAwwUAADMAAACoABAAYwAAAMMFAAAJAAAAqAAQAGMAAADTBQAAIwAAAKgAEABjAAAA0wUAABcAAACoABAAYwAAANQFAAAYAAAAqAAQAGMAAADVBQAACQAAAKgAEABjAAAA3AUAABEAAACoABAAYwAAAN8FAAAYAAAAqAAQAGMAAADgBQAAGQAAAKgAEABjAAAA6AUAAC0AAACoABAAYwAAAOgFAAAhAAAAqAAQAGMAAADpBQAAGAAAAKgAEABjAAAA8gUAABEAAACoABAAYwAAAKcGAAANAAAAqAAQAGMAAACuBgAAEQAAAKgAEABjAAAArwYAABEAAACoABAAYwAAALAGAAARAAAAqAAQAGMAAAD9BgAACQAAAE1hdHJpeCBzbGljaW5nIG91dCBvZiBib3VuZHMuL1VzZXJzL2Rvbm1jY3VyZHkvLmNhcmdvL3JlZ2lzdHJ5L3NyYy9naXRodWIuY29tLTFlY2M2Mjk5ZGI5ZWM4MjMvbmFsZ2VicmEtMC4xOS4wL3NyYy9iYXNlL21hdHJpeF9zbGljZS5ycwBZAxAAagAAAOMAAAAJAAAAL1VzZXJzL2Rvbm1jY3VyZHkvLnJ1c3R1cC90b29sY2hhaW5zL3N0YWJsZS14ODZfNjQtYXBwbGUtZGFyd2luL2xpYi9ydXN0bGliL3NyYy9ydXN0L2xpYnJhcnkvYWxsb2Mvc3JjL3Jhd192ZWMucnNUcmllZCB0byBzaHJpbmsgdG8gYSBsYXJnZXIgY2FwYWNpdHkAAADUAxAAcQAAAMUBAAAJAAAAAQAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAQAAAAEAAAABgAAAAcAAAAIAAAACQAAAAAAAAABAAAAAgAAAAMAAAAEAAAAL1VzZXJzL2Rvbm1jY3VyZHkvLnJ1c3R1cC90b29sY2hhaW5zL3N0YWJsZS14ODZfNjQtYXBwbGUtZGFyd2luL2xpYi9ydXN0bGliL3NyYy9ydXN0L2xpYnJhcnkvY29yZS9zcmMvbnVtL21vZC5yc8QEEABwAAAAnQIAAAUAQdCKwAAL0AphdHRlbXB0IHRvIGNhbGN1bGF0ZSB0aGUgcmVtYWluZGVyIHdpdGggYSBkaXZpc29yIG9mIHplcm9NYXRyaXggc2xpY2luZyBvdXQgb2YgYm91bmRzLi9Vc2Vycy9kb25tY2N1cmR5Ly5jYXJnby9yZWdpc3RyeS9zcmMvZ2l0aHViLmNvbS0xZWNjNjI5OWRiOWVjODIzL25hbGdlYnJhLTAuMTkuMC9zcmMvYmFzZS9tYXRyaXhfc2xpY2UucnOmBRAAagAAAOMAAAAJAAAAL1VzZXJzL2Rvbm1jY3VyZHkvLmNhcmdvL3JlZ2lzdHJ5L3NyYy9naXRodWIuY29tLTFlY2M2Mjk5ZGI5ZWM4MjMvbWlra3RzcGFjZS0wLjIuMC9zcmMvZ2VuZXJhdGVkLnJzACAGEABjAAAA2wIAABkAAAAgBhAAYwAAANsCAAAyAAAAIAYQAGMAAAB+AwAACAAAAAoAAAAIAAAABAAAAAsAAAAMAAAADQAAAAgAAAAEAAAADgAAABAAAAAEAAAABAAAABEAAAASAAAAEwAAABAAAAAAAAAAAQAAABQAAABjYWxsZWQgYE9wdGlvbjo6dW53cmFwKClgIG9uIGEgYE5vbmVgIHZhbHVlbGlicmFyeS9zdGQvc3JjL3Bhbmlja2luZy5ycwArBxAAHAAAAO0BAAAfAAAAKwcQABwAAADuAQAAHgAAABUAAAAQAAAABAAAABYAAAAXAAAAEAAAAAgAAAAEAAAAGAAAABkAAAAaAAAADAAAAAQAAAAbAAAAEAAAAAgAAAAEAAAAHAAAAGxpYnJhcnkvYWxsb2Mvc3JjL3Jhd192ZWMucnNjYXBhY2l0eSBvdmVyZmxvdwAAALAHEAAcAAAAHgIAAAUAAAAfAAAAAAAAAAEAAAAgAAAAaW5kZXggb3V0IG9mIGJvdW5kczogdGhlIGxlbiBpcyAgYnV0IHRoZSBpbmRleCBpcyAAAAAIEAAgAAAAIAgQABIAAAAwMDAxMDIwMzA0MDUwNjA3MDgwOTEwMTExMjEzMTQxNTE2MTcxODE5MjAyMTIyMjMyNDI1MjYyNzI4MjkzMDMxMzIzMzM0MzUzNjM3MzgzOTQwNDE0MjQzNDQ0NTQ2NDc0ODQ5NTA1MTUyNTM1NDU1NTY1NzU4NTk2MDYxNjI2MzY0NjU2NjY3Njg2OTcwNzE3MjczNzQ3NTc2Nzc3ODc5ODA4MTgyODM4NDg1ODY4Nzg4ODk5MDkxOTI5Mzk0OTU5Njk3OTg5OWxpYnJhcnkvY29yZS9zcmMvZm10L21vZC5ycwAMCRAAGwAAAFUEAAARAAAADAkQABsAAABfBAAAJAAAAAMAAAAEAAAABAAAAAYAAACD+aIARE5uAPwpFQDRVycA3TT1AGLbwAA8mZUAQZBDAGNR/gC73qsAt2HFADpuJADSTUIASQbgAAnqLgAcktEA6x3+ACmxHADoPqcA9TWCAES7LgCc6YQAtCZwAEF+XwDWkTkAU4M5AJz0OQCLX4QAKPm9APgfOwDe/5cAD5gFABEv7wAKWosAbR9tAM9+NgAJyycARk+3AJ5mPwAt6l8Auid1AOXrxwA9e/EA9zkHAJJSigD7a+oAH7FfAAhdjQAwA1YAe/xGAPCrawAgvM8ANvSaAOOpHQBeYZEACBvmAIWZZQCgFF8AjUBoAIDY/wAnc00ABgYxAMpWFQDJqHMAe+JgAGuMwAAAAABA+yH5PwAAAAAtRHQ+AAAAgJhG+DwAAABgUcx4OwAAAICDG/A5AAAAQCAlejgAAACAIoLjNgAAAAAd82k1AHsJcHJvZHVjZXJzAghsYW5ndWFnZQEEUnVzdAAMcHJvY2Vzc2VkLWJ5AwVydXN0Yx0xLjQ5LjAgKGUxODg0YThlMyAyMDIwLTEyLTI5KQZ3YWxydXMGMC4xOC4wDHdhc20tYmluZGdlbhIwLjIuNzMgKDNjZWZlMmM4Mik=";let Ve,Ni=!1;const Gi=fetch(nA).then(a=>a.arrayBuffer()).then(a=>WebAssembly.instantiate(a,{"./mikktspace_module_bg.js":{__wbindgen_string_new:Li,__wbindgen_rethrow:Ti}})).then(a=>{Ve=a.instance.exports,Ni=!0}),iA=Object.freeze(Object.defineProperty({__proto__:null,__wbindgen_rethrow:Ti,__wbindgen_string_new:Li,generateTangents:sA,get isReady(){return Ni},ready:Gi,get wasm(){return Ve}},Symbol.toStringTag,{value:"Module"}));function ki(a,e){const t=a.strings,s=a.signals,n=new le().setMarginLeft("120px"),i=e.geometry,r=new de(t.getKey("sidebar/geometry/compute_vertex_normals"));r.onClick(function(){i.computeVertexNormals(),s.geometryChanged.dispatch(e)});const o=new I;if(o.add(r),n.add(o),i.hasAttribute("position")&&i.hasAttribute("normal")&&i.hasAttribute("uv")){const c=new de(t.getKey("sidebar/geometry/compute_vertex_tangents"));c.onClick(async function(){await Gi,Ho(i,iA),s.geometryChanged.dispatch(e)});const g=new I;g.add(c),n.add(g)}const d=new de(t.getKey("sidebar/geometry/center"));d.onClick(function(){i.center(),s.geometryChanged.dispatch(e)});const A=new I;return A.add(d),n.add(A),n}const rA=Object.freeze(Object.defineProperty({__proto__:null,SidebarGeometryModifiers:ki},Symbol.toStringTag,{value:"Module"})),ra=new Z,oa=new Z,Dn=new Tn;class Rn extends Pn{constructor(e,t=1,s=16711680){const n=new pa,i=e.geometry.attributes.normal.count,r=new Pa(i*2*3,3);n.setAttribute("position",r),super(n,new Ha({color:s,toneMapped:!1})),this.object=e,this.size=t,this.type="VertexNormalsHelper",this.matrixAutoUpdate=!1,this.isVertexNormalsHelper=!0,this.update()}update(){this.object.updateMatrixWorld(!0),Dn.getNormalMatrix(this.object.matrixWorld);const e=this.object.matrixWorld,t=this.geometry.attributes.position,s=this.object.geometry;if(s){const n=s.attributes.position,i=s.attributes.normal;let r=0;for(let o=0,d=n.count;o<d;o++)ra.fromBufferAttribute(n,o).applyMatrix4(e),oa.fromBufferAttribute(i,o),oa.applyMatrix3(Dn).normalize().multiplyScalar(this.size).add(ra),t.setXYZ(r,ra.x,ra.y,ra.z),r=r+1,t.setXYZ(r,oa.x,oa.y,oa.z),r=r+1}t.needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function oA(a){const e=a.strings,t=a.signals,s=new ie;s.setBorderTop("0"),s.setDisplay("none"),s.setPaddingTop("20px");let n=null;const i=new I,r=new w;i.add(new w(e.getKey("sidebar/geometry/type")).setClass("Label")),i.add(r),s.add(i);const o=new I,d=new gt().setWidth("102px").setFontSize("12px").setDisabled(!0),A=new de(e.getKey("sidebar/geometry/new")).setMarginLeft("7px").onClick(function(){d.setValue(ne.generateUUID()),a.execute(new Ga(a,a.selected,"uuid",d.getValue()))});o.add(new w(e.getKey("sidebar/geometry/uuid")).setClass("Label")),o.add(d),o.add(A),s.add(o);const c=new I,g=new gt().setWidth("150px").setFontSize("12px").onChange(function(){a.execute(new Ga(a,a.selected,"name",g.getValue()))});c.add(new w(e.getKey("sidebar/geometry/name")).setClass("Label")),c.add(g),s.add(c);const l=new dt;s.add(l),s.add(new Di(a));const u=new w().setFontSize("12px"),m=new I;m.add(new w(e.getKey("sidebar/geometry/bounds")).setClass("Label")),m.add(u),s.add(m);const p=new I,h=new ks().setValue("{}").setWidth("150px").setHeight("40px").setFontSize("12px").onChange(function(){try{const B=JSON.parse(h.getValue());JSON.stringify(a.selected.geometry.userData)!=JSON.stringify(B)&&(a.execute(new Ga(a,a.selected,"userData",B)),M())}catch(B){console.warn(B)}});h.onKeyUp(function(){try{JSON.parse(h.getValue()),h.dom.classList.add("success"),h.dom.classList.remove("fail")}catch{h.dom.classList.remove("success"),h.dom.classList.add("fail")}}),p.add(new w(e.getKey("sidebar/geometry/userdata")).setClass("Label")),p.add(h),s.add(p);const b=new I().setMarginLeft("120px");s.add(b);const E=new de(e.getKey("sidebar/geometry/show_vertex_normals"));E.onClick(function(){const B=a.selected;a.helpers[B.id]===void 0?a.addHelper(B,new Rn(B)):a.removeHelper(B),t.sceneGraphChanged.dispatch()}),b.add(E);const f=new de(e.getKey("sidebar/geometry/export"));f.setMarginLeft("120px"),f.onClick(function(){let j=a.selected.geometry.toJSON();try{j=JSON.stringify(j,null,"	"),j=j.replace(/[\n\t]+([\d\.e\-\[\]]+)/g,"$1")}catch{j=JSON.stringify(j)}a.utils.save(new Blob([j]),`${g.getValue()||"geometry"}.json`)}),s.add(f);const y=new le;y.setMarginTop("20px"),y.setDisplay("none"),s.add(y),y.add(new w(e.getKey("sidebar/geometry/morph")).setTextTransform("uppercase")),y.add(new Te),y.add(new Te);const C=new le;y.add(C);async function M(){const B=a.selected;if(B&&B.geometry){const G=B.geometry;if(s.setDisplay("block"),r.setValue(G.type),d.setValue(G.uuid),g.setValue(G.name),n!==G.type){if(l.clear(),G.type==="BufferGeometry"||G.type==="InstancedBufferGeometry")l.add(new ki(a,B));else{const{GeometryParametersPanel:O}=await Yd(Object.assign({"./Sidebar.Geometry.BoxGeometry.js":()=>te(()=>Promise.resolve().then(()=>jA),void 0),"./Sidebar.Geometry.BufferGeometry.js":()=>te(()=>Promise.resolve().then(()=>qd),void 0),"./Sidebar.Geometry.CapsuleGeometry.js":()=>te(()=>Promise.resolve().then(()=>FA),void 0),"./Sidebar.Geometry.CircleGeometry.js":()=>te(()=>Promise.resolve().then(()=>PA),void 0),"./Sidebar.Geometry.CylinderGeometry.js":()=>te(()=>Promise.resolve().then(()=>OA),void 0),"./Sidebar.Geometry.DodecahedronGeometry.js":()=>te(()=>Promise.resolve().then(()=>JA),void 0),"./Sidebar.Geometry.ExtrudeGeometry.js":()=>te(()=>Promise.resolve().then(()=>qA),void 0),"./Sidebar.Geometry.IcosahedronGeometry.js":()=>te(()=>Promise.resolve().then(()=>XA),void 0),"./Sidebar.Geometry.LatheGeometry.js":()=>te(()=>Promise.resolve().then(()=>ZA),void 0),"./Sidebar.Geometry.Modifiers.js":()=>te(()=>Promise.resolve().then(()=>rA),void 0),"./Sidebar.Geometry.OctahedronGeometry.js":()=>te(()=>Promise.resolve().then(()=>el),void 0),"./Sidebar.Geometry.PlaneGeometry.js":()=>te(()=>Promise.resolve().then(()=>al),void 0),"./Sidebar.Geometry.RingGeometry.js":()=>te(()=>Promise.resolve().then(()=>nl),void 0),"./Sidebar.Geometry.ShapeGeometry.js":()=>te(()=>Promise.resolve().then(()=>rl),void 0),"./Sidebar.Geometry.SphereGeometry.js":()=>te(()=>Promise.resolve().then(()=>dl),void 0),"./Sidebar.Geometry.TetrahedronGeometry.js":()=>te(()=>Promise.resolve().then(()=>ll),void 0),"./Sidebar.Geometry.TorusGeometry.js":()=>te(()=>Promise.resolve().then(()=>gl),void 0),"./Sidebar.Geometry.TorusKnotGeometry.js":()=>te(()=>Promise.resolve().then(()=>ml),void 0),"./Sidebar.Geometry.TubeGeometry.js":()=>te(()=>Promise.resolve().then(()=>pl),void 0)}),`./Sidebar.Geometry.${G.type}.js`,2);l.add(new O(a,B))}n=G.type}G.boundingBox===null&&G.computeBoundingBox();const j=G.boundingBox,$=Math.floor((j.max.x-j.min.x)*1e3)/1e3,Y=Math.floor((j.max.y-j.min.y)*1e3)/1e3,W=Math.floor((j.max.z-j.min.z)*1e3)/1e3;u.setInnerHTML(`${$}<br/>${Y}<br/>${W}`),b.setDisplay(G.hasAttribute("normal")?"":"none"),h.setValue(JSON.stringify(G.userData,null,"  "));const N=a.helpers[B.id];if(N!==void 0&&N.isVertexNormalsHelper===!0&&(a.removeHelper(B),a.addHelper(B,new Rn(B))),_.length=0,C.clear(),B.morphTargetInfluences){const O=B.morphTargetDictionary,H=B.morphTargetInfluences,F=Object.keys(O);for(let D=0;D<F.length;D++){const k=F[D];C.add(new S(D,k,H))}y.setDisplay("")}else y.setDisplay("none")}}const _=[];function S(B,G,j){const $=new I,Y=new w(G).setWidth("200px");$.add(Y);const W=new J().setWidth("60px").setRange(0,1).onChange(function(){j[B]=W.getValue(),t.objectChanged.dispatch(a.selected)});return W.setValue(j[B]),$.add(W),_.push(W),$}function v(){const B=a.selected;if(B!==null&&B.morphTargetInfluences)for(let G=0;G<_.length;G++)_[G].setValue(B.morphTargetInfluences[G])}return t.objectSelected.add(function(){n=null,M()}),t.geometryChanged.add(M),t.morphTargetsUpdated.add(v),s}function bt(a,e,t){const s=a.signals,n=new I;n.add(new w(t).setClass("Label"));const i=new We().setLeft("100px").onChange(A);n.add(i);let r=null,o=null,d=null;function A(){d[e]!==i.getValue()&&a.execute(new rt(a,r,e,i.getValue(),o))}function c(g,l=0){r=g,o=l,r!==null&&r.material!==void 0&&(d=a.getObjectMaterial(r,o),e in d?(i.setValue(d[e]),n.setDisplay("")):n.setDisplay("none"))}return s.objectSelected.add(c),s.materialChanged.add(c),n}function da(a,e,t){const s=a.signals,n=new I;n.add(new w(t).setClass("Label"));const i=new fa().onInput(c);n.add(i);let r;e==="emissive"&&(r=new J(1).setWidth("30px").setRange(0,1/0).onChange(c),n.add(r));let o=null,d=null,A=null;function c(){A[e].getHex()!==i.getHexValue()&&a.execute(new bi(a,o,e,i.getHexValue(),d)),r!==void 0&&A[`${e}Intensity`]!==r.getValue()&&a.execute(new rt(a,o,`${e}Intensity`,r.getValue(),d))}function g(l,u=0){o=l,d=u,o!==null&&o.material!==void 0&&(A=a.getObjectMaterial(o,d),e in A?(i.setHexValue(A[e].getHexString()),r!==void 0&&r.setValue(A[`${e}Intensity`]),n.setDisplay("")):n.setDisplay("none"))}return s.objectSelected.add(g),s.materialChanged.add(g),n}function hs(a,e,t,s){const n=a.signals,i=new I;i.add(new w(t).setClass("Label"));const r=new ke().setOptions(s).onChange(c);i.add(r);let o=null,d=null,A=null;function c(){const l=parseInt(r.getValue());A[e]!==l&&a.execute(new rt(a,o,e,l,d))}function g(l,u=0){o=l,d=u,o!==null&&o.material!==void 0&&(A=a.getObjectMaterial(o,d),e in A?(r.setValue(A[e]),i.setDisplay("")):i.setDisplay("none"))}return n.objectSelected.add(g),n.materialChanged.add(g),i}function ye(a,e,t){const s=a.signals,n=new I;n.add(new w(t).setClass("Label"));const i=new We(!1).setMarginRight("8px").onChange(E);n.add(i);const r=new Va(a).onChange(f);n.add(r);const o=e.replace("Map",""),d=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"];let A;e==="aoMap"&&(A=new J(1).setWidth("30px").setRange(0,1).onChange(y),n.add(A));let c;(e==="bumpMap"||e==="displacementMap")&&(c=new J().setWidth("30px").onChange(C),n.add(c));let g,l;(e==="normalMap"||e==="clearcoatNormalMap")&&(g=new J().setWidth("30px").onChange(M),n.add(g),l=new J().setWidth("30px").onChange(M),n.add(l));let u,m;if(e==="iridescenceThicknessMap"){const v=new le().setMarginLeft("3px");n.add(v);const B=new I().setMarginBottom("0px").setStyle("min-height","0px");v.add(B),B.add(new w("min:").setWidth("35px")),u=new J().setWidth("40px").onChange(_),B.add(u);const G=new I().setMarginBottom("6px").setStyle("min-height","0px");v.add(G),G.add(new w("max:").setWidth("35px")),m=new J().setWidth("40px").onChange(_),G.add(m),u.setPrecision(0).setRange(0,1/0).setNudge(1).setStep(10).setUnit("nm"),m.setPrecision(0).setRange(0,1/0).setNudge(1).setStep(10).setUnit("nm")}let p=null,h=null,b=null;function E(){const v=i.getValue()?r.getValue():null;if(b[e]!==v){if(v!==null){const B=p.geometry;B.hasAttribute("uv")===!1&&console.warn("Geometry doesn't have uvs:",B),e==="envMap"&&(v.mapping=Ta)}a.execute(new fi(a,p,e,v,h))}}function f(v){v!==null&&d.includes(e)&&v.isDataTexture!==!0&&v.colorSpace!==Ye&&(v.colorSpace=Ye,b.needsUpdate=!0),i.setDisabled(!1),E()}function y(){b[`${e}Intensity`]!==A.getValue()&&a.execute(new rt(a,p,`${e}Intensity`,A.getValue(),h))}function C(){b[`${o}Scale`]!==c.getValue()&&a.execute(new rt(a,p,`${o}Scale`,c.getValue(),h))}function M(){const v=[g.getValue(),l.getValue()];(b[`${o}Scale`].x!==v[0]||b[`${o}Scale`].y!==v[1])&&a.execute(new yi(a,p,`${o}Scale`,v,h))}function _(){const v=[u.getValue(),m.getValue()];(b[`${o}Range`][0]!==v[0]||b[`${o}Range`][1]!==v[1])&&a.execute(new Us(a,p,`${o}Range`,v[0],v[1],h))}function S(v,B=0){p=v,h=B,p!==null&&p.material!==void 0&&(b=a.getObjectMaterial(p,h),e in b?(b[e]!==null&&r.setValue(b[e]),i.setValue(b[e]!==null),i.setDisabled(r.getValue()===null),A!==void 0&&A.setValue(b[`${e}Intensity`]),c!==void 0&&c.setValue(b[`${o}Scale`]),g!==void 0&&(g.setValue(b[`${o}Scale`].x),l.setValue(b[`${o}Scale`].y)),u!==void 0&&(u.setValue(b[`${o}Range`][0]),m.setValue(b[`${o}Range`][1])),n.setDisplay("")):n.setDisplay("none"))}return s.objectSelected.add(function(v){r.setValue(null),S(v)}),s.materialChanged.add(S),n}function ve(a,e,t,s=[-1/0,1/0],n=2){const i=a.signals,r=new I;r.add(new w(t).setClass("Label"));const o=new J().setWidth("60px").setRange(s[0],s[1]).setPrecision(n).onChange(g);r.add(o);let d=null,A=null,c=null;function g(){c[e]!==o.getValue()&&a.execute(new rt(a,d,e,o.getValue(),A))}function l(u,m=0){d=u,A=m,d!==null&&d.material!==void 0&&(c=a.getObjectMaterial(d,A),e in c?(o.setValue(c[e]),r.setDisplay("")):r.setDisplay("none"))}return i.objectSelected.add(l),i.materialChanged.add(l),r}function dA(a,e,t,s,n=[-1/0,1/0],i=2,r=1,o=.01,d=""){const A=a.signals,c=new I;c.add(new w(t).setClass("Label"));const g=new J().setWidth("60px").setRange(n[0],n[1]).setPrecision(i).setStep(r).setNudge(o).setUnit(d).onChange(p);c.add(g);let l=null,u=null,m=null;function p(){if(m[e][s?0:1]!==g.getValue()){const b=s?g.getValue():m[e][0],E=s?m[e][1]:g.getValue();a.execute(new Us(a,l,e,b,E,u))}}function h(b,E=0){l=b,u=E,l!==null&&l.material!==void 0&&(m=a.getObjectMaterial(l,u),e in m?(g.setValue(m[e][s?0:1]),c.setDisplay("")):c.setDisplay("none"))}return A.objectSelected.add(h),A.materialChanged.add(h),c}function AA(a,e){const t=a.signals,s=a.strings;let n=null,i=null,r=null;const o=new I;o.add(new w(s.getKey("sidebar/material/program")).setClass("Label"));const d=new de(s.getKey("sidebar/material/info"));d.setMarginRight("4px"),d.onClick(function(){t.editScript.dispatch(n,"programInfo")}),o.add(d);const A=new de(s.getKey("sidebar/material/vertex"));A.setMarginRight("4px"),A.onClick(function(){t.editScript.dispatch(n,"vertexShader")}),o.add(A);const c=new de(s.getKey("sidebar/material/fragment"));c.setMarginRight("4px"),c.onClick(function(){t.editScript.dispatch(n,"fragmentShader")}),o.add(c);function g(l,u=0){n=l,i=u,n!==null&&n.material!==void 0&&(r=a.getObjectMaterial(n,i),e in r?o.setDisplay(""):o.setDisplay("none"))}return t.objectSelected.add(g),t.materialChanged.add(g),o}function lA(a){const e=a.signals,t=a.strings;let s,n=0;const i=new ie;i.setBorderTop("0"),i.setDisplay("none"),i.setPaddingTop("20px");const r=new I;r.add(new w(t.getKey("sidebar/material/slot")).setClass("Label"));const o=new ke().setWidth("170px").setFontSize("12px").onChange(wa);o.setOptions({0:""}).setValue(0),r.add(o),i.add(r);const d=new I,A=new ke().setWidth("150px").setFontSize("12px").onChange(wa);d.add(new w(t.getKey("sidebar/material/type")).setClass("Label")),d.add(A),i.add(d);const c=new I,g=new gt().setWidth("102px").setFontSize("12px").setDisabled(!0),l=new de(t.getKey("sidebar/material/new")).setMarginLeft("7px");l.onClick(function(){g.setValue(ne.generateUUID()),wa()}),c.add(new w(t.getKey("sidebar/material/uuid")).setClass("Label")),c.add(g),c.add(l),i.add(c);const u=new I,m=new gt().setWidth("150px").setFontSize("12px").onChange(function(){a.execute(new rt(a,a.selected,"name",m.getValue(),n))});u.add(new w(t.getKey("sidebar/material/name")).setClass("Label")),u.add(m),i.add(u);const p=new AA(a,"vertexShader");i.add(p);const h=new da(a,"color",t.getKey("sidebar/material/color"));i.add(h);const b=new da(a,"specular",t.getKey("sidebar/material/specular"));i.add(b);const E=new ve(a,"shininess",t.getKey("sidebar/material/shininess"));i.add(E);const f=new da(a,"emissive",t.getKey("sidebar/material/emissive"));i.add(f);const y=new ve(a,"reflectivity",t.getKey("sidebar/material/reflectivity"));i.add(y);const C=new ve(a,"ior",t.getKey("sidebar/material/ior"),[1,2.333],3);i.add(C);const M=new ve(a,"roughness",t.getKey("sidebar/material/roughness"),[0,1]);i.add(M);const _=new ve(a,"metalness",t.getKey("sidebar/material/metalness"),[0,1]);i.add(_);const S=new ve(a,"clearcoat",t.getKey("sidebar/material/clearcoat"),[0,1]);i.add(S);const v=new ve(a,"clearcoatRoughness",t.getKey("sidebar/material/clearcoatroughness"),[0,1]);i.add(v);const B=new ve(a,"dispersion",t.getKey("sidebar/material/dispersion"),[0,10]);i.add(B);const G=new ve(a,"iridescence",t.getKey("sidebar/material/iridescence"),[0,1]);i.add(G);const j=new ve(a,"iridescenceIOR",t.getKey("sidebar/material/iridescenceIOR"),[1,5]);i.add(j);const $=new dA(a,"iridescenceThicknessRange",t.getKey("sidebar/material/iridescenceThicknessMax"),!1,[0,1/0],0,10,1,"nm");i.add($);const Y=new ve(a,"sheen",t.getKey("sidebar/material/sheen"),[0,1]);i.add(Y);const W=new ve(a,"sheenRoughness",t.getKey("sidebar/material/sheenroughness"),[0,1]);i.add(W);const N=new da(a,"sheenColor",t.getKey("sidebar/material/sheencolor"));i.add(N);const O=new ve(a,"transmission",t.getKey("sidebar/material/transmission"),[0,1]);i.add(O);const H=new ve(a,"attenuationDistance",t.getKey("sidebar/material/attenuationDistance"));i.add(H);const F=new da(a,"attenuationColor",t.getKey("sidebar/material/attenuationColor"));i.add(F);const D=new ve(a,"thickness",t.getKey("sidebar/material/thickness"));i.add(D);const k=new bt(a,"vertexColors",t.getKey("sidebar/material/vertexcolors"));i.add(k);const q={[Rr]:"Basic",[Dr]:"RGBA"},P=new hs(a,"depthPacking",t.getKey("sidebar/material/depthPacking"),q);i.add(P);const V=new ye(a,"map",t.getKey("sidebar/material/map"));i.add(V);const K=new ye(a,"specularMap",t.getKey("sidebar/material/specularmap"));i.add(K);const Q=new ye(a,"emissiveMap",t.getKey("sidebar/material/emissivemap"));i.add(Q);const R=new ye(a,"matcap",t.getKey("sidebar/material/matcap"));i.add(R);const L=new ye(a,"alphaMap",t.getKey("sidebar/material/alphamap"));i.add(L);const X=new ye(a,"bumpMap",t.getKey("sidebar/material/bumpmap"));i.add(X);const T=new ye(a,"normalMap",t.getKey("sidebar/material/normalmap"));i.add(T);const z=new ye(a,"clearcoatMap",t.getKey("sidebar/material/clearcoatmap"));i.add(z);const ee=new ye(a,"clearcoatNormalMap",t.getKey("sidebar/material/clearcoatnormalmap"));i.add(ee);const se=new ye(a,"clearcoatRoughnessMap",t.getKey("sidebar/material/clearcoatroughnessmap"));i.add(se);const fe=new ye(a,"displacementMap",t.getKey("sidebar/material/displacementmap"));i.add(fe);const Ke=new ye(a,"roughnessMap",t.getKey("sidebar/material/roughnessmap"));i.add(Ke);const ut=new ye(a,"metalnessMap",t.getKey("sidebar/material/metalnessmap"));i.add(ut);const $e=new ye(a,"iridescenceMap",t.getKey("sidebar/material/iridescencemap"));i.add($e);const Mt=new ye(a,"sheenColorMap",t.getKey("sidebar/material/sheencolormap"));i.add(Mt);const Dt=new ye(a,"sheenRoughnessMap",t.getKey("sidebar/material/sheenroughnessmap"));i.add(Dt);const Rt=new ye(a,"iridescenceThicknessMap",t.getKey("sidebar/material/iridescencethicknessmap"));i.add(Rt);const _t=new ye(a,"envMap",t.getKey("sidebar/material/envmap"));i.add(_t);const Lt=new ye(a,"lightMap",t.getKey("sidebar/material/lightmap"));i.add(Lt);const Tt=new ye(a,"aoMap",t.getKey("sidebar/material/aomap"));i.add(Tt);const Nt=new ye(a,"gradientMap",t.getKey("sidebar/material/gradientmap"));i.add(Nt);const Gt=new ye(a,"transmissionMap",t.getKey("sidebar/material/transmissionmap"));i.add(Gt);const Yt=new ye(a,"thicknessMap",t.getKey("sidebar/material/thicknessmap"));i.add(Yt);const kt={0:"Front",1:"Back",2:"Double"},qt=new hs(a,"side",t.getKey("sidebar/material/side"),kt);i.add(qt);const jt=new ve(a,"size",t.getKey("sidebar/material/size"),[0,1/0]);i.add(jt);const zt=new bt(a,"sizeAttenuation",t.getKey("sidebar/material/sizeAttenuation"));i.add(zt);const Vt=new bt(a,"flatShading",t.getKey("sidebar/material/flatShading"));i.add(Vt);const Xt={0:"No",1:"Normal",2:"Additive",3:"Subtractive",4:"Multiply",5:"Custom"},Pe=new hs(a,"blending",t.getKey("sidebar/material/blending"),Xt);i.add(Pe);const Wt=new ve(a,"opacity",t.getKey("sidebar/material/opacity"),[0,1]);i.add(Wt);const Ae=new bt(a,"transparent",t.getKey("sidebar/material/transparent"));i.add(Ae);const Za=new bt(a,"forceSinglePass",t.getKey("sidebar/material/forcesinglepass"));i.add(Za);const $a=new ve(a,"alphaTest",t.getKey("sidebar/material/alphatest"),[0,1]);i.add($a);const Zt=new bt(a,"depthTest",t.getKey("sidebar/material/depthtest"));i.add(Zt);const x=new bt(a,"depthWrite",t.getKey("sidebar/material/depthwrite"));i.add(x);const De=new bt(a,"wireframe",t.getKey("sidebar/material/wireframe"));i.add(De);const qe=new I,Se=new ks().setWidth("150px").setHeight("40px").setFontSize("12px").onChange(wa);Se.onKeyUp(function(){try{JSON.parse(Se.getValue()),Se.dom.classList.add("success"),Se.dom.classList.remove("fail")}catch{Se.dom.classList.remove("success"),Se.dom.classList.add("fail")}}),qe.add(new w(t.getKey("sidebar/material/userdata")).setClass("Label")),qe.add(Se),i.add(qe);const Oe=new de(t.getKey("sidebar/material/export"));Oe.setMarginLeft("120px"),Oe.onClick(function(){const ge=a.selected;let pe=(Array.isArray(ge.material)?ge.material[n]:ge.material).toJSON();try{pe=JSON.stringify(pe,null,"	"),pe=pe.replace(/[\n\t]+([\d\.e\-\[\]]+)/g,"$1")}catch{pe=JSON.stringify(pe)}a.utils.save(new Blob([pe]),`${m.getValue()||"material"}.json`)}),i.add(Oe);function wa(){const ge=n;n=parseInt(o.getValue()),n!==ge&&a.signals.materialChanged.dispatch(s,n);let he=a.getObjectMaterial(s,n);if(he){if(he.uuid!==void 0&&he.uuid!==g.getValue()&&a.execute(new rt(a,s,"uuid",g.getValue(),n)),he.type!==A.getValue()){he=new cA[A.getValue()],he.type==="RawShaderMaterial"&&(he.vertexShader=gA+he.vertexShader);const pe=s.material;if(he.type==="MeshPhysicalMaterial"&&pe.type==="MeshStandardMaterial"){const Ys=["color","emissive","roughness","metalness","map","emissiveMap","alphaMap","bumpMap","normalMap","normalScale","displacementMap","roughnessMap","metalnessMap","envMap","lightMap","aoMap","side"];for(const ts of Ys){const Ea=pe[ts];Ea!==null&&(Ea.clone!==void 0?he[ts]=Ea.clone():he[ts]=Ea)}}Array.isArray(pe)?a.removeMaterial(pe[n]):a.removeMaterial(pe),a.execute(new Ps(a,s,he,n),t.getKey("command/SetMaterial")+": "+A.getValue()),a.addMaterial(he)}try{const pe=JSON.parse(Se.getValue());JSON.stringify(he.userData)!=JSON.stringify(pe)&&a.execute(new rt(a,s,"userData",pe,n))}catch(pe){console.warn(pe)}es()}}function Vi(){const ge=s.material;Array.isArray(ge)?r.setDisplay(""):r.setDisplay("none")}function es(){if(!s)return;let ge=s.material;if(Array.isArray(ge)){const he={};n=Math.max(0,Math.min(ge.length,n));for(let pe=0;pe<ge.length;pe++)he[pe]=String(pe+1)+": "+ge[pe].name;o.setOptions(he).setValue(n)}ge=a.getObjectMaterial(s,n),ge.uuid!==void 0&&g.setValue(ge.uuid),ge.name!==void 0&&m.setValue(ge.name),s.isMesh?A.setOptions(uA):s.isSprite?A.setOptions(hA):s.isPoints?A.setOptions(pA):s.isLine&&A.setOptions(mA),A.setValue(ge.type),Vi();try{Se.setValue(JSON.stringify(ge.userData,null,"  "))}catch(he){console.log(he)}Se.setBorderColor("transparent"),Se.setBackgroundColor("")}return e.objectSelected.add(function(ge){let he=!1;ge&&ge.material&&(he=!0,Array.isArray(ge.material)&&ge.material.length===0&&(he=!1)),he?(s=ge,es(),i.setDisplay("")):(s=null,i.setDisplay("none"))}),e.materialChanged.add(es),i}const cA={LineBasicMaterial:Ha,LineDashedMaterial:Mr,MeshBasicMaterial:Ge,MeshDepthMaterial:vr,MeshNormalMaterial:Jn,MeshLambertMaterial:Hn,MeshMatcapMaterial:xr,MeshPhongMaterial:Sr,MeshToonMaterial:Qr,MeshStandardMaterial:ue,MeshPhysicalMaterial:Ze,RawShaderMaterial:Br,ShaderMaterial:Er,ShadowMaterial:wr,SpriteMaterial:Ts,PointsMaterial:ua},gA=["uniform mat4 projectionMatrix;",`uniform mat4 modelViewMatrix;
`,`attribute vec3 position;

`].join(`
`),uA={MeshBasicMaterial:"MeshBasicMaterial",MeshDepthMaterial:"MeshDepthMaterial",MeshNormalMaterial:"MeshNormalMaterial",MeshLambertMaterial:"MeshLambertMaterial",MeshMatcapMaterial:"MeshMatcapMaterial",MeshPhongMaterial:"MeshPhongMaterial",MeshToonMaterial:"MeshToonMaterial",MeshStandardMaterial:"MeshStandardMaterial",MeshPhysicalMaterial:"MeshPhysicalMaterial",RawShaderMaterial:"RawShaderMaterial",ShaderMaterial:"ShaderMaterial",ShadowMaterial:"ShadowMaterial"},mA={LineBasicMaterial:"LineBasicMaterial",LineDashedMaterial:"LineDashedMaterial",RawShaderMaterial:"RawShaderMaterial",ShaderMaterial:"ShaderMaterial"},hA={SpriteMaterial:"SpriteMaterial",RawShaderMaterial:"RawShaderMaterial",ShaderMaterial:"ShaderMaterial"},pA={PointsMaterial:"PointsMaterial",RawShaderMaterial:"RawShaderMaterial",ShaderMaterial:"ShaderMaterial"};function bA(a){const e=a.strings,t=a.signals,s=new ie;s.setBorderTop("0"),s.setPaddingTop("20px"),s.setDisplay("none");const n=new I;s.add(n);const i=new de(e.getKey("sidebar/script/new"));i.onClick(function(){const o={name:"",source:"function update( event ) {}"};a.execute(new mi(a,a.selected,o))}),s.add(i);function r(){n.clear(),n.setDisplay("none");const o=a.selected;if(o===null)return;const d=a.scripts[o.uuid];if(d!==void 0&&d.length>0){n.setDisplay("block");for(let A=0;A<d.length;A++)(function(c,g){const l=new gt(g.name).setWidth("130px").setFontSize("12px");l.onChange(function(){a.execute(new Ci(a,a.selected,g,"name",this.getValue()))}),n.add(l);const u=new de(e.getKey("sidebar/script/edit"));u.setMarginLeft("4px"),u.onClick(function(){t.editScript.dispatch(c,g)}),n.add(u);const m=new de(e.getKey("sidebar/script/remove"));m.setMarginLeft("4px"),m.onClick(function(){confirm(e.getKey("prompt/script/remove"))&&a.execute(new pi(a,a.selected,g))}),n.add(m),n.add(new Te)})(o,d[A])}}return t.objectSelected.add(function(o){o!==null&&a.camera!==o?(s.setDisplay("block"),r()):s.setDisplay("none")}),t.scriptAdded.add(r),t.scriptRemoved.add(r),t.scriptChanged.add(r),s}function fA(a){const e=a.strings,t=new js;t.setId("properties"),t.addTab("objectTab",e.getKey("sidebar/properties/object"),new Jd(a)),t.addTab("geometryTab",e.getKey("sidebar/properties/geometry"),new oA(a)),t.addTab("materialTab",e.getKey("sidebar/properties/material"),new lA(a)),t.addTab("scriptTab",e.getKey("sidebar/properties/script"),new bA(a)),t.select("objectTab");function s(d,A){return d.find(function(c){return c.dom.id===A})}const n=s(t.tabs,"geometryTab"),i=s(t.tabs,"materialTab"),r=s(t.tabs,"scriptTab");function o(d){t.setHidden(d===null),d!==null&&(n.setHidden(!d.geometry),i.setHidden(!d.material),r.setHidden(d===a.camera),t.selected==="geometryTab"?t.select(n.isHidden()?"objectTab":"geometryTab"):t.selected==="materialTab"?t.select(i.isHidden()?"objectTab":"materialTab"):t.selected==="scriptTab"&&t.select(r.isHidden()?"objectTab":"scriptTab"))}return a.signals.objectSelected.add(o),o(a.selected),t}function yA(a){const e=a.config,t=a.signals,s=a.strings,n=a.utils.save,i=new ie;i.setId("app");const r=new I;r.add(new w(s.getKey("sidebar/project/app").toUpperCase())),i.add(r);const o=new I,d=new gt(e.getKey("project/title")).setLeft("100px").setWidth("150px").onChange(function(){e.setKey("project/title",this.getValue())});o.add(new w(s.getKey("sidebar/project/app/title")).setClass("Label")),o.add(d),i.add(o);const A=new I,c=new We(e.getKey("project/editable")).setLeft("100px").onChange(function(){e.setKey("project/editable",this.getValue())});A.add(new w(s.getKey("sidebar/project/app/editable")).setClass("Label")),A.add(c),i.add(A);let g=!1;const l=new de(s.getKey("sidebar/project/app/play"));l.setWidth("170px"),l.setMarginLeft("120px"),l.setMarginBottom("10px"),l.onClick(function(){g===!1?(g=!0,l.setTextContent(s.getKey("sidebar/project/app/stop")),t.startPlayer.dispatch()):(g=!1,l.setTextContent(s.getKey("sidebar/project/app/play")),t.stopPlayer.dispatch())}),i.add(l);const u=new de(s.getKey("sidebar/project/app/publish"));return u.setWidth("170px"),u.setMarginLeft("120px"),u.setMarginBottom("10px"),u.onClick(function(){const m={};let p=a.toJSON();p.metadata.type="App",delete p.history,p=JSON.stringify(p,null,"	"),p=p.replace(/[\n\t]+([\d\.e\-\[\]]+)/g,"$1"),m["app.json"]=xt(p);const h=e.getKey("project/title"),b=new ps(function(){const f=mo(m,{level:9}),y=new Blob([f.buffer],{type:"application/zip"});n(y,(h!==""?h:"untitled")+".zip")}),E=new qa(b);E.load("js/libs/app/index.html",function(f){f=f.replace("<!-- title -->",h);let y="";e.getKey("project/editable")&&(y=["			let button = document.createElement( 'a' );","			button.href = 'https://threejs.org/editor/#file=' + location.href.split( '/' ).slice( 0, - 1 ).join( '/' ) + '/app.json';","			button.style.cssText = 'position: absolute; bottom: 20px; right: 20px; padding: 10px 16px; color: #fff; border: 1px solid #fff; border-radius: 20px; text-decoration: none;';","			button.target = '_blank';","			button.textContent = 'EDIT';","			document.body.appendChild( button );"].join(`
`)),f=f.replace("			/* edit button */",y),m["index.html"]=xt(f)}),E.load("js/libs/app.js",function(f){m["js/app.js"]=xt(f)}),E.load("../build/three.core.js",function(f){m["js/three.core.js"]=xt(f)}),E.load("../build/three.module.js",function(f){m["js/three.module.js"]=xt(f)})}),i.add(u),t.editorCleared.add(function(){d.setValue(""),e.setKey("project/title","")}),i}function CA(a){const e=a.config,t=a.signals,s=a.strings;let n=null;const i=new ie;i.setBorderTop("0px");const r=new I;i.add(r),r.add(new w(s.getKey("sidebar/project/renderer")).setClass("Label"));const o=new ke().setOptions({WebGLRenderer:"WebGL",WebGPURenderer:"WebGPU"}).setWidth("150px").onChange(E);o.setValue(e.getKey("project/renderer/type")),r.add(o);const d=new I;i.add(d),d.add(new w(s.getKey("sidebar/project/antialias")).setClass("Label"));const A=new Ot(e.getKey("project/renderer/antialias")).onChange(E);d.add(A);const c=new I;i.add(c),c.add(new w(s.getKey("sidebar/project/shadows")).setClass("Label"));const g=new Ot(e.getKey("project/renderer/shadows")).onChange(u);c.add(g);const l=new ke().setOptions({0:"Basic",1:"PCF",3:"VSM"}).setWidth("125px").onChange(u);l.setValue(e.getKey("project/renderer/shadowType")),c.add(l);function u(){n.shadowMap.enabled=g.getValue(),n.shadowMap.type=parseFloat(l.getValue()),t.rendererUpdated.dispatch()}const m=new I;i.add(m),m.add(new w(s.getKey("sidebar/project/toneMapping")).setClass("Label"));const p=new ke().setOptions({0:"No",1:"Linear",2:"Reinhard",3:"Cineon",4:"ACESFilmic",6:"AgX",7:"Neutral"}).setWidth("120px").onChange(b);p.setValue(e.getKey("project/renderer/toneMapping")),m.add(p);const h=new J(e.getKey("project/renderer/toneMappingExposure"));h.setDisplay(p.getValue()==="0"?"none":""),h.setWidth("30px").setMarginLeft("10px"),h.setRange(0,10),h.onChange(b),m.add(h);function b(){h.setDisplay(p.getValue()==="0"?"none":""),n.toneMapping=parseFloat(p.getValue()),n.toneMappingExposure=h.getValue(),t.rendererUpdated.dispatch()}async function E(){const f=o.getValue(),y=A.getValue();f==="WebGPURenderer"?(n=new _r({antialias:y,logarithmicDepthBuffer:!0}),await n.init()):n=new(void 0)({antialias:y,logarithmicDepthBuffer:!0}),n.shadowMap.enabled=g.getValue(),n.shadowMap.type=parseFloat(l.getValue()),n.toneMapping=parseFloat(p.getValue()),n.toneMappingExposure=h.getValue(),t.rendererCreated.dispatch(n),t.rendererUpdated.dispatch()}return E(),t.editorCleared.add(function(){n.shadowMap.enabled=!0,n.shadowMap.type=Lr,n.toneMapping=Tr,n.toneMappingExposure=1,g.setValue(n.shadowMap.enabled),l.setValue(n.shadowMap.type),p.setValue(n.toneMapping),h.setValue(n.toneMappingExposure),h.setDisplay(n.toneMapping===0?"none":""),t.rendererUpdated.dispatch()}),t.rendererUpdated.add(function(){e.setKey("project/renderer/type",o.getValue(),"project/renderer/antialias",A.getValue(),"project/renderer/shadows",g.getValue(),"project/renderer/shadowType",parseFloat(l.getValue()),"project/renderer/toneMapping",parseFloat(p.getValue()),"project/renderer/toneMappingExposure",h.getValue())}),i}function IA(a){const e=a.signals,t=a.strings,s=new js,n=new ie;n.dom.style.borderTop="none";const i=new ns;i.dom.style.height="140px",i.dom.style.resize="vertical",i.dom.style.marginBottom="10px",n.add(i);const r=new de(t.getKey("sidebar/project/Assign"));n.add(r);const o=new w;o.dom.style.float="right",n.add(o),r.onClick(function(){const C=a.selected;if(C!==null&&C.geometry!==void 0){const M=i.getValue(),S=Object.values(a.geometries).find(v=>v.id===parseInt(M));S!==void 0&&a.execute(new Be(a,C,S))}}),s.addTab("geometries",t.getKey("sidebar/project/geometries"),n);const d=new ie;d.dom.style.borderTop="none";const A=new ns;A.dom.style.height="140px",A.dom.style.resize="vertical",A.dom.style.marginBottom="10px",d.add(A);const c=new de(t.getKey("sidebar/project/Assign"));d.add(c);const g=new w;g.dom.style.float="right",d.add(g),c.onClick(function(){const C=a.selected;if(C!==null&&C.material!==void 0){const M=A.getValue(),S=Object.values(a.materials).find(v=>v.id===parseInt(M));S!==void 0&&a.execute(new Ps(a,C,S))}}),s.addTab("materials",t.getKey("sidebar/project/materials"),d);const l=new ie;l.dom.style.borderTop="none";const u=new ns;u.dom.style.height="140px",u.dom.style.resize="vertical",u.dom.style.marginBottom="10px",l.add(u);const m=new w;m.dom.style.float="right",l.add(m),s.addTab("textures",t.getKey("sidebar/project/textures"),l),s.select("geometries");function p(){const C=Object.values(a.geometries);i.setItems(C),o.setValue(C.length+" "+t.getKey("sidebar/project/geometries").toLowerCase())}function h(){const C=Object.values(a.materials);A.setItems(C),g.setValue(C.length+" "+t.getKey("sidebar/project/materials").toLowerCase())}function b(){const C=[],M=new Set,_=Object.values(a.materials);for(const S of _)for(const v in S){const B=S[v];B!=null&&B.isTexture===!0&&M.has(B.uuid)===!1&&(C.push(B),M.add(B.uuid))}u.setItems(C),m.setValue(C.length+" "+t.getKey("sidebar/project/textures").toLowerCase())}function E(){p(),h(),b()}let f;function y(){clearTimeout(f),f=setTimeout(E,100)}return e.editorCleared.add(y),e.sceneGraphChanged.add(y),e.geometryChanged.add(y),e.materialAdded.add(y),e.materialChanged.add(y),e.materialRemoved.add(y),e.objectSelected.add(function(C){if(C!==null){const M=Object.values(a.geometries),_=Object.values(a.materials);if(C.geometry!==void 0){const S=M.indexOf(C.geometry);i.selectIndex(S)}if(C.material!==void 0){const S=Array.isArray(C.material)?C.material[0]:C.material,v=_.indexOf(S);A.selectIndex(v)}}else i.selectIndex(-1),A.selectIndex(-1)}),s}function wA(a){const e=new dt;return e.add(new CA(a)),e.add(new yA(a)),e.add(new IA(a)),e}function EA(a){const e=a.strings,t=navigator.platform.toUpperCase().indexOf("MAC")>=0;function s(c){return c.match(/^[A-Za-z0-9]$/i)}const n=a.config,i=a.signals,r=new ie,o=new I;o.add(new w(e.getKey("sidebar/settings/shortcuts").toUpperCase())),r.add(o);const d=["translate","rotate","scale","undo","focus"];function A(c){const g="settings/shortcuts/"+c,l=new I,u=new gt().setWidth("15px").setFontSize("12px");u.setTextAlign("center"),u.setTextTransform("lowercase"),u.onChange(function(){const m=u.getValue().toLowerCase();s(m)&&n.setKey(g,m)}),u.dom.addEventListener("click",function(){u.dom.select()}),u.dom.addEventListener("blur",function(){s(u.getValue())||u.setValue(n.getKey(g))}),u.dom.addEventListener("keyup",function(m){s(m.key)&&u.dom.blur()}),n.getKey(g)!==void 0&&u.setValue(n.getKey(g)),u.dom.maxLength=1,l.add(new w(e.getKey("sidebar/settings/shortcuts/"+c)).setTextTransform("capitalize").setClass("Label")),l.add(u),r.add(l)}for(let c=0;c<d.length;c++)A(d[c]);return document.addEventListener("keydown",function(c){switch(c.key.toLowerCase()){case"backspace":c.preventDefault();case"delete":const g=a.selected;if(g===null)return;g.parent!==null&&a.execute(new Ks(a,g));break;case n.getKey("settings/shortcuts/translate"):i.transformModeChanged.dispatch("translate");break;case n.getKey("settings/shortcuts/rotate"):i.transformModeChanged.dispatch("rotate");break;case n.getKey("settings/shortcuts/scale"):i.transformModeChanged.dispatch("scale");break;case n.getKey("settings/shortcuts/undo"):(t?c.metaKey:c.ctrlKey)&&(c.preventDefault(),c.shiftKey?a.redo():a.undo());break;case n.getKey("settings/shortcuts/focus"):a.selected!==null&&a.focus(a.selected);break}}),r}function BA(a){const e=a.strings,t=a.signals,s=a.config,n=a.history,i=new ie;i.add(new w(e.getKey("sidebar/history").toUpperCase()));const r=new Ot(s.getKey("settings/history"),e.getKey("sidebar/history/persistent"));r.setPosition("absolute").setRight("8px"),r.onChange(function(){const g=this.getValue();if(s.setKey("settings/history",g),g){alert(e.getKey("prompt/history/preserve"));const l=n.undos[n.undos.length-1],u=l!==void 0?l.id:0;a.history.enableSerialization(u)}else t.historyChanged.dispatch()}),i.add(r),i.add(new Te,new Te);let o=!1;const d=new vi(a);d.onChange(function(){o=!0,a.history.goToState(parseInt(d.getValue())),o=!1}),i.add(d),i.add(new Te);const A=new de(e.getKey("sidebar/history/clear"));A.onClick(function(){confirm(e.getKey("prompt/history/clear"))&&a.history.clear()}),i.add(A);const c=function(){const g=[];function l(u){const m=document.createElement("div");return m.value=u.id,m}(function(m){for(let p=0,h=m.length;p<h;p++){const b=m[p],E=l(b);E.innerHTML="&nbsp;"+b.name,g.push(E)}})(n.undos),(function(m){for(let p=m.length-1;p>=0;p--){const h=m[p],b=l(h);b.innerHTML="&nbsp;"+h.name,b.style.opacity=.3,g.push(b)}})(n.redos),d.setOptions(g)};return c(),t.editorCleared.add(c),t.historyChanged.add(c),t.historyChanged.add(function(g){o!==!0&&d.setValue(g!==void 0?g.id:null)}),i}function QA(a){const e=a.config,t=a.strings,s=new dt,n=new ie;n.setBorderTop("0"),n.setPaddingTop("20px"),s.add(n);const i=Object.fromEntries(["en","fr","zh","ja","ko","fa"].map(d=>[d,new Intl.DisplayNames(d,{type:"language"}).of(d)])),r=new I,o=new ke().setWidth("150px");return o.setOptions(i),e.getKey("language")!==void 0&&o.setValue(e.getKey("language")),o.onChange(function(){const d=this.getValue();a.config.setKey("language",d)}),r.add(new w(t.getKey("sidebar/settings/language")).setClass("Label")),r.add(o),n.add(r),s.add(new EA(a)),s.add(new BA(a)),s}function El(a){const e=a.strings,t=new js;t.setId("sidebar");const s=new fA(a),n=new dt().add(new Od(a),s),i=new wA(a),r=new QA(a);return t.addTab("scene",e.getKey("sidebar/scene"),n),t.addTab("project",e.getKey("sidebar/project"),i),t.addTab("settings",e.getKey("sidebar/settings"),r),t.select("scene"),new ResizeObserver(function(){s.tabsDiv.setWidth(getComputedStyle(t.dom).width)}).observe(t.tabsDiv.dom),t}function SA(a){const e=a.strings,t=new ie;t.setClass("menu");const s=new ie;s.setClass("title"),s.setTextContent(e.getKey("menubar/add")),t.add(s);const n=new ie;n.setClass("options"),t.add(n);let i=new I;i.setClass("option"),i.setTextContent(e.getKey("menubar/add/group")),i.onClick(function(){const l=new ft;l.name="Group",a.execute(new ae(a,l))}),n.add(i);const r=new I().setTextContent(e.getKey("menubar/add/mesh")).addClass("option").addClass("submenu-title");r.onMouseOver(function(){const{top:l,right:u}=r.dom.getBoundingClientRect(),{paddingTop:m}=getComputedStyle(this.dom);o.setLeft(u+"px"),o.setTop(l-parseFloat(m)+"px"),o.setStyle("max-height",[`calc( 100vh - ${l}px )`]),o.setDisplay("block")}),r.onMouseOut(function(){o.setDisplay("none")}),n.add(r);const o=new ie().setPosition("fixed").addClass("options").setDisplay("none");r.add(o),i=new I,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/box")),i.onClick(function(){const l=new Me(1,1,1,1,1,1),u=new U(l,new ue);u.name="Box",a.execute(new ae(a,u))}),o.add(i),i=new I,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/capsule")),i.onClick(function(){const l=new Yn(1,1,4,8,1),u=new ue,m=new U(l,u);m.name="Capsule",a.execute(new ae(a,m))}),o.add(i),i=new I,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/circle")),i.onClick(function(){const l=new qn(1,32,0,Math.PI*2),u=new U(l,new ue);u.name="Circle",a.execute(new ae(a,u))}),o.add(i),i=new I,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/cylinder")),i.onClick(function(){const l=new Re(1,1,1,32,1,!1,0,Math.PI*2),u=new U(l,new ue);u.name="Cylinder",a.execute(new ae(a,u))}),o.add(i),i=new I,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/dodecahedron")),i.onClick(function(){const l=new zn(1,0),u=new U(l,new ue);u.name="Dodecahedron",a.execute(new ae(a,u))}),o.add(i),i=new I,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/icosahedron")),i.onClick(function(){const l=new Xn(1,0),u=new U(l,new ue);u.name="Icosahedron",a.execute(new ae(a,u))}),o.add(i),i=new I,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/lathe")),i.onClick(function(){const l=new Wn,u=new U(l,new ue({side:_s}));u.name="Lathe",a.execute(new ae(a,u))}),o.add(i),i=new I,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/octahedron")),i.onClick(function(){const l=new Pt(1,0),u=new U(l,new ue);u.name="Octahedron",a.execute(new ae(a,u))}),o.add(i),i=new I,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/plane")),i.onClick(function(){const l=new Ja(1,1,1,1),u=new ue,m=new U(l,u);m.name="Plane",a.execute(new ae(a,m))}),o.add(i),i=new I,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/ring")),i.onClick(function(){const l=new Zn(.5,1,32,1,0,Math.PI*2),u=new U(l,new ue);u.name="Ring",a.execute(new ae(a,u))}),o.add(i),i=new I,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/sphere")),i.onClick(function(){const l=new Jt(1,32,16,0,Math.PI*2,0,Math.PI),u=new U(l,new ue);u.name="Sphere",a.execute(new ae(a,u))}),o.add(i),i=new I,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/sprite")),i.onClick(function(){const l=new Bt(new Ts);l.name="Sprite",a.execute(new ae(a,l))}),o.add(i),i=new I,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/tetrahedron")),i.onClick(function(){const l=new $n(1,0),u=new U(l,new ue);u.name="Tetrahedron",a.execute(new ae(a,u))}),o.add(i),i=new I,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/torus")),i.onClick(function(){const l=new St(1,.4,12,48,Math.PI*2),u=new U(l,new ue);u.name="Torus",a.execute(new ae(a,u))}),o.add(i),i=new I,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/torusknot")),i.onClick(function(){const l=new ei(1,.4,64,8,2,3),u=new U(l,new ue);u.name="TorusKnot",a.execute(new ae(a,u))}),o.add(i),i=new I,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/mesh/tube")),i.onClick(function(){const l=new ti([new Z(2,2,-2),new Z(2,-2,-.6666666666666667),new Z(-2,-2,.6666666666666667),new Z(-2,2,2)]),u=new ai(l,64,1,8,!1),m=new U(u,new ue);m.name="Tube",a.execute(new ae(a,m))}),o.add(i);const d=new I().setTextContent(e.getKey("menubar/add/light")).addClass("option").addClass("submenu-title");d.onMouseOver(function(){const{top:l,right:u}=d.dom.getBoundingClientRect(),{paddingTop:m}=getComputedStyle(this.dom);A.setLeft(u+"px"),A.setTop(l-parseFloat(m)+"px"),A.setStyle("max-height",[`calc( 100vh - ${l}px )`]),A.setDisplay("block")}),d.onMouseOut(function(){A.setDisplay("none")}),n.add(d);const A=new ie().setPosition("fixed").addClass("options").setDisplay("none");d.add(A),i=new I,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/light/ambient")),i.onClick(function(){const u=new Nr(2236962);u.name="AmbientLight",a.execute(new ae(a,u))}),A.add(i),i=new I,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/light/directional")),i.onClick(function(){const m=new Vn(16777215,1);m.name="DirectionalLight",m.target.name="DirectionalLight Target",m.position.set(5,10,7.5),a.execute(new ae(a,m))}),A.add(i),i=new I,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/light/hemisphere")),i.onClick(function(){const p=new Ln(43775,16755200,1);p.name="HemisphereLight",p.position.set(0,10,0),a.execute(new ae(a,p))}),A.add(i),i=new I,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/light/point")),i.onClick(function(){const p=new Ns(16777215,1,0);p.name="PointLight",a.execute(new ae(a,p))}),A.add(i),i=new I,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/light/spot")),i.onClick(function(){const p=Math.PI*.1,h=0,b=new jn(16777215,1,0,p,h);b.name="SpotLight",b.target.name="SpotLight Target",b.position.set(5,10,7.5),a.execute(new ae(a,b))}),A.add(i);const c=new I().setTextContent(e.getKey("menubar/add/camera")).addClass("option").addClass("submenu-title");c.onMouseOver(function(){const{top:l,right:u}=c.dom.getBoundingClientRect(),{paddingTop:m}=getComputedStyle(this.dom);g.setLeft(u+"px"),g.setTop(l-parseFloat(m)+"px"),g.setStyle("max-height",[`calc( 100vh - ${l}px )`]),g.setDisplay("block")}),c.onMouseOut(function(){g.setDisplay("none")}),n.add(c);const g=new ie().setPosition("fixed").addClass("options").setDisplay("none");return c.add(g),i=new I,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/camera/orthographic")),i.onClick(function(){const l=a.camera.aspect,u=new Ls(-l,l);u.name="OrthographicCamera",a.execute(new ae(a,u))}),g.add(i),i=new I,i.setClass("option"),i.setTextContent(e.getKey("menubar/add/camera/perspective")),i.onClick(function(){const l=new Oa;l.name="PerspectiveCamera",a.execute(new ae(a,l))}),g.add(i),t}function xA(a){const e=a.strings,t=new ie;t.setClass("menu");const s=new ie;s.setClass("title"),s.setTextContent(e.getKey("menubar/edit")),t.add(s);const n=new ie;n.setClass("options"),t.add(n);const i=new I;i.setClass("option"),i.setTextContent(e.getKey("menubar/edit/undo")),i.add(new w("CTRL+Z").setClass("key")),i.onClick(function(){a.undo()}),n.add(i);const r=new I;r.setClass("option"),r.setTextContent(e.getKey("menubar/edit/redo")),r.add(new w("CTRL+SHIFT+Z").setClass("key")),r.onClick(function(){a.redo()}),n.add(r);function o(){const A=a.history;i.setClass("option"),r.setClass("option"),A.undos.length==0&&i.setClass("inactive"),A.redos.length==0&&r.setClass("inactive")}a.signals.historyChanged.add(o),o(),n.add(new Ua);let d=new I;return d.setClass("option"),d.setTextContent(e.getKey("menubar/edit/center")),d.onClick(function(){const A=a.selected;if(A===null||A.parent===null)return;const g=new Ya().setFromObject(A).getCenter(new Z),l=new Z;l.x=A.position.x-g.x,l.y=A.position.y-g.y,l.z=A.position.z-g.z,a.execute(new Wa(a,A,l))}),n.add(d),d=new I,d.setClass("option"),d.setTextContent(e.getKey("menubar/edit/clone")),d.onClick(function(){let A=a.selected;A===null||A.parent===null||(A=Ii(A),a.execute(new ae(a,A)))}),n.add(d),d=new I,d.setClass("option"),d.setTextContent(e.getKey("menubar/edit/delete")),d.add(new w("DEL").setClass("key")),d.onClick(function(){const A=a.selected;A!==null&&A.parent!==null&&a.execute(new Ks(a,A))}),n.add(d),t}function vA(a){const e=a.strings,t=a.utils.saveArrayBuffer,s=a.utils.saveString,n=new ie;n.setClass("menu");const i=new ie;i.setClass("title"),i.setTextContent(e.getKey("menubar/file")),n.add(i);const r=new ie;r.setClass("options"),n.add(r);const o=new I().setTextContent(e.getKey("menubar/file/new")).addClass("option").addClass("submenu-title");o.onMouseOver(function(){const{top:f,right:y}=this.dom.getBoundingClientRect(),{paddingTop:C}=getComputedStyle(this.dom);d.setLeft(y+"px"),d.setTop(f-parseFloat(C)+"px"),d.setDisplay("block")}),o.onMouseOut(function(){d.setDisplay("none")}),r.add(o);const d=new ie().setPosition("fixed").addClass("options").setDisplay("none");o.add(d);let A=new I().setTextContent(e.getKey("menubar/file/new/empty")).setClass("option");A.onClick(function(){confirm(e.getKey("prompt/file/open"))&&a.clear()}),d.add(A),d.add(new Ua);const c=[{title:"menubar/file/new/Arkanoid",file:"arkanoid.app.json"},{title:"menubar/file/new/Camera",file:"camera.app.json"},{title:"menubar/file/new/Particles",file:"particles.app.json"},{title:"menubar/file/new/Pong",file:"pong.app.json"},{title:"menubar/file/new/Shaders",file:"shaders.app.json"}],g=new qa;for(let f=0;f<c.length;f++)(function(y){const C=c[y],M=new I;M.setClass("option"),M.setTextContent(e.getKey(C.title)),M.onClick(function(){confirm(e.getKey("prompt/file/open"))&&g.load("examples/"+C.file,function(_){a.clear(),a.fromJSON(JSON.parse(_))})}),d.add(M)})(f);const l=document.createElement("form");l.style.display="none",document.body.appendChild(l);const u=document.createElement("input");u.multiple=!1,u.type="file",u.accept=".json",u.addEventListener("change",async function(){const f=u.files[0];if(f!==void 0)try{const y=JSON.parse(await f.text());async function C(){await a.fromJSON(y),a.signals.editorCleared.remove(C)}a.signals.editorCleared.add(C),a.clear()}catch(y){alert(e.getKey("prompt/file/failedToOpenProject")),console.error(y)}finally{m.reset()}}),l.appendChild(u),A=new I().addClass("option").setTextContent(e.getKey("menubar/file/open")).onClick(function(){confirm(e.getKey("prompt/file/open"))&&u.click()}),r.add(A),A=new I().addClass("option").setTextContent(e.getKey("menubar/file/save")).onClick(function(){const f=a.toJSON(),y=new Blob([JSON.stringify(f)],{type:"application/json"});a.utils.save(y,"project.json")}),r.add(A),r.add(new Ua);const m=document.createElement("form");m.style.display="none",document.body.appendChild(m);const p=document.createElement("input");p.multiple=!0,p.type="file",p.addEventListener("change",function(){a.loader.loadFiles(p.files),m.reset()}),m.appendChild(p),A=new I,A.setClass("option"),A.setTextContent(e.getKey("menubar/file/import")),A.onClick(function(){p.click()}),r.add(A);const h=new I().setTextContent(e.getKey("menubar/file/export")).addClass("option").addClass("submenu-title");h.onMouseOver(function(){const{top:f,right:y}=this.dom.getBoundingClientRect(),{paddingTop:C}=getComputedStyle(this.dom);b.setLeft(y+"px"),b.setTop(f-parseFloat(C)+"px"),b.setDisplay("block")}),h.onMouseOut(function(){b.setDisplay("none")}),r.add(h);const b=new ie().setPosition("fixed").addClass("options").setDisplay("none");h.add(b),A=new I,A.setClass("option"),A.setTextContent("DRC"),A.onClick(async function(){const f=a.selected;if(f===null||f.isMesh===void 0){alert(e.getKey("prompt/file/export/noMeshSelected"));return}const{DRACOExporter:y}=await te(async()=>{const{DRACOExporter:S}=await import("./DRACOExporter-Bd64kHRS.js");return{DRACOExporter:S}},__vite__mapDeps([26,1])),C=new y,M={decodeSpeed:5,encodeSpeed:5,encoderMethod:y.MESH_EDGEBREAKER_ENCODING,quantization:[16,8,8,8,8],exportUvs:!0,exportNormals:!0,exportColor:f.geometry.hasAttribute("color")},_=C.parse(f,M);t(_,"model.drc")}),b.add(A),A=new I,A.setClass("option"),A.setTextContent("GLB"),A.onClick(async function(){const f=a.scene,y=E(f),C=[];for(const S of y)C.push(S.clone().optimize());const{GLTFExporter:M}=await te(async()=>{const{GLTFExporter:S}=await import("./GLTFExporter-BD1MNiz6.js");return{GLTFExporter:S}},__vite__mapDeps([27,1]));new M().parse(f,function(S){t(S,"scene.glb")},void 0,{binary:!0,animations:C})}),b.add(A),A=new I,A.setClass("option"),A.setTextContent("GLTF"),A.onClick(async function(){const f=a.scene,y=E(f),C=[];for(const S of y)C.push(S.clone().optimize());const{GLTFExporter:M}=await te(async()=>{const{GLTFExporter:S}=await import("./GLTFExporter-BD1MNiz6.js");return{GLTFExporter:S}},__vite__mapDeps([27,1]));new M().parse(f,function(S){s(JSON.stringify(S,null,2),"scene.gltf")},void 0,{animations:C})}),b.add(A),A=new I,A.setClass("option"),A.setTextContent("OBJ"),A.onClick(async function(){const f=a.selected;if(f===null){alert(e.getKey("prompt/file/export/noObjectSelected"));return}const{OBJExporter:y}=await te(async()=>{const{OBJExporter:M}=await import("./OBJExporter-DlPNUV8f.js");return{OBJExporter:M}},__vite__mapDeps([28,1])),C=new y;s(C.parse(f),"model.obj")}),b.add(A),A=new I,A.setClass("option"),A.setTextContent("PLY"),A.onClick(async function(){const{PLYExporter:f}=await te(async()=>{const{PLYExporter:C}=await import("./PLYExporter-DcVfkFOQ.js");return{PLYExporter:C}},__vite__mapDeps([29,1]));new f().parse(a.scene,function(C){t(C,"model.ply")})}),b.add(A),A=new I,A.setClass("option"),A.setTextContent("PLY (BINARY)"),A.onClick(async function(){const{PLYExporter:f}=await te(async()=>{const{PLYExporter:C}=await import("./PLYExporter-DcVfkFOQ.js");return{PLYExporter:C}},__vite__mapDeps([29,1]));new f().parse(a.scene,function(C){t(C,"model-binary.ply")},{binary:!0})}),b.add(A),A=new I,A.setClass("option"),A.setTextContent("STL"),A.onClick(async function(){const{STLExporter:f}=await te(async()=>{const{STLExporter:C}=await import("./STLExporter-CcLL0skj.js");return{STLExporter:C}},__vite__mapDeps([30,1])),y=new f;s(y.parse(a.scene),"model.stl")}),b.add(A),A=new I,A.setClass("option"),A.setTextContent("STL (BINARY)"),A.onClick(async function(){const{STLExporter:f}=await te(async()=>{const{STLExporter:C}=await import("./STLExporter-CcLL0skj.js");return{STLExporter:C}},__vite__mapDeps([30,1])),y=new f;t(y.parse(a.scene,{binary:!0}),"model-binary.stl")}),b.add(A),A=new I,A.setClass("option"),A.setTextContent("USDZ"),A.onClick(async function(){const{USDZExporter:f}=await te(async()=>{const{USDZExporter:C}=await import("./USDZExporter-Be9iwlrc.js");return{USDZExporter:C}},__vite__mapDeps([31,1,3])),y=new f;t(await y.parseAsync(a.scene),"model.usdz")}),b.add(A);function E(f){const y=[];return f.traverse(function(C){y.push(...C.animations)}),y}return n}function MA(a){const e=a.signals,t=a.strings,s=new ie;s.setClass("menu");const n=new ie;n.setClass("title"),n.setTextContent(t.getKey("menubar/view")),s.add(n);const i=new ie;i.setClass("options"),s.add(i);const r={gridHelper:!0,cameraHelpers:!0,lightHelpers:!0,skeletonHelpers:!0};let o=new I().addClass("option").addClass("toggle").setTextContent(t.getKey("menubar/view/gridHelper")).onClick(function(){r.gridHelper=!r.gridHelper,this.toggleClass("toggle-on",r.gridHelper),e.showHelpersChanged.dispatch(r)}).toggleClass("toggle-on",r.gridHelper);return i.add(o),o=new I().addClass("option").addClass("toggle").setTextContent(t.getKey("menubar/view/cameraHelpers")).onClick(function(){r.cameraHelpers=!r.cameraHelpers,this.toggleClass("toggle-on",r.cameraHelpers),e.showHelpersChanged.dispatch(r)}).toggleClass("toggle-on",r.cameraHelpers),i.add(o),o=new I().addClass("option").addClass("toggle").setTextContent(t.getKey("menubar/view/lightHelpers")).onClick(function(){r.lightHelpers=!r.lightHelpers,this.toggleClass("toggle-on",r.lightHelpers),e.showHelpersChanged.dispatch(r)}).toggleClass("toggle-on",r.lightHelpers),i.add(o),o=new I().addClass("option").addClass("toggle").setTextContent(t.getKey("menubar/view/skeletonHelpers")).onClick(function(){r.skeletonHelpers=!r.skeletonHelpers,this.toggleClass("toggle-on",r.skeletonHelpers),e.showHelpersChanged.dispatch(r)}).toggleClass("toggle-on",r.skeletonHelpers),i.add(o),e.helperAdded.add(function(){e.showHelpersChanged.dispatch(r)}),i.add(new Ua),o=new I,o.setClass("option"),o.setTextContent(t.getKey("menubar/view/fullscreen")),o.onClick(function(){document.fullscreenElement===null?document.documentElement.requestFullscreen():document.exitFullscreen&&document.exitFullscreen(),document.webkitFullscreenElement===null?document.documentElement.webkitRequestFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}),i.add(o),"xr"in navigator&&("offerSession"in navigator.xr?e.offerXR.dispatch("immersive-ar"):navigator.xr.isSessionSupported("immersive-ar").then(function(d){if(d){const A=new I;A.setClass("option"),A.setTextContent("AR"),A.onClick(function(){e.enterXR.dispatch("immersive-ar")}),i.add(A)}else navigator.xr.isSessionSupported("immersive-vr").then(function(A){if(A){const c=new I;c.setClass("option"),c.setTextContent("VR"),c.onClick(function(){e.enterXR.dispatch("immersive-vr")}),i.add(c)}})})),s}const ji={Player:function(){let a;const e=new THREE.ObjectLoader;let t,s,n={};const i=document.createElement("div");this.dom=i,this.canvas=null,this.width=500,this.height=500,this.load=async function(h){const b=h.project;if(a!==void 0&&(a.dispose(),i.removeChild(a.domElement),this.canvas=null),b.renderer==="WebGPURenderer"){const{WebGPURenderer:M}=await te(async()=>{const{WebGPURenderer:_}=await import("./vendor-three-cPJTOjbb.js").then(S=>S.bK);return{WebGPURenderer:_}},[]);a=new M({antialias:!0,logarithmicDepthBuffer:!0}),await a.init()}else a=new THREE.WebGLRenderer({antialias:!0,logarithmicDepthBuffer:!0});a.setPixelRatio(window.devicePixelRatio),b.shadows!==void 0&&(a.shadowMap.enabled=b.shadows),b.shadowType!==void 0&&(a.shadowMap.type=b.shadowType),b.toneMapping!==void 0&&(a.toneMapping=b.toneMapping),b.toneMappingExposure!==void 0&&(a.toneMappingExposure=b.toneMappingExposure),i.appendChild(a.domElement),this.canvas=a.domElement,this.setScene(e.parse(h.scene)),this.setCamera(e.parse(h.camera)),n={init:[],start:[],stop:[],keydown:[],keyup:[],pointerdown:[],pointerup:[],pointermove:[],update:[]};let E="player,renderer,scene,camera";const f={};for(var y in n)E+=","+y,f[y]=y;const C=JSON.stringify(f).replace(/\"/g,"");for(let M in h.scripts){const _=s.getObjectByProperty("uuid",M,!0);if(_===void 0){console.warn("APP.Player: Script without object.",M);continue}const S=h.scripts[M];for(let v=0;v<S.length;v++){const B=S[v],G=new Function(E,B.source+`
return `+C+";").bind(_)(this,a,s,t);for(let j in G)if(G[j]!==void 0){if(n[j]===void 0){console.warn("APP.Player: Event type not supported (",j,")");continue}n[j].push(G[j].bind(_))}}}r(n.init,arguments)},this.setCamera=function(h){t=h,t.aspect=this.width/this.height,t.updateProjectionMatrix()},this.setScene=function(h){s=h},this.setPixelRatio=function(h){a.setPixelRatio(h)},this.setClearColor=function(h){a.setClearColor(h)},this.setSize=function(h,b){this.width=h,this.height=b,t&&(t.aspect=this.width/this.height,t.updateProjectionMatrix()),a&&a.setSize(h,b)};function r(h,b){for(let E=0,f=h.length;E<f;E++)h[E](b)}let o,d,A;function c(){o=performance.now();try{r(n.update,{time:o-d,delta:o-A})}catch(h){console.error(h.message||h,h.stack||"")}a.render(s,t),A=o}this.play=function(){d=A=performance.now(),document.addEventListener("keydown",g),document.addEventListener("keyup",l),document.addEventListener("pointerdown",u),document.addEventListener("pointerup",m),document.addEventListener("pointermove",p),r(n.start,arguments),a.setAnimationLoop(c)},this.stop=function(){document.removeEventListener("keydown",g),document.removeEventListener("keyup",l),document.removeEventListener("pointerdown",u),document.removeEventListener("pointerup",m),document.removeEventListener("pointermove",p),r(n.stop,arguments),a.setAnimationLoop(null)},this.render=function(h){r(n.update,{time:h*1e3,delta:0}),a.render(s,t)},this.dispose=function(){a&&a.dispose(),t=void 0,s=void 0};function g(h){r(n.keydown,h)}function l(h){r(n.keyup,h)}function u(h){r(n.pointerdown,h)}function m(h){r(n.pointerup,h)}function p(h){r(n.pointermove,h)}}};function DA(a){const e=a.strings,t=new ie;t.setClass("menu");const s=new ie;s.setClass("title"),s.setTextContent(e.getKey("menubar/render")),t.add(s);const n=new ie;n.setClass("options"),t.add(n);let i=new I;i.setClass("option"),i.setTextContent(e.getKey("menubar/render/image")),i.onClick(function(){r()}),n.add(i),"VideoEncoder"in window&&(i=new I,i.setClass("option"),i.setTextContent(e.getKey("menubar/render/video")),i.onClick(function(){o()}),n.add(i));function r(){const d=new RA(a,e);document.body.appendChild(d.dom)}function o(){const d=new _A(a,e);document.body.appendChild(d.dom)}return t}class RA{constructor(e,t){const s=document.createElement("div");s.className="Dialog",this.dom=s;const n=document.createElement("div");n.className="Dialog-background",n.addEventListener("click",()=>this.close()),s.appendChild(n);const i=document.createElement("div");i.className="Dialog-content",s.appendChild(i);const r=document.createElement("div");r.className="Dialog-title",r.textContent=t.getKey("menubar/render")+" "+t.getKey("menubar/render/image"),i.appendChild(r);const o=document.createElement("div");o.className="Dialog-body",i.appendChild(o);const d=new I;o.appendChild(d.dom),d.add(new w(t.getKey("sidebar/project/shading")).setClass("Label"));const A=new ke().setOptions({solid:"SOLID",realistic:"REALISTIC"}).setWidth("170px").onChange(m).setValue("solid");d.add(A);const c=3,g=65536,l=new re(16).setRange(c,g),u=new I;u.add(new w(t.getKey("sidebar/project/image/samples")).setClass("Label")),u.add(l),o.appendChild(u.dom);function m(){u.setHidden(A.getValue()!=="realistic")}m();const p=new I;o.appendChild(p.dom),p.add(new w(t.getKey("sidebar/project/resolution")).setClass("Label"));const h=new re(1024).setTextAlign("center").setWidth("28px");p.add(h),p.add(new w("").setTextAlign("center").setFontSize("12px").setWidth("12px"));const b=new re(1024).setTextAlign("center").setWidth("28px");p.add(b);const E=document.createElement("div");E.className="Dialog-buttons",o.appendChild(E);const f=new de(t.getKey("sidebar/project/render"));f.setWidth("80px"),f.onClick(async()=>{if(A.getValue()==="realistic"){let H=!0;if(e.scene.traverseVisible(F=>{if(F.isMesh){const D=Array.isArray(F.material)?F.material:[F.material];for(let k=0;k<D.length;k++)if(!D[k].isMeshStandardMaterial){H=!1;return}}}),H===!1){alert(t.getKey("prompt/rendering/realistic/unsupportedMaterial"));return}}const C=e.toJSON(),M=C.project,_=new Ct,S=await _.parseAsync(C.camera);S.aspect=h.getValue()/b.getValue(),S.updateProjectionMatrix(),S.updateMatrixWorld();const v=await _.parseAsync(C.scene),B=new(void 0)({antialias:!0,logarithmicDepthBuffer:!0});B.setSize(h.getValue(),b.getValue()),B.setClearColor(e.viewportColor),M.shadows!==void 0&&(B.shadowMap.enabled=M.shadows),M.shadowType!==void 0&&(B.shadowMap.type=M.shadowType),M.toneMapping!==void 0&&(B.toneMapping=M.toneMapping),M.toneMappingExposure!==void 0&&(B.toneMappingExposure=M.toneMappingExposure);const G=h.getValue()/window.devicePixelRatio,j=b.getValue()/window.devicePixelRatio,$=(screen.width-G)/2,Y=(screen.height-j)/2,W=window.open("","_blank",`location=no,left=${$},top=${Y},width=${G},height=${j}`),N=document.createElement("meta");N.name="viewport",N.content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0",W.document.head.appendChild(N),W.document.body.style.background="#000",W.document.body.style.margin="0px",W.document.body.style.overflow="hidden";const O=B.domElement;switch(O.style.width=G+"px",O.style.height=j+"px",W.document.body.appendChild(O),A.getValue()){case"solid":B.render(v,S),B.dispose();break;case"realistic":let k=function(){if(W.closed===!0)return;const q=Math.floor(F.getSamples())+1;q<D&&requestAnimationFrame(k),F.update();const P=Math.floor(q/D*100);H.textContent=`${q} / ${D} ( ${P}% )`,P===100&&(H.textContent+=" ")};const H=document.createElement("div");H.style.position="absolute",H.style.top="10px",H.style.left="10px",H.style.color="white",H.style.fontFamily="system-ui",H.style.fontSize="12px",W.document.body.appendChild(H);const F=new xi(B);F.init(v,S),F.setSize(h.getValue(),b.getValue());const D=Math.max(c,Math.min(g,l.getValue()));k();break}this.close()}),E.appendChild(f.dom);const y=new de(t.getKey("menubar/render/cancel"));y.setWidth("80px"),y.setMarginLeft("8px"),y.onClick(()=>this.close()),E.appendChild(y.dom)}close(){this.dom.remove()}}class _A{constructor(e,t){const s=document.createElement("div");s.className="Dialog",this.dom=s;const n=document.createElement("div");n.className="Dialog-background",n.addEventListener("click",()=>this.close()),s.appendChild(n);const i=document.createElement("div");i.className="Dialog-content",s.appendChild(i);const r=document.createElement("div");r.className="Dialog-title",r.textContent=t.getKey("menubar/render")+" "+t.getKey("menubar/render/video"),i.appendChild(r);const o=document.createElement("div");o.className="Dialog-body",i.appendChild(o);function d(){this.setValue(2*Math.floor(this.getValue()/2))}const A=new I;o.appendChild(A.dom),A.add(new w(t.getKey("sidebar/project/resolution")).setClass("Label"));const c=new re(1024).setTextAlign("center").setWidth("28px").setStep(2).onChange(d);A.add(c),A.add(new w("").setTextAlign("center").setFontSize("12px").setWidth("12px"));const g=new re(1024).setTextAlign("center").setWidth("28px").setStep(2).onChange(d);A.add(g);const l=new re(30).setTextAlign("center").setWidth("20px");A.add(l),A.add(new w("fps").setFontSize("12px"));const u=new I;u.add(new w(t.getKey("sidebar/project/duration")).setClass("Label")),o.appendChild(u.dom);const m=new re(10);u.add(m);const p=new I;p.add(new w(t.getKey("menubar/render/quality")).setClass("Label")),o.appendChild(p.dom);const h=new ke().setOptions({low:"Low",medium:"Medium",high:"High",ultra:"Ultra"}).setWidth("170px").setValue("high");p.add(h);const b=document.createElement("div");b.className="Dialog-buttons",o.appendChild(b);const E=new de(t.getKey("sidebar/project/render"));E.setWidth("80px"),E.onClick(async()=>{const y=new ji.Player;await y.load(e.toJSON()),y.setPixelRatio(1),y.setSize(c.getValue(),g.getValue()),y.setClearColor(e.viewportColor);const C=c.getValue()/window.devicePixelRatio,M=g.getValue()/window.devicePixelRatio,_=y.canvas;_.style.width=C+"px",_.style.height=M+"px";const S=(screen.width-C)/2,v=(screen.height-M)/2,B=window.open("","_blank",`location=no,left=${S},top=${v},width=${C},height=${M}`),G=document.createElement("meta");G.name="viewport",G.content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0",B.document.head.appendChild(G),B.document.body.style.background="#000",B.document.body.style.margin="0px",B.document.body.style.overflow="hidden",B.document.body.appendChild(_);const j=document.createElement("div");j.style.position="absolute",j.style.top="10px",j.style.left="10px",j.style.color="white",j.style.fontFamily="system-ui",j.style.fontSize="12px",j.style.textShadow="0 0 2px black",B.document.body.appendChild(j);const $=document.createElement("video");$.width=C,$.height=M,$.controls=!0,$.loop=!0,$.hidden=!0,B.document.body.appendChild($),B.addEventListener("unload",function(){$.src.startsWith("blob:")&&URL.revokeObjectURL($.src)});const Y=l.getValue(),N=m.getValue()*Y,O=[];let H=null;const F=new VideoEncoder({output:(P,V)=>{var Q;(Q=V==null?void 0:V.decoderConfig)!=null&&Q.description&&(H=new Uint8Array(V.decoderConfig.description));const K=new Uint8Array(P.byteLength);P.copyTo(K),O.push({data:K,timestamp:P.timestamp,type:P.type})},error:P=>console.error("VideoEncoder error:",P)}),D={low:2e6,medium:5e6,high:1e7,ultra:2e7};F.configure({codec:"avc1.640028",width:c.getValue(),height:g.getValue(),bitrate:D[h.getValue()],framerate:Y,avc:{format:"avc"}});let k=0,q=!1;for(let P=0;P<N;P++){if(B.closed){q=!0;break}y.render(k);const V=await createImageBitmap(_),K=new VideoFrame(V,{timestamp:P*(1e6/Y)});F.encode(K,{keyFrame:P%Y===0}),K.close(),V.close(),k+=1/Y;const Q=Math.floor((P+1)/N*100);j.textContent=`${P+1} / ${N} ( ${Q}% )`}if(!q){await F.flush(),F.close(),B.document.body.removeChild(_);const P=LA(O,H,c.getValue(),g.getValue(),Y);j.textContent=`${N} / ${N} ( 100% ) ${TA(P.byteLength)} `,$.src=URL.createObjectURL(new Blob([P],{type:"video/mp4"})),$.hidden=!1}y.dispose(),this.close()}),b.appendChild(E.dom);const f=new de(t.getKey("menubar/render/cancel"));f.setWidth("80px"),f.setMarginLeft("8px"),f.onClick(()=>this.close()),b.appendChild(f.dom)}close(){this.dom.remove()}}function LA(a,e,t,s,n){const r=9e4/n;function o(L){return new Uint8Array([L>>24&255,L>>16&255,L>>8&255,L&255])}function d(L){return new Uint8Array([L>>8&255,L&255])}function A(L){return new TextEncoder().encode(L)}function c(...L){const X=L.reduce((ee,se)=>ee+se.length,0),T=new Uint8Array(X);let z=0;for(const ee of L)T.set(ee,z),z+=ee.length;return T}function g(L,...X){const T=c(...X),z=T.length+8;return c(o(z),A(L),T)}function l(L,X,T,...z){return g(L,new Uint8Array([X,T>>16&255,T>>8&255,T&255]),...z)}const u=g("ftyp",A("isom"),o(512),A("isom"),A("iso2"),A("avc1"),A("mp41")),m=[],p=[];for(let L=0;L<a.length;L++)m.push(a[L].data.length),a[L].type==="key"&&p.push(L+1);let h=8;for(const L of a)h+=L.data.length;const b=g("avc1",new Uint8Array(6),d(1),new Uint8Array(16),d(t),d(s),o(4718592),o(4718592),o(0),d(1),new Uint8Array(32),d(24),new Uint8Array([255,255]),g("avcC",e)),E=l("stsd",0,0,o(1),b),f=l("stts",0,0,o(1),o(a.length),o(r)),y=l("stsc",0,0,o(1),o(1),o(a.length),o(1)),C=[o(0),o(a.length)];for(const L of m)C.push(o(L));const M=l("stsz",0,0,...C),_=l("stco",0,0,o(1),o(0)),S=[o(p.length)];for(const L of p)S.push(o(L));const v=l("stss",0,0,...S),B=g("stbl",E,f,y,M,_,v),G=l("dref",0,0,o(1),l("url ",0,1)),j=g("dinf",G),$=l("vmhd",0,1,new Uint8Array(8)),Y=g("minf",$,j,B),W=l("hdlr",0,0,o(0),A("vide"),new Uint8Array(12),A("VideoHandler"),new Uint8Array(1)),N=a.length*r,O=l("mdhd",0,0,o(0),o(0),o(9e4),o(N),d(21956),d(0)),H=g("mdia",O,W,Y),F=l("tkhd",0,3,o(0),o(0),o(1),o(0),o(N),new Uint8Array(8),d(0),d(0),d(0),d(0),o(65536),o(0),o(0),o(0),o(65536),o(0),o(0),o(0),o(1073741824),o(t<<16),o(s<<16)),D=g("trak",F,H),k=l("mvhd",0,0,o(0),o(0),o(9e4),o(N),o(65536),d(256),new Uint8Array(10),o(65536),o(0),o(0),o(0),o(65536),o(0),o(0),o(0),o(1073741824),new Uint8Array(24),o(2)),q=g("moov",k,D),P=u.length+q.length,V=new Uint8Array(q);for(let L=0;L<V.length-16;L++)if(V[L]===115&&V[L+1]===116&&V[L+2]===99&&V[L+3]===111){const X=P+8;V[L+12]=X>>24&255,V[L+13]=X>>16&255,V[L+14]=X>>8&255,V[L+15]=X&255;break}const K=o(h),Q=new Uint8Array(u.length+V.length+h);let R=0;Q.set(u,R),R+=u.length,Q.set(V,R),R+=V.length,Q.set(K,R),Q.set(A("mdat"),R+4),R+=8;for(const L of a)Q.set(L.data,R),R+=L.data.length;return Q}function TA(a,e=1024){if(a===0)return"0B";const t=[a,a/e,a/e/e].reverse(),s=["B","KB","MB"].reverse(),n=t.findIndex(i=>i>=1);return new Intl.NumberFormat("en-us",{useGrouping:!0,maximumFractionDigits:1}).format(t[n])+s[n]}function NA(a){const e=a.strings,t=new ie;t.setClass("menu");const s=new ie;s.setClass("title"),s.setTextContent(e.getKey("menubar/help")),t.add(s);const n=new ie;n.setClass("options"),t.add(n);let i=new I;return i.setClass("option"),i.setTextContent(e.getKey("menubar/help/source_code")),i.onClick(function(){window.open("https://github.com/mrdoob/three.js/tree/master/editor","_blank")}),n.add(i),i=new I,i.setClass("option"),i.setTextContent(e.getKey("menubar/help/about")),i.onClick(function(){window.open("https://threejs.org","_blank")}),n.add(i),i=new I,i.setClass("option"),i.setTextContent(e.getKey("menubar/help/manual")),i.onClick(function(){window.open("https://github.com/mrdoob/three.js/wiki/Editor-Manual","_blank")}),n.add(i),t}function GA(a){const e=a.strings,t=new ie;t.setClass("menu right");const s=new Ot(a.config.getKey("autosave"),e.getKey("menubar/status/autosave"));s.text.setColor("#888"),s.onChange(function(){const i=this.getValue();a.config.setKey("autosave",i),i===!0&&a.signals.sceneGraphChanged.dispatch()}),t.add(s),a.signals.savingStarted.add(function(){s.text.setTextDecoration("underline")}),a.signals.savingFinished.add(function(){s.text.setTextDecoration("none")});const n=new w("r"+Gr);return n.setClass("title"),n.setOpacity(.5),t.add(n),t}function Bl(a){const e=new ie;return e.setId("menubar"),e.add(new vA(a)),e.add(new xA(a)),e.add(new SA(a)),e.add(new MA(a)),e.add(new DA(a)),e.add(new NA(a)),e.add(new GA(a)),e}function Ql(a){const e=a.signals,t=new ie;t.setId("player"),t.setPosition("absolute"),t.setDisplay("none");const s=new ji.Player;return t.dom.appendChild(s.dom),window.addEventListener("resize",function(){s.setSize(t.dom.clientWidth,t.dom.clientHeight)}),e.windowResize.add(function(){s.setSize(t.dom.clientWidth,t.dom.clientHeight)}),e.startPlayer.add(async function(){t.setDisplay(""),await s.load(a.toJSON()),s.setSize(t.dom.clientWidth,t.dom.clientHeight),s.play()}),e.stopPlayer.add(function(){t.setDisplay("none"),s.stop(),s.dispose()}),t}function Sl(a){const e=a.signals,t=document.createElement("div");t.id="resizer";function s(r){r.isPrimary!==!1&&(t.ownerDocument.addEventListener("pointermove",i),t.ownerDocument.addEventListener("pointerup",n))}function n(r){r.isPrimary!==!1&&(t.ownerDocument.removeEventListener("pointermove",i),t.ownerDocument.removeEventListener("pointerup",n))}function i(r){if(r.isPrimary===!1)return;const o=document.body.offsetWidth,d=r.clientX,A=d<0?0:d>o?o:d,c=Math.max(335,o-A);t.style.right=c+"px",document.getElementById("sidebar").style.width=c+"px",document.getElementById("player").style.right=c+"px",document.getElementById("script").style.right=c+"px",document.getElementById("viewport").style.right=c+"px",e.windowResize.dispatch()}return t.addEventListener("pointerdown",s),new xe(t)}function kA(a,e){const t=a.strings,s=a.signals,n=new le,r=e.geometry.parameters,o=new I,d=new J().setPrecision(3).setValue(r.width).onChange(y);o.add(new w(t.getKey("sidebar/geometry/box_geometry/width")).setClass("Label")),o.add(d),n.add(o);const A=new I,c=new J().setPrecision(3).setValue(r.height).onChange(y);A.add(new w(t.getKey("sidebar/geometry/box_geometry/height")).setClass("Label")),A.add(c),n.add(A);const g=new I,l=new J().setPrecision(3).setValue(r.depth).onChange(y);g.add(new w(t.getKey("sidebar/geometry/box_geometry/depth")).setClass("Label")),g.add(l),n.add(g);const u=new I,m=new re(r.widthSegments).setRange(1,1/0).onChange(y);u.add(new w(t.getKey("sidebar/geometry/box_geometry/widthseg")).setClass("Label")),u.add(m),n.add(u);const p=new I,h=new re(r.heightSegments).setRange(1,1/0).onChange(y);p.add(new w(t.getKey("sidebar/geometry/box_geometry/heightseg")).setClass("Label")),p.add(h),n.add(p);const b=new I,E=new re(r.depthSegments).setRange(1,1/0).onChange(y);b.add(new w(t.getKey("sidebar/geometry/box_geometry/depthseg")).setClass("Label")),b.add(E),n.add(b);function f(){const C=e.geometry.parameters;d.setValue(C.width),c.setValue(C.height),l.setValue(C.depth),m.setValue(C.widthSegments),h.setValue(C.heightSegments),E.setValue(C.depthSegments)}s.geometryChanged.add(function(C){C===e&&f()});function y(){a.execute(new Be(a,e,new Me(d.getValue(),c.getValue(),l.getValue(),m.getValue(),h.getValue(),E.getValue())))}return n}const jA=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:kA},Symbol.toStringTag,{value:"Module"}));function VA(a,e){const t=a.strings,s=a.signals,n=new le,r=e.geometry.parameters,o=new I,d=new J(r.radius).onChange(E);o.add(new w(t.getKey("sidebar/geometry/capsule_geometry/radius")).setClass("Label")),o.add(d),n.add(o);const A=new I,c=new J(r.height).onChange(E);A.add(new w(t.getKey("sidebar/geometry/capsule_geometry/height")).setClass("Label")),A.add(c),n.add(A);const g=new I,l=new re(r.capSegments).setRange(1,1/0).onChange(E);g.add(new w(t.getKey("sidebar/geometry/capsule_geometry/capseg")).setClass("Label")),g.add(l),n.add(g);const u=new I,m=new re(r.radialSegments).setRange(1,1/0).onChange(E);u.add(new w(t.getKey("sidebar/geometry/capsule_geometry/radialseg")).setClass("Label")),u.add(m),n.add(u);const p=new I,h=new re(r.heightSegments).setRange(1,1/0).onChange(E);p.add(new w(t.getKey("sidebar/geometry/capsule_geometry/heightseg")).setClass("Label")),p.add(h),n.add(p);function b(){const f=e.geometry.parameters;d.setValue(f.radius),c.setValue(f.height),l.setValue(f.capSegments),m.setValue(f.radialSegments),h.setValue(f.heightSegments)}s.geometryChanged.add(function(f){f===e&&b()});function E(){a.execute(new Be(a,e,new Yn(d.getValue(),c.getValue(),l.getValue(),m.getValue(),h.getValue())))}return n}const FA=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:VA},Symbol.toStringTag,{value:"Module"}));function KA(a,e){const t=a.strings,s=a.signals,n=new le,r=e.geometry.parameters,o=new I,d=new J(r.radius).onChange(h);o.add(new w(t.getKey("sidebar/geometry/circle_geometry/radius")).setClass("Label")),o.add(d),n.add(o);const A=new I,c=new re(r.segments).setRange(3,1/0).onChange(h);A.add(new w(t.getKey("sidebar/geometry/circle_geometry/segments")).setClass("Label")),A.add(c),n.add(A);const g=new I,l=new J(r.thetaStart*ne.RAD2DEG).setUnit("").setStep(10).onChange(h);g.add(new w(t.getKey("sidebar/geometry/circle_geometry/thetastart")).setClass("Label")),g.add(l),n.add(g);const u=new I,m=new J(r.thetaLength*ne.RAD2DEG).setUnit("").setStep(10).onChange(h);u.add(new w(t.getKey("sidebar/geometry/circle_geometry/thetalength")).setClass("Label")),u.add(m),n.add(u);function p(){const b=e.geometry.parameters;d.setValue(b.radius),c.setValue(b.segments),l.setValue(b.thetaStart*ne.RAD2DEG),m.setValue(b.thetaLength*ne.RAD2DEG)}s.geometryChanged.add(function(b){b===e&&p()});function h(){a.execute(new Be(a,e,new qn(d.getValue(),c.getValue(),l.getValue()*ne.DEG2RAD,m.getValue()*ne.DEG2RAD)))}return n}const PA=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:KA},Symbol.toStringTag,{value:"Module"}));function UA(a,e){const t=a.strings,s=a.signals,n=new le,r=e.geometry.parameters,o=new I,d=new J(r.radiusTop).onChange(y);o.add(new w(t.getKey("sidebar/geometry/cylinder_geometry/radiustop")).setClass("Label")),o.add(d),n.add(o);const A=new I,c=new J(r.radiusBottom).onChange(y);A.add(new w(t.getKey("sidebar/geometry/cylinder_geometry/radiusbottom")).setClass("Label")),A.add(c),n.add(A);const g=new I,l=new J(r.height).onChange(y);g.add(new w(t.getKey("sidebar/geometry/cylinder_geometry/height")).setClass("Label")),g.add(l),n.add(g);const u=new I,m=new re(r.radialSegments).setRange(1,1/0).onChange(y);u.add(new w(t.getKey("sidebar/geometry/cylinder_geometry/radialsegments")).setClass("Label")),u.add(m),n.add(u);const p=new I,h=new re(r.heightSegments).setRange(1,1/0).onChange(y);p.add(new w(t.getKey("sidebar/geometry/cylinder_geometry/heightsegments")).setClass("Label")),p.add(h),n.add(p);const b=new I,E=new We(r.openEnded).onChange(y);b.add(new w(t.getKey("sidebar/geometry/cylinder_geometry/openended")).setClass("Label")),b.add(E),n.add(b);function f(){const C=e.geometry.parameters;d.setValue(C.radiusTop),c.setValue(C.radiusBottom),l.setValue(C.height),m.setValue(C.radialSegments),h.setValue(C.heightSegments),E.setValue(C.openEnded)}s.geometryChanged.add(function(C){C===e&&f()});function y(){a.execute(new Be(a,e,new Re(d.getValue(),c.getValue(),l.getValue(),m.getValue(),h.getValue(),E.getValue())))}return n}const OA=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:UA},Symbol.toStringTag,{value:"Module"}));function HA(a,e){const t=a.strings,s=a.signals,n=new le,r=e.geometry.parameters,o=new I,d=new J(r.radius).onChange(l);o.add(new w(t.getKey("sidebar/geometry/dodecahedron_geometry/radius")).setClass("Label")),o.add(d),n.add(o);const A=new I,c=new re(r.detail).setRange(0,1/0).onChange(l);A.add(new w(t.getKey("sidebar/geometry/dodecahedron_geometry/detail")).setClass("Label")),A.add(c),n.add(A);function g(){const u=e.geometry.parameters;d.setValue(u.radius),c.setValue(u.detail)}s.geometryChanged.add(function(u){u===e&&g()});function l(){a.execute(new Be(a,e,new zn(d.getValue(),c.getValue())))}return n}const JA=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:HA},Symbol.toStringTag,{value:"Module"}));function YA(a,e){const t=a.strings,s=a.signals,n=new le,r=e.geometry.parameters,o=r.options;o.curveSegments=o.curveSegments!=null?o.curveSegments:12,o.steps=o.steps!=null?o.steps:1,o.depth=o.depth!=null?o.depth:1;const d=o.bevelThickness!==void 0?o.bevelThickness:.2;o.bevelThickness=d,o.bevelSize=o.bevelSize!==void 0?o.bevelSize:d-.1,o.bevelOffset=o.bevelOffset!==void 0?o.bevelOffset:0,o.bevelSegments=o.bevelSegments!==void 0?o.bevelSegments:3;const A=new I,c=new re(o.curveSegments).onChange(j).setRange(1,1/0);A.add(new w(t.getKey("sidebar/geometry/extrude_geometry/curveSegments")).setClass("Label")),A.add(c),n.add(A);const g=new I,l=new re(o.steps).onChange(j).setRange(1,1/0);g.add(new w(t.getKey("sidebar/geometry/extrude_geometry/steps")).setClass("Label")),g.add(l),n.add(g);const u=new I,m=new J(o.depth).onChange(j).setRange(1,1/0);u.add(new w(t.getKey("sidebar/geometry/extrude_geometry/depth")).setClass("Label")),u.add(m),n.add(u);const p=new I,h=new We(o.bevelEnabled).onChange(j);p.add(new w(t.getKey("sidebar/geometry/extrude_geometry/bevelEnabled")).setClass("Label")),p.add(h),n.add(p);const b=new I,E=new J(o.bevelThickness).onChange(j);b.add(new w(t.getKey("sidebar/geometry/extrude_geometry/bevelThickness")).setClass("Label")),b.add(E),n.add(b);const f=new I,y=new J(o.bevelSize).onChange(j);f.add(new w(t.getKey("sidebar/geometry/extrude_geometry/bevelSize")).setClass("Label")),f.add(y),n.add(f);const C=new I,M=new J(o.bevelOffset).onChange(j);C.add(new w(t.getKey("sidebar/geometry/extrude_geometry/bevelOffset")).setClass("Label")),C.add(M),n.add(C);const _=new I,S=new re(o.bevelSegments).onChange(j).setRange(0,1/0);_.add(new w(t.getKey("sidebar/geometry/extrude_geometry/bevelSegments")).setClass("Label")),_.add(S),n.add(_),B(o.bevelEnabled);const v=new de(t.getKey("sidebar/geometry/extrude_geometry/shape")).onClick($).setClass("Label").setMarginLeft("120px");n.add(v);function B(Y){Y===!0?(b.setDisplay(""),f.setDisplay(""),C.setDisplay(""),_.setDisplay("")):(b.setDisplay("none"),f.setDisplay("none"),C.setDisplay("none"),_.setDisplay("none"))}function G(){const Y=e.geometry.parameters.options;c.setValue(Y.curveSegments),l.setValue(Y.steps),m.setValue(Y.depth),h.setValue(Y.bevelEnabled),E.setValue(Y.bevelThickness),y.setValue(Y.bevelSize),M.setValue(Y.bevelOffset),S.setValue(Y.bevelSegments),B(Y.bevelEnabled)}s.geometryChanged.add(function(Y){Y===e&&G()});function j(){B(h.getValue()),a.execute(new Be(a,e,new si(r.shapes,{curveSegments:c.getValue(),steps:l.getValue(),depth:m.getValue(),bevelEnabled:h.getValue(),bevelThickness:E!==void 0?E.getValue():o.bevelThickness,bevelSize:y!==void 0?y.getValue():o.bevelSize,bevelOffset:M!==void 0?M.getValue():o.bevelOffset,bevelSegments:S!==void 0?S.getValue():o.bevelSegments})))}function $(){a.execute(new Be(a,e,new Rs(r.shapes,o.curveSegments)))}return n}const qA=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:YA},Symbol.toStringTag,{value:"Module"}));function zA(a,e){const t=a.strings,s=a.signals,n=new le,r=e.geometry.parameters,o=new I,d=new J(r.radius).onChange(l);o.add(new w(t.getKey("sidebar/geometry/icosahedron_geometry/radius")).setClass("Label")),o.add(d),n.add(o);const A=new I,c=new re(r.detail).setRange(0,1/0).onChange(l);A.add(new w(t.getKey("sidebar/geometry/icosahedron_geometry/detail")).setClass("Label")),A.add(c),n.add(A);function g(){const u=e.geometry.parameters;d.setValue(u.radius),c.setValue(u.detail)}s.geometryChanged.add(function(u){u===e&&g()});function l(){a.execute(new Be(a,e,new Xn(d.getValue(),c.getValue())))}return n}const XA=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:zA},Symbol.toStringTag,{value:"Module"}));function WA(a,e){const t=a.strings,s=a.signals,n=new le,r=e.geometry.parameters,o=new I,d=new re(r.segments).onChange(h);o.add(new w(t.getKey("sidebar/geometry/lathe_geometry/segments")).setClass("Label")),o.add(d),n.add(o);const A=new I,c=new J(r.phiStart*ne.RAD2DEG).onChange(h);A.add(new w(t.getKey("sidebar/geometry/lathe_geometry/phistart")).setClass("Label")),A.add(c),n.add(A);const g=new I,l=new J(r.phiLength*ne.RAD2DEG).onChange(h);g.add(new w(t.getKey("sidebar/geometry/lathe_geometry/philength")).setClass("Label")),g.add(l),n.add(g);const u=new I;u.add(new w(t.getKey("sidebar/geometry/lathe_geometry/points")).setClass("Label"));const m=new Kd().setValue(r.points).onChange(h);u.add(m),n.add(u);function p(){const b=e.geometry.parameters;m.setValue(b.points,!1),d.setValue(b.segments),c.setValue(b.phiStart*ne.RAD2DEG),l.setValue(b.phiLength*ne.RAD2DEG)}s.geometryChanged.add(function(b){b===e&&p()});function h(){a.execute(new Be(a,e,new Wn(m.getValue(),d.getValue(),c.getValue()*ne.DEG2RAD,l.getValue()*ne.DEG2RAD)))}return n}const ZA=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:WA},Symbol.toStringTag,{value:"Module"}));function $A(a,e){const t=a.strings,s=a.signals,n=new le,r=e.geometry.parameters,o=new I,d=new J(r.radius).onChange(l);o.add(new w(t.getKey("sidebar/geometry/octahedron_geometry/radius")).setClass("Label")),o.add(d),n.add(o);const A=new I,c=new re(r.detail).setRange(0,1/0).onChange(l);A.add(new w(t.getKey("sidebar/geometry/octahedron_geometry/detail")).setClass("Label")),A.add(c),n.add(A);function g(){const u=e.geometry.parameters;d.setValue(u.radius),c.setValue(u.detail)}s.geometryChanged.add(function(u){u===e&&g()});function l(){a.execute(new Be(a,e,new Pt(d.getValue(),c.getValue())))}return n}const el=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:$A},Symbol.toStringTag,{value:"Module"}));function tl(a,e){const t=a.strings,s=a.signals,n=new le,r=e.geometry.parameters,o=new I,d=new J(r.width).onChange(h);o.add(new w(t.getKey("sidebar/geometry/plane_geometry/width")).setClass("Label")),o.add(d),n.add(o);const A=new I,c=new J(r.height).onChange(h);A.add(new w(t.getKey("sidebar/geometry/plane_geometry/height")).setClass("Label")),A.add(c),n.add(A);const g=new I,l=new re(r.widthSegments).setRange(1,1/0).onChange(h);g.add(new w(t.getKey("sidebar/geometry/plane_geometry/widthsegments")).setClass("Label")),g.add(l),n.add(g);const u=new I,m=new re(r.heightSegments).setRange(1,1/0).onChange(h);u.add(new w(t.getKey("sidebar/geometry/plane_geometry/heightsegments")).setClass("Label")),u.add(m),n.add(u);function p(){const b=e.geometry.parameters;d.setValue(b.width),c.setValue(b.height),l.setValue(b.widthSegments),m.setValue(b.heightSegments)}s.geometryChanged.add(function(b){b===e&&p()});function h(){a.execute(new Be(a,e,new Ja(d.getValue(),c.getValue(),l.getValue(),m.getValue())))}return n}const al=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:tl},Symbol.toStringTag,{value:"Module"}));function sl(a,e){const t=a.strings,s=a.signals,n=new le,r=e.geometry.parameters,o=new I,d=new J(r.innerRadius).onChange(y);o.add(new w(t.getKey("sidebar/geometry/ring_geometry/innerRadius")).setClass("Label")),o.add(d),n.add(o);const A=new I,c=new J(r.outerRadius).onChange(y);A.add(new w(t.getKey("sidebar/geometry/ring_geometry/outerRadius")).setClass("Label")),A.add(c),n.add(A);const g=new I,l=new re(r.thetaSegments).setRange(3,1/0).onChange(y);g.add(new w(t.getKey("sidebar/geometry/ring_geometry/thetaSegments")).setClass("Label")),g.add(l),n.add(g);const u=new I,m=new re(r.phiSegments).setRange(3,1/0).onChange(y);u.add(new w(t.getKey("sidebar/geometry/ring_geometry/phiSegments")).setClass("Label")),u.add(m),n.add(u);const p=new I,h=new J(r.thetaStart*ne.RAD2DEG).setUnit("").setStep(10).onChange(y);p.add(new w(t.getKey("sidebar/geometry/ring_geometry/thetastart")).setClass("Label")),p.add(h),n.add(p);const b=new I,E=new J(r.thetaLength*ne.RAD2DEG).setUnit("").setStep(10).onChange(y);b.add(new w(t.getKey("sidebar/geometry/ring_geometry/thetalength")).setClass("Label")),b.add(E),n.add(b);function f(){const C=e.geometry.parameters;d.setValue(C.innerRadius),c.setValue(C.outerRadius),l.setValue(C.thetaSegments),m.setValue(C.phiSegments),h.setValue(C.thetaStart*ne.RAD2DEG),E.setValue(C.thetaLength*ne.RAD2DEG)}s.geometryChanged.add(function(C){C===e&&f()});function y(){a.execute(new Be(a,e,new Zn(d.getValue(),c.getValue(),l.getValue(),m.getValue(),h.getValue()*ne.DEG2RAD,E.getValue()*ne.DEG2RAD)))}return n}const nl=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:sl},Symbol.toStringTag,{value:"Module"}));function il(a,e){const t=a.strings,s=a.signals,n=new le,r=e.geometry.parameters,o=new I,d=new re(r.curveSegments||12).onChange(g).setRange(1,1/0);o.add(new w(t.getKey("sidebar/geometry/shape_geometry/curveSegments")).setClass("Label")),o.add(d),n.add(o);const A=new de(t.getKey("sidebar/geometry/shape_geometry/extrude")).onClick(l).setClass("Label").setMarginLeft("120px");n.add(A);function c(){const u=e.geometry.parameters;d.setValue(u.curveSegments)}s.geometryChanged.add(function(u){u===e&&c()});function g(){a.execute(new Be(a,e,new Rs(r.shapes,d.getValue())))}function l(){a.execute(new Be(a,e,new si(r.shapes,{curveSegments:d.getValue()})))}return n}const rl=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:il},Symbol.toStringTag,{value:"Module"}));function ol(a,e){const t=a.strings,s=a.signals,n=new le,r=e.geometry.parameters,o=new I,d=new J(r.radius).onChange(M);o.add(new w(t.getKey("sidebar/geometry/sphere_geometry/radius")).setClass("Label")),o.add(d),n.add(o);const A=new I,c=new re(r.widthSegments).setRange(1,1/0).onChange(M);A.add(new w(t.getKey("sidebar/geometry/sphere_geometry/widthsegments")).setClass("Label")),A.add(c),n.add(A);const g=new I,l=new re(r.heightSegments).setRange(1,1/0).onChange(M);g.add(new w(t.getKey("sidebar/geometry/sphere_geometry/heightsegments")).setClass("Label")),g.add(l),n.add(g);const u=new I,m=new J(r.phiStart*ne.RAD2DEG).setUnit("").setStep(10).onChange(M);u.add(new w(t.getKey("sidebar/geometry/sphere_geometry/phistart")).setClass("Label")),u.add(m),n.add(u);const p=new I,h=new J(r.phiLength*ne.RAD2DEG).setUnit("").setStep(10).onChange(M);p.add(new w(t.getKey("sidebar/geometry/sphere_geometry/philength")).setClass("Label")),p.add(h),n.add(p);const b=new I,E=new J(r.thetaStart*ne.RAD2DEG).setUnit("").setStep(10).onChange(M);b.add(new w(t.getKey("sidebar/geometry/sphere_geometry/thetastart")).setClass("Label")),b.add(E),n.add(b);const f=new I,y=new J(r.thetaLength*ne.RAD2DEG).setUnit("").setStep(10).onChange(M);f.add(new w(t.getKey("sidebar/geometry/sphere_geometry/thetalength")).setClass("Label")),f.add(y),n.add(f);function C(){const _=e.geometry.parameters;d.setValue(_.radius),c.setValue(_.widthSegments),l.setValue(_.heightSegments),m.setValue(_.phiStart*ne.RAD2DEG),h.setValue(_.phiLength*ne.RAD2DEG),E.setValue(_.thetaStart*ne.RAD2DEG),y.setValue(_.thetaLength*ne.RAD2DEG)}s.geometryChanged.add(function(_){_===e&&C()});function M(){a.execute(new Be(a,e,new Jt(d.getValue(),c.getValue(),l.getValue(),m.getValue()*ne.DEG2RAD,h.getValue()*ne.DEG2RAD,E.getValue()*ne.DEG2RAD,y.getValue()*ne.DEG2RAD)))}return n}const dl=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:ol},Symbol.toStringTag,{value:"Module"}));function Al(a,e){const t=a.strings,s=a.signals,n=new le,r=e.geometry.parameters,o=new I,d=new J(r.radius).onChange(l);o.add(new w(t.getKey("sidebar/geometry/tetrahedron_geometry/radius")).setClass("Label")),o.add(d),n.add(o);const A=new I,c=new re(r.detail).setRange(0,1/0).onChange(l);A.add(new w(t.getKey("sidebar/geometry/tetrahedron_geometry/detail")).setClass("Label")),A.add(c),n.add(A);function g(){const u=e.geometry.parameters;d.setValue(u.radius),c.setValue(u.detail)}s.geometryChanged.add(function(u){u===e&&g()});function l(){a.execute(new Be(a,e,new $n(d.getValue(),c.getValue())))}return n}const ll=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:Al},Symbol.toStringTag,{value:"Module"}));function cl(a,e){const t=a.strings,s=a.signals,n=new le,r=e.geometry.parameters,o=new I,d=new J(r.radius).onChange(E);o.add(new w(t.getKey("sidebar/geometry/torus_geometry/radius")).setClass("Label")),o.add(d),n.add(o);const A=new I,c=new J(r.tube).onChange(E);A.add(new w(t.getKey("sidebar/geometry/torus_geometry/tube")).setClass("Label")),A.add(c),n.add(A);const g=new I,l=new re(r.radialSegments).setRange(1,1/0).onChange(E);g.add(new w(t.getKey("sidebar/geometry/torus_geometry/radialsegments")).setClass("Label")),g.add(l),n.add(g);const u=new I,m=new re(r.tubularSegments).setRange(1,1/0).onChange(E);u.add(new w(t.getKey("sidebar/geometry/torus_geometry/tubularsegments")).setClass("Label")),u.add(m),n.add(u);const p=new I,h=new J(r.arc*ne.RAD2DEG).setUnit("").setStep(10).onChange(E);p.add(new w(t.getKey("sidebar/geometry/torus_geometry/arc")).setClass("Label")),p.add(h),n.add(p);function b(){const f=e.geometry.parameters;d.setValue(f.radius),c.setValue(f.tube),l.setValue(f.radialSegments),m.setValue(f.tubularSegments),h.setValue(f.arc*ne.RAD2DEG)}s.geometryChanged.add(function(f){f===e&&b()});function E(){a.execute(new Be(a,e,new St(d.getValue(),c.getValue(),l.getValue(),m.getValue(),h.getValue()*ne.DEG2RAD)))}return n}const gl=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:cl},Symbol.toStringTag,{value:"Module"}));function ul(a,e){const t=a.strings,s=a.signals,n=new le,r=e.geometry.parameters,o=new I,d=new J(r.radius).onChange(y);o.add(new w(t.getKey("sidebar/geometry/torusKnot_geometry/radius")).setClass("Label")),o.add(d),n.add(o);const A=new I,c=new J(r.tube).onChange(y);A.add(new w(t.getKey("sidebar/geometry/torusKnot_geometry/tube")).setClass("Label")),A.add(c),n.add(A);const g=new I,l=new re(r.tubularSegments).setRange(1,1/0).onChange(y);g.add(new w(t.getKey("sidebar/geometry/torusKnot_geometry/tubularsegments")).setClass("Label")),g.add(l),n.add(g);const u=new I,m=new re(r.radialSegments).setRange(1,1/0).onChange(y);u.add(new w(t.getKey("sidebar/geometry/torusKnot_geometry/radialsegments")).setClass("Label")),u.add(m),n.add(u);const p=new I,h=new re(r.p).onChange(y);p.add(new w(t.getKey("sidebar/geometry/torusKnot_geometry/p")).setClass("Label")),p.add(h),n.add(p);const b=new I,E=new re(r.q).onChange(y);b.add(new w(t.getKey("sidebar/geometry/torusKnot_geometry/q")).setClass("Label")),b.add(E),n.add(b);function f(){const C=e.geometry.parameters;d.setValue(C.radius),c.setValue(C.tube),l.setValue(C.tubularSegments),m.setValue(C.radialSegments),h.setValue(C.p),E.setValue(C.q)}s.geometryChanged.add(function(C){C===e&&f()});function y(){a.execute(new Be(a,e,new ei(d.getValue(),c.getValue(),l.getValue(),m.getValue(),h.getValue(),E.getValue())))}return n}const ml=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:ul},Symbol.toStringTag,{value:"Module"}));function hl(a,e){const t=a.strings,s=a.signals,n=new le,r=e.geometry.parameters,o=new I;o.add(new w(t.getKey("sidebar/geometry/tube_geometry/path")).setClass("Label"));const d=new Pd().setValue(r.path.points).onChange(M);o.add(d),n.add(o);const A=new I,c=new J(r.radius).onChange(M);A.add(new w(t.getKey("sidebar/geometry/tube_geometry/radius")).setClass("Label")),A.add(c),n.add(A);const g=new I,l=new re(r.tubularSegments).onChange(M);g.add(new w(t.getKey("sidebar/geometry/tube_geometry/tubularsegments")).setClass("Label")),g.add(l),n.add(g);const u=new I,m=new re(r.radialSegments).onChange(M);u.add(new w(t.getKey("sidebar/geometry/tube_geometry/radialsegments")).setClass("Label")),u.add(m),n.add(u);const p=new I,h=new We(r.closed).onChange(M);p.add(new w(t.getKey("sidebar/geometry/tube_geometry/closed")).setClass("Label")),p.add(h),n.add(p);const b=new I,E=new ke().setOptions({centripetal:"centripetal",chordal:"chordal",catmullrom:"catmullrom"}).setValue(r.path.curveType).onChange(M);b.add(new w(t.getKey("sidebar/geometry/tube_geometry/curvetype")).setClass("Label"),E),n.add(b);const f=new I().setDisplay(E.getValue()=="catmullrom"?"":"none"),y=new J(r.path.tension).setStep(.01).onChange(M);f.add(new w(t.getKey("sidebar/geometry/tube_geometry/tension")).setClass("Label"),y),n.add(f);function C(){const _=e.geometry.parameters;l.setValue(_.tubularSegments),c.setValue(_.radius),m.setValue(_.radialSegments),h.setValue(_.closed),d.setValue(_.path.points,!1),E.setValue(_.path.curveType),y.setValue(_.path.tension),f.setDisplay(E.getValue()=="catmullrom"?"":"none")}s.geometryChanged.add(function(_){_===e&&C()});function M(){f.setDisplay(E.getValue()=="catmullrom"?"":"none"),a.execute(new Be(a,e,new ai(new ti(d.getValue(),h.getValue(),E.getValue(),y.getValue()),l.getValue(),c.getValue(),m.getValue(),h.getValue())))}return n}const pl=Object.freeze(Object.defineProperty({__proto__:null,GeometryParametersPanel:hl},Symbol.toStringTag,{value:"Module"}));export{Vr as C,wo as E,Bl as M,Ql as P,Sl as R,El as S,wl as T,Il as V,yl as a,ni as b,xt as s,ho as u,mo as z};
