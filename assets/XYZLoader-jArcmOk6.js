import"./three-module-Bzb5U4JC.js";import{a4 as u,a6 as f,o as F,Z as d,u as m,F as i}from"./three-core-S_L7YPKV.js";class A extends u{load(l,n,t,o){const a=this,s=new f(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(l,function(r){try{n(a.parse(r))}catch(e){o?o(e):console.error(e),a.manager.itemError(l)}},t,o)}parse(l){const n=l.split(`
`),t=[],o=[],a=new F;for(let r of n){if(r=r.trim(),r.charAt(0)==="#")continue;const e=r.split(/\s+/);if(e.length===3&&(t.push(parseFloat(e[0])),t.push(parseFloat(e[1])),t.push(parseFloat(e[2]))),e.length===6){t.push(parseFloat(e[0])),t.push(parseFloat(e[1])),t.push(parseFloat(e[2]));const p=parseFloat(e[3])/255,c=parseFloat(e[4])/255,h=parseFloat(e[5])/255;a.setRGB(p,c,h,d),o.push(a.r,a.g,a.b)}}const s=new m;return s.setAttribute("position",new i(t,3)),o.length>0&&s.setAttribute("color",new i(o,3)),s}}export{A as XYZLoader};
